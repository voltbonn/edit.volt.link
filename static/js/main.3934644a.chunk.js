(this["webpackJsonpedit.volt.link"]=this["webpackJsonpedit.volt.link"]||[]).push([[2],{102:function(e,t,n){"use strict";var r=n(18),c=n(8),a=n.n(c),o=n(1),i=n(89),s=n(53);t.a=function(){var e=Object(i.a)(),t=Object(o.useCallback)((function(t){return new Promise((function(n){e.query({query:s.d,variables:t}).then(function(){var e=Object(r.a)(a.a.mark((function e(t){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.errors,c=t.data,!(Array.isArray(r)&&r.length>0)){e.next=5;break}throw r;case 5:if(!Array.isArray(c.blocks)){e.next=9;break}n(c.blocks),e.next=10;break;case 9:throw new Error("Unknown error while loading blocks.");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("error",t),n([]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}),[e]);return t}},105:function(e,t,n){"use strict";var r=n(4),c=n(5),a=n(1),o=n(143),i=n(0),s=function(e){var t=e.className,n=e.emojiClassName,s=void 0===n?"emoji":n,l=e.style,u=e.emoji,d=void 0===u?"":u,b=Object(a.useState)({__html:""}),j=Object(c.a)(b,2),p=j[0],f=j[1];return Object(a.useEffect)((function(){if("string"===typeof d&&d.length>0){var e=o.a.parse(d,{folder:"svg",ext:".svg",className:s,base:"/public/twemoji/assets/"});f({__html:e})}else f({__html:""})}),[d,s,f]),Object(i.jsx)("span",{className:t,style:Object(r.a)({fontSize:0},l),dangerouslySetInnerHTML:p})};t.a=Object(a.memo)(s)},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(4),c=n(18),a=n(5),o=n(8),i=n.n(o),s=n(1),l=n(150),u=n.n(l),d=n(364),b=n(365),j=n(366),p=n(50),f=n(97),O=n(66),h=n(76),v=n(89),m=n(53),g=n(0);function x(e){e.title;var t=e.block,n=void 0===t?{}:t,o=e.rightActions,l=e.notificationBanner,x=Object(f.e)(),y=x.open,_=x.toggleSidebar,k=Object(v.a)(),w=n?n._id:null,S=n?n.parent:null,I=Object(s.useState)([]),C=Object(a.a)(I,2),A=C[0],N=C[1],B=Object(s.useCallback)((function(e){k.query({query:m.e,variables:{_id:e}}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"!==typeof(n=t.data).error&&n.blocks?(r=(n.blocks||[]).sort((function(e,t){return t.computed.sort-e.computed.sort})),N(r)):(console.error(n.error),N([]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("error",t),N([]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[k,N]);Object(s.useEffect)((function(){w&&B(w)}),[w,S,B]);var E=Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{style:{flexGrow:"1",display:"flex",alignItems:"center",height:"32px"},children:[y?Object(g.jsx)(p.b,{to:"/",children:Object(g.jsx)("button",{className:"text hasIcon",style:{margin:"0 calc(-2 * var(--basis)) 0 0"},children:Object(g.jsx)(d.a,{className:"icon"})})}):Object(g.jsx)("button",{onClick:_,className:"text hasIcon",style:{margin:"0 calc(-2 * var(--basis)) 0 0"},children:Object(g.jsx)(b.a,{className:"icon"})}),Object(g.jsx)("span",{style:{margin:"var(--basis_x2)",opacity:"var(--alpha)"},children:"/"}),w&&A.length>0?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.a,{trigger:function(e){return Object(g.jsx)("button",Object(r.a)(Object(r.a)({},e),{},{className:"text",style:{margin:"0 calc(-2 * var(--basis))"},children:Object(g.jsx)(j.a,{style:{verticalAlign:"middle"}})}))},children:Object(g.jsx)("div",{style:{padding:"var(--basis_x2)"},children:A.map((function(e){return Object(g.jsx)(O.a,{block:e,size:"line"},e._id)}))})}),Object(g.jsx)("span",{style:{margin:"var(--basis_x2)",opacity:"var(--alpha)"},children:"/"})]}):null,Object(g.jsx)(O.a,{block:n,size:"line",parentProps:{style:{flexGrow:"0",margin:"0 calc(-2 * var(--basis))"}}},n)]})});return Object(g.jsxs)("header",{className:u.a.header,children:[Object(g.jsxs)("div",{className:u.a.headerBar,children:[E,o]}),l?Object(g.jsx)("div",{className:u.a.notificationBanner,children:l}):null]})}},128:function(e,t,n){e.exports={drag_over:"DataTransmat_drag_over__3XVzh",drag_active:"DataTransmat_drag_active__2nwCM"}},130:function(e,t,n){"use strict";var r=n(18),c=n(4),a=n(8),o=n.n(a),i=n(1),s=n(17),l=n(89),u=n(47),d=n(85);function b(e,t){for(var n in(e=JSON.parse(JSON.stringify(e))).hasOwnProperty(t)&&delete e[t],e)e.hasOwnProperty(n)&&"object"==typeof e[n]&&null!==e[n]&&b(e[n],t);return e}t.a=function(){var e=Object(s.c)().getString,t=Object(l.a)(),n=Object(d.b)(),a=n.enqueueSnackbar,j=n.closeSnackbar,p=Object(i.useCallback)((function(n){return new Promise((function(i){var s=null,l=Object(c.a)({},n);(l=b(l,"__typename")).hasOwnProperty("content")&&Array.isArray(l.content)&&(l.content=l.content.map((function(e){return{blockId:e.blockId}})));var d=new Promise((function(n){t.mutate({mutation:u.c,variables:{block:l}}).then(function(){var t=Object(r.a)(o.a.mark((function t(r){var c,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=r.data,n("got-data"),null!==s&&j(s),"string"===typeof c.error?"no_edit_permission"===c.error?a(e("path_editor_edit_permission_error"),{variant:"error",preventDuplicate:!0,autoHideDuration:2e3}):a(""+c.error,{variant:"error",preventDuplicate:!0,autoHideDuration:2e3}):(l=c.saveBlock,i(l),a(e("path_editor_status_saved"),{variant:"success",preventDuplicate:!1,autoHideDuration:2e3}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=Object(r.a)(o.a.mark((function t(r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.error(r),n("got-error"),null!==s&&j(s),a(e("path_editor_status_error_while_saving",{error:r.message}),{variant:"error",preventDuplicate:!0,autoHideDuration:2e3});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));Promise.race([new Promise((function(e){setTimeout((function(){e("show-loading")}),300)})),d]).then((function(t){"show-loading"===t&&(s=a(e("path_editor_status_started_saving"),{persist:!0,preventDuplicate:!0}))})).catch(console.error)}))}),[a,j,t,e]);return p}},131:function(e,t,n){"use strict";var r=n(15),c=n(18),a=n(5),o=n(8),i=n.n(o),s=n(1),l=n.n(s),u=n(23),d=n(50),b=n(230),j=n(234),p=n(351),f=n(233),O=n(473),h=n(353),v=n(354),m=n(360),g=n(355),x=n(356),y=n(358),_=n(231),k=n(232),w=n(437),S=n(438),I=n(439),C=n(440),A=n(441),N=n(442),B=n(443),E=n(444),R=n(445),P=n(446),L=n(447),T=n(448),D=n(17),$=n(37),F=n(136),q=n(68),M=n(76),V=n(4),z=n(374),H=n(476),W=n(436),U=n(208),G=n(0);function J(e){var t=e.name,n=void 0===t?"":t,r=e.disabled,c=void 0!==r&&r,o=e.label,i=void 0===o?"":o,u=e.triggerProps,d=void 0===u?{}:u,b=e.onToggle,p=void 0===b?null:b,f=e.open,O=void 0!==f&&f,h=e.children,v=Object(s.useRef)(null),m=function(e){var t=l.a.useRef(!1);l.a.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]);var n=l.a.useState(),r=Object(a.a)(n,2),c=r[0],o=r[1];return l.a.useLayoutEffect((function(){!0===t.current&&o(e.current.getBoundingClientRect())}),[e]),Object(U.a)(e,(function(e){!0===t.current&&o(e.contentRect)})),c}(v),g=Object(s.useCallback)((function(){!0!==c&&"function"===typeof p&&p({name:n})}),[c,p,n]),x={};return x=!0===O?{margin:"var(--basis)",boxShadow:"0 var(--basis_x0_5) var(--basis_x4) 0 rgba(var(--on-background-rgb), 0.4)",padding:"8px 0",background:"var(--background-contrast)"}:{margin:"0",boxShadow:"none",background:"transparent"},Object(G.jsxs)(z.a,{sx:Object(V.a)({color:"var(--on-background)",overflow:"hidden",transition:"padding var(--timing), margin var(--timing), box-shadow var(--timing)",borderRadius:"var(--basis_x2)"},x),children:[null!==i?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(H.a,{onClick:g,style:{whiteSpace:"nowrap",lineHeight:"1",margin:"0",padding:"0",backgroundColor:"transparent",color:"var(--on-background)"},children:Object(G.jsxs)(j.a,Object(V.a)(Object(V.a)({},d),{},{disabled:c,className:"roundMenuItem",style:Object(V.a)({display:"flex",justifyContent:"space-between"},d.style),children:[Object(G.jsx)("div",{style:{display:"flex"},children:i}),Object(G.jsx)(W.a,{style:{marginRight:"-10px",transition:"transform var(--timing)",transform:!0===O?"rotate(90deg)":""}})]}))}),!0===O?Object(G.jsx)("div",{style:{height:"12px"}}):null]}):null,Object(G.jsx)("div",{style:{height:null===m||void 0===m?void 0:m.height,overflow:"hidden",transition:"height var(--timing)"},children:Object(G.jsx)("div",{ref:v,children:!0===O?h:""})})]})}n(236);var K=n(47),X=n(142),Y={button:Object(G.jsx)(h.a,{}),text:Object(G.jsx)(v.a,{}),image:Object(G.jsx)(m.a,{}),code:Object(G.jsx)(g.a,{}),divider:Object(G.jsx)(x.a,{}),page:Object(G.jsx)(y.a,{}),redirect:Object(G.jsx)(_.a,{}),poster:Object(G.jsx)(k.a,{})},Z=["button","text","image","code","divider","page","redirect","poster"],Q={default:"var(--on-background)",yellow:"var(--yellow)",green:"var(--green)",red:"var(--red)",blue:"var(--blue)"},ee=Object.keys(Q);function te(e){if(Q.hasOwnProperty(e))return Q[e];var t=Object($.getBlockColor)({properties:{color:e}}).color;return t||e}t.a=Object(D.d)((function(e){var t=e.block,n=void 0===t?{}:t,o=e.getString,l=e.trigger,h=e.onToogle,v=e.saveType,m=e.saveProperty,g=e.typeOptions,x=void 0===g?Z:g,y=(e.onRemoveRow,e.addRowBefore,e.onArchivedToggle),_=void 0===y?null:y,k=e.onReloadContext,V=void 0===k?null:k,z=Object(q.a)(),H=z.loggedIn,W=z.userroles;n.hasOwnProperty("properties")&&"object"===typeof n.properties&&null!==n.properties&&!Array.isArray(n.properties)||(n.properties={});var U=n._id,Q=void 0===U?"":U,ne=n.type,re=void 0===ne?"":ne,ce=n.properties,ae=void 0===ce?{}:ce,oe=n.computed,ie=void 0===oe?{}:oe,se=ae.active,le=void 0===se||se,ue=ae.text_style,de=void 0===ue?null:ue,be=ae.text_decorations,je=void 0===be?[]:be,pe=ae.color,fe=void 0===pe?null:pe;Array.isArray(je)||(je=[]);var Oe=(null===ie?{}:ie).roles,he=void 0===Oe?[]:Oe,ve=H&&(W.includes("admin")||he.includes("owner")||he.includes("editor")),me=Object(s.useState)(!0===ae.archived),ge=Object(a.a)(me,2),xe=ge[0],ye=ge[1],_e=Object(F.a)(),ke=Object(s.useState)(null),we=Object(a.a)(ke,2),Se=we[0],Ie=we[1],Ce=Object(s.useCallback)((function(e){Ie((function(t){return t===e?null:e}))}),[]),Ae=Object(X.a)(),Ne=Object(u.g)(),Be=(Object(s.useCallback)(function(){var e=Object(c.a)(i.a.mark((function e(t){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.type,e.prev=1,!("string"===typeof n&&n.length>0)){e.next=12;break}return e.next=5,Ae({mutation:K.c,variables:{block:{type:n}}});case 5:if(r=e.sent,null===(c=r.saveBlock)){e.next=12;break}return e.next=10,Ae({mutation:K.b,variables:{movingBlockId:c,newParentId:Q,newIndex:0}});case 10:"function"===typeof V&&V(),Ne("/".concat(c,"/edit"));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),[Ae,Q,V,Ne]),Object(s.useCallback)((function(){var e=!xe;_e({_id:n._id,archive:e}).then((function(){ye(e),"function"===typeof _&&_(e),"function"===typeof V&&V()})).catch(console.error)}),[_e,ye,xe,n,_,V])),Ee=Object(s.useCallback)((function(){"function"===typeof m&&m("active",!le)}),[le,m]),Re=n.metadata||{},Pe=Object($.getBlockColor)(n).color;Pe||(Pe="transparent");var Le=Object(s.useCallback)((function(e){var t=Object(r.a)(new Set(je));je.includes(e)?t=t.filter((function(t){return t!==e})):t.push(e),m("text_decorations",t)}),[je,m]);return Object(G.jsx)(M.a,{trigger:l,onToogle:h,children:function(e){e.open;return Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{style:{height:"8px"}}),ve&&"function"===typeof v&&Array.isArray(x)&&x.length>0&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(J,{disabled:"person"===re,name:"type",open:"type"===Se,onToggle:function(e){var t=e.name;return Ce(t)},label:Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(b.a,{children:Object(G.jsx)(w.a,{})}),Object(G.jsx)(D.a,{id:"block_menu_choose_type_label"})]}),children:x.map((function(e){return Object(G.jsxs)(j.a,{selected:e===re,onClick:function(){return v(e)},className:"roundMenuItem",children:[Object(G.jsx)(b.a,{children:Y[e]}),o("block_menu_type_label_".concat(e),e)]},e)}))}),Object(G.jsx)(p.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}})]}),ve&&"function"===typeof m&&Object(G.jsxs)(J,{name:"color",open:"color"===Se,onToggle:function(e){var t=e.name;return Ce(t)},label:Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(b.a,{children:Object(G.jsx)(S.a,{style:{color:te(fe)}})}),Object(G.jsx)(D.a,{id:"block_menu_choose_color_label"})]}),children:[ee.map((function(e){return Object(G.jsxs)(j.a,{selected:"default"===e?null===fe:fe===e,onClick:function(){return m("color","default"===e?null:e)},className:"roundMenuItem",children:[Object(G.jsx)(b.a,{children:Object(G.jsx)(I.a,{style:{color:te(e)}})}),e]},e)})),Object(G.jsxs)(j.a,{className:"roundMenuItem",selected:null!==fe&&!ee.includes(fe),children:[Object(G.jsx)(b.a,{children:Object(G.jsx)(I.a,{style:{color:Pe}})}),Object(G.jsx)("input",{type:"text",placeholder:"#FFFFFF",defaultValue:fe,onBlur:function(e){return m("color",e.target.value)},style:{width:"160px",margin:"0 calc(-1 * var(--basis)) 0 0"}},ee.includes(fe)?fe:"custom")]})]}),ve&&"function"===typeof m&&"text"===re&&Object(G.jsx)(J,{name:"text_style",open:"text_style"===Se,onToggle:function(e){var t=e.name;return Ce(t)},label:Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(b.a,{children:Object(G.jsx)(C.a,{})}),Object(G.jsx)(D.a,{id:"block_menu_choose_text_style_label"})]}),children:["h2","h3","body"].map((function(e){return Object(G.jsx)(j.a,{selected:"body"===e?null===de:de===e,onClick:function(){return m("text_style","body"===e?null:e)},className:"roundMenuItem",children:o("block_menu_text_style_label_".concat(e),e)},e)}))}),ve&&"function"===typeof m&&"text"===re&&Object(G.jsx)(J,{name:"text_decorations",open:"text_decorations"===Se,onToggle:function(e){var t=e.name;return Ce(t)},label:Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(b.a,{children:Object(G.jsx)(A.a,{})}),Object(G.jsx)(D.a,{id:"block_menu_choose_text_decorations_label"})]}),children:["checkbox"].map((function(e){var t=je.includes(e);return Object(G.jsxs)(j.a,{selected:t,onClick:function(){return Le(e)},className:"roundMenuItem",children:[Object(G.jsx)(b.a,{children:t?Object(G.jsx)(N.a,{}):Object(G.jsx)(N.a,{style:{opacity:0}})}),o("block_menu_text_decoration_label_".concat(e),e)]},e)}))}),ve&&"function"===typeof m&&Object(G.jsx)(p.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}}),!1,ve&&"function"===typeof m&&Object(G.jsxs)(j.a,{className:"roundMenuItem",onClick:Ee,children:[Object(G.jsx)(b.a,{children:le?Object(G.jsx)(B.a,{}):Object(G.jsx)(E.a,{})}),Object(G.jsx)(f.a,{primary:Object(G.jsx)("span",{children:le?Object(G.jsx)(D.a,{id:"block_menu_hide"}):Object(G.jsx)(D.a,{id:"block_menu_show"})}),secondary:Object(G.jsx)("span",{style:{whiteSpace:"normal"},children:Object(G.jsx)(D.a,{id:"block_menu_hide_show_description"})})})]}),ve&&"function"===typeof _&&Object(G.jsxs)(j.a,{className:"roundMenuItem",onClick:Be,children:[Object(G.jsx)(b.a,{children:!0===xe?Object(G.jsx)(R.a,{}):Object(G.jsx)(P.a,{})}),!0===xe?Object(G.jsx)(D.a,{id:"block_menu_unarchive"}):Object(G.jsx)(D.a,{id:"block_menu_archive"})]}),("function"===typeof m||"function"===typeof _)&&Object(G.jsx)(p.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}}),"string"===typeof Q&&""!==Q&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(j.a,{component:d.b,to:"/".concat(Q,"/view"),className:"roundMenuItem",style:{marginTop:"8px"},children:[Object(G.jsx)(b.a,{children:Object(G.jsx)(L.a,{})}),Object(G.jsx)(D.a,{id:"view_block"})]}),ve&&Object(G.jsxs)(j.a,{component:d.b,to:"/".concat(Q,"/edit"),className:"roundMenuItem",children:[Object(G.jsx)(b.a,{children:Object(G.jsx)(T.a,{})}),Object(G.jsx)(D.a,{id:"edit_block"})]}),Object(G.jsx)(p.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}})]}),Object(G.jsx)(O.a,{sx:{paddingTop:"0",paddingBottom:"0"},children:Object(G.jsx)(f.a,{primary:Object(G.jsx)("span",{children:Object(G.jsx)(D.a,{id:"block_menu_info_modified"})}),secondary:Object(G.jsx)("span",{children:(Re.modified||"").replace(/[TZ]/g," ")})})}),Object(G.jsx)(O.a,{sx:{paddingTop:"0",paddingBottom:"0"},children:Object(G.jsx)(f.a,{primary:Object(G.jsx)("span",{children:Object(G.jsx)(D.a,{id:"block_menu_info_id"})}),secondary:Object(G.jsx)("span",{children:Q})})})]})}})}))},136:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(1),c=n(89),a=n(47);function o(){var e=Object(c.a)();return Object(r.useCallback)((function(t){var n=t.ids,r=t.archive;return e.mutate({mutation:r?a.a:a.d,variables:{ids:n}})}),[e])}t.a=function(){var e=Object(c.a)();return Object(r.useCallback)((function(t){var n=t._id,r=t.archive;return e.mutate({mutation:r?a.a:a.d,variables:{ids:[n]}})}),[e])}},142:function(e,t,n){"use strict";var r=n(1),c=n(89);t.a=function(){var e=Object(c.a)();return Object(r.useCallback)((function(t){return new Promise((function(n,r){e.mutate(t).then((function(e){var t=e.data;"string"===typeof t.error?r(t.error):n(t)})).catch(r)}))}),[e])}},150:function(e,t,n){e.exports={header:"Header_header__3mObx",headerBar:"Header_headerBar__2YU41",notificationBanner:"Header_notificationBanner__104SP"}},151:function(e,t,n){e.exports={reactionButton:"ReactionButton_reactionButton__iHGkG",selected:"ReactionButton_selected___YxTx",emoji:"ReactionButton_emoji__3d99A"}},160:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return x}));var r=n(16),c=n(13),a=n(5),o=n(18),i=n(8),s=n.n(i),l=n(1),u=n(112),d=n(129),b=n(107),j=n(0),p={de:"Deutsch (German)",en:"English",it:"Italiano (Italian)",se:"Davvis\xe1megiella (Northern S\xe1mi)",lt:"Lietuvi\u0161kai (Lithuanian)",fr:"Fran\xe7ais (French)",es:"Espa\xf1ol (Spanish)",nl:"Dutch (Nederlands)"},f=Object.keys(p),O="en";function h(e){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(s.a.mark((function e(t){var r,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(343)("./"+t+".ftl");case 2:return r=e.sent,e.next=5,fetch(r.default);case 5:return a=e.sent,e.next=8,a.text();case 8:return o=e.sent,e.abrupt("return",Object(c.a)({},t,new d.b(o)));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(h));case 2:return n=e.sent,c=n.reduce((function(e,t){return Object.assign(e,t)})),e.abrupt("return",s.a.mark((function e(){var n,a,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(r.a)(t),e.prev=1,n.s();case 3:if((a=n.n()).done){e.next=11;break}return o=a.value,(i=new d.a(o)).addResource(c[o]),e.next=9,i;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){var t=e.userLocales,n=e.children,r=e.onLocaleChange,c=Object(l.useState)(function(){var e=new d.a("");return e.addResource(new d.b("")),new u.c([e])}()),i=Object(a.a)(c,2),p=i[0],h=i[1];return Object(l.useEffect)((function(){function e(){return(e=Object(o.a)(s.a.mark((function e(){var n,c,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(b.negotiateLanguages)(t,f,{defaultLocale:O}),r&&r(n),e.next=4,m(n);case 4:c=e.sent,(a=new u.c(c())).userLocales=t,a.defaultLocale=O,a.supportedLocales=f,h(a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,r]),p?Object(j.jsx)(u.a,{l10n:p,children:n}):Object(j.jsx)("div",{children:"Loading texts\u2026"})}},163:function(e,t,n){e.exports={app:"App_app__3hbGO",isStartpage:"App_isStartpage__1Q6rs"}},164:function(e,t,n){e.exports={main:"Sidebar_main__1MCX5",open:"Sidebar_open__gnBQb"}},167:function(e,t,n){var r=n(107).negotiateLanguages;function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["en"],n=Object.keys(e);if(0===n.length)return null;var c=r(t,n,{defaultLocale:n[0],strategy:"lookup"});return 0===c.length?null:e[c[0]]}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["en"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"locale",c=e.map((function(e){return e[n]})).filter(Boolean);if(0===c.length)return null;var a=r(t,c,{defaultLocale:c[0],strategy:"lookup"});return 0===a.length?null:e.filter((function(e){return e[n]===a[0]}))}e.exports={fluentByObject:c,fluentByArray:a,fluentByAny:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["en"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(Array.isArray(e)){var r=a(e,t);Array.isArray(r)&&r.length>0&&(e=r[0].value)}else"object"===typeof e&&(e=c(e,t));return"string"!==typeof e&&(e=n),e}}},17:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h}));var r=n(15),c=n(16),a=n(4),o=n(1),i=n.n(o),s=n(112),l=n(107),u=n(62),d=n(167),b=n.n(d),j=n(0),p=function(e){return Object(j.jsx)(s.b,Object(a.a)(Object(a.a)({},e),{},{elems:Object(a.a)({br:Object(j.jsx)("br",{})},e.elems),children:Object(j.jsx)(i.a.Fragment,{children:e.children})}),e.id)};function f(e){return function(t){var n=i.a.useContext(u.a);return i.a.createElement(e,Object(a.a)({fluentByObject:function(e,t){if(t||(t=null),e){var r,a=n.supportedLocales||[],o=Object.keys(e).filter((function(e){return a.includes(e)})),i=Object(l.negotiateLanguages)(n.userLocales,o,{defaultLocale:n.defaultLocale}),s=Object(c.a)(i);try{for(s.s();!(r=s.n()).done;){var u=r.value;if(e[u])return e[u]}}catch(d){s.e(d)}finally{s.f()}return t}return t},getString:function(e,t,r){return n.getString(e,t,r||"")}},t))}}function O(e,t,n){var c=e.properties||{},a=c.locale||"en",o=c.text||n||"";t&&Array.isArray(t)||(t=[a]);var i=c.translations||[];if(Array.isArray(i)){i=[{locale:a,text:o}].concat(Object(r.a)(i));var s=b.a.fluentByArray(i,t,"locale");s.length>0&&(o=s[0].text)}return o}function h(){var e=i.a.useContext(u.a);return Object(a.a)(Object(a.a)({},e),{},{userLocales:e.userLocales||[],getString:function(t,n,r){return e.getString(t,n,r||" ")},fluentByAny:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return b.a.fluentByAny(t,e.userLocales,n)},translateBlock:O})}},187:function(e,t,n){"use strict";var r=n(4),c=n(5),a=n(1),o=n(370),i=n(349),s=n(0);t.a=function(e){var t=e.trigger,n=e.children,l=void 0===n?function(){}:n,u=e.onToogle,d=void 0===u?function(){}:u,b=e.setOpenBlockMenuRef,j=Object(a.useRef)(null),p=Object(a.useState)(!1),f=Object(c.a)(p,2),O=f[0],h=f[1],v=Object(a.useCallback)((function(e){h(e)}),[h]);Object(a.useEffect)((function(){b&&(b.current=v)}),[v,b]);var m=function(){d(!1),h(!1)},g=O?"popover-"+(Math.random()+1).toString(36).substring(7):void 0;return Object(s.jsxs)(s.Fragment,{children:[t({ref:j,"aria-describedby":g,onClick:function(){h((function(e){return d(!e),!e}))},style:{pointerEvents:O?"none":"all"}},{isOpen:O}),Object(s.jsx)("div",{onClick:m,style:{display:O?"block":"none",position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:1299,cursor:"pointer"}}),Object(s.jsx)(o.a,{id:g,open:O,anchorEl:j.current,transition:!0,placement:"bottom-start",disablePortal:!1,modifiers:[{name:"flip",enabled:!0,options:{altBoundary:!0,rootBoundary:"viewport",padding:8}}],style:{zIndex:1300},children:function(e){var t=e.TransitionProps;return Object(s.jsx)(i.a,Object(r.a)(Object(r.a)({},t),{},{children:Object(s.jsx)("div",{children:l&&"function"===typeof l?l({open:O,style:{transformOrigin:"top left"},closePopover:m}):null})}))}})]})}},205:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(4),c=n(24),a=n(361),o=n(231),i=n(362),s=n(232),l=n(363),u=n(105),d=n(37),b=n(57),j=n.n(b),p=n(1),f=n(0),O=["block","style","className"];function h(e){var t=e.block,n=e.style,b=void 0===n?{}:n,h=e.className,v=void 0===h?"":h,m=Object(c.a)(e,O),g=(null===t||void 0===t?void 0:t.type)||"page",x=t.properties||{},y=null,_=!1,k="poster"!==g;if(k&&x.hasOwnProperty("icon")&&"object"===typeof x.icon&&null!==x.icon&&!Array.isArray(x.icon)&&x.icon.hasOwnProperty("type")&&"string"===typeof x.icon.type&&("emoji"===x.icon.type&&x.icon.hasOwnProperty("emoji")&&"string"===typeof x.icon.emoji&&0!==x.icon.emoji.length&&(y=Object(p.createElement)(u.a,Object(r.a)(Object(r.a)({},m),{},{style:b,key:x.icon.emoji,className:"".concat(j.a.icon," ").concat(v),emoji:x.icon.emoji}))),null===y&&"file"===x.icon.type&&x.icon.hasOwnProperty("fileId")&&"string"===typeof x.icon.fileId&&0!==x.icon.fileId.length)){var w=x.icon.fileId;y=Object(f.jsx)("div",Object(r.a)(Object(r.a)({},m),{},{className:"".concat(j.a.icon," ").concat(_?j.a.square:j.a.round," ").concat(v),style:Object(r.a)(Object(r.a)({},b),{},{backgroundImage:"url(".concat(window.domains.storage,"download_file/?f=").concat(window.imageFormat||"jpg","&w=40&h=40&id=").concat(encodeURIComponent(w),")")}),alt:""}))}if(null===y){var S=k?Object(d.getImageUrl)(x.icon,{width:40,height:40}):null;S||(_=!0,S=Object(d.getImageUrl)(x.coverphoto,{width:40,height:40})),"string"===typeof S&&0!==S.length&&(y=Object(f.jsx)("div",Object(r.a)(Object(r.a)({},m),{},{className:"".concat(j.a.icon," ").concat(_?j.a.square:j.a.round," ").concat(v),style:Object(r.a)(Object(r.a)({},b),{},{backgroundImage:"url(".concat(S,")"),backgroundSize:"poster"===g?"contain":"cover"}),alt:""})))}if(null===y)switch(t.type){case"person":y=Object(f.jsx)(a.a,Object(r.a)(Object(r.a)({},m),{},{style:b,className:"".concat(j.a.icon," ").concat(v)}));break;case"redirect":y=Object(f.jsx)(o.a,Object(r.a)(Object(r.a)({},m),{},{style:b,className:"".concat(j.a.icon," ").concat(v)}));break;case"website":y=Object(f.jsx)(i.a,Object(r.a)(Object(r.a)({},m),{},{style:b,className:"".concat(j.a.icon," ").concat(v)}));break;case"poster":y=Object(f.jsx)(s.a,Object(r.a)(Object(r.a)({},m),{},{style:b,className:"".concat(j.a.icon," ").concat(v)}));break;default:y=Object(f.jsx)(l.a,Object(r.a)(Object(r.a)({},m),{},{style:b,className:"".concat(j.a.icon," ").concat(v)}))}return y}},206:function(e,t,n){"use strict";var r=n(4),c=n(5),a=n(1),o=n(0);t.a=function(e){var t=e.ariaLabel,n=e.items,i=e.defaultValue,s=e.onChange,l=e.style,u=void 0===l?{}:l,d=e.buttonProps,b=void 0===d?{}:d,j=e.className,p=void 0===j?"":j,f=Object(a.useState)(),O=Object(c.a)(f,2),h=O[0],v=O[1];Object(a.useEffect)((function(){return v(i)}),[i,v]);var m=Object(a.useCallback)((function(e){var t=e.target.dataset.value;v(t),s&&s(t)}),[v,s]);return Object(o.jsx)("div",{"aria-label":t,className:"buttonRow "+(p||""),style:u,children:n.map((function(e){var t=e.value,n=e.title,c=e.icon||null;return Object(a.createElement)("button",Object(r.a)(Object(r.a)({},b),{},{key:t,className:"default ".concat(h===t?"choosen":""," ").concat(c?"hasIcon":""," ").concat((null===b||void 0===b?void 0:b.className)||""),onClick:m,"data-value":t}),Object(o.jsxs)("span",{style:{pointerEvents:"none"},children:[c||null,n?"object"===typeof n?n:Object(o.jsx)("span",{style:{verticalAlign:"middle"},children:n}):null]}))}))})}},207:function(e,t,n){"use strict";var r=n(18),c=n(8),a=n.n(c),o=n(1),i=n(17),s=n(89),l=n(53),u=n(85);t.a=function(){var e=Object(i.c)().getString,t=Object(s.a)(),n=Object(u.b)(),c=n.enqueueSnackbar,d=n.closeSnackbar,b=Object(o.useCallback)((function(e){return new Promise((function(n){if(e&&""!==e){var r=[];"object"!==typeof window.SERVER_DATA||null===window.SERVER_DATA||Array.isArray(window.SERVER_DATA)||(r=window.SERVER_DATA.preloaded_blocks||[]),Array.isArray(r)||(r=[]),(r=r.filter((function(t){var n;return null!==(null===t||void 0===t?void 0:t._id)&&((null===t||void 0===t?void 0:t._id)===e||(null===t||void 0===t||null===(n=t.properties)||void 0===n?void 0:n.slug)===e)}))).length>0?(window.SERVER_DATA={preloaded_blocks:null},n(r)):t.query({query:l.c,variables:{slugs:[e],ids:[e].filter((function(e){return 24===e.length}))}}).then((function(e){var t=e.errors,r=e.data;if(Array.isArray(t))n(null);else if(Array.isArray(r.blocks)&&r.blocks.length>0){var c=r.blocks.filter((function(e){return null!==(null===e||void 0===e?void 0:e._id)}));c.length>0?n(c):n(null)}else n(null)})).catch((function(e){console.error("error",e),n(null)}))}else n(null)}))}),[t]),j=Object(o.useCallback)((function(e){return new Promise((function(n){e&&""!==e?t.query({query:l.a,variables:{slug:e}}).then((function(e){var t=e.errors,r=e.data;Array.isArray(t)?n(null):null!==r.block?n(r.block):n(null)})).catch((function(e){console.error("error",e),n(null)})):n(null)}))}),[t]),p=Object(o.useCallback)((function(t){return new Promise((function(n,o){var i=null;if(t&&""!==t){var s=new Promise(function(){var e=Object(r.a)(a.a.mark((function e(r){var s,l,u,p,f,O,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==(s=!1)||"string"!==typeof t||""===t){e.next=6;break}return e.next=4,b(t);case 4:l=e.sent,Array.isArray(l)&&(1===l.length?(s=!0,r("got-data"),null!==i&&d(i),n(l[0])):l.length>1&&(s=!0,r("got-error"),null!==i&&d(i),o({code:"300",blocks:l}),c("Error 300: Multiple blocks found..",{variant:"error",preventDuplicate:!0,autoHideDuration:2e3})));case 6:if(!1!==s||"string"!==typeof t||""===t){e.next=21;break}return e.next=9,j(t);case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0={};case 12:u=e.t0,p=u.existsAsSlug,f=void 0!==p&&p,O=u.existsAsId,h=void 0!==O&&O,s=!0,r("got-error"),null!==i&&d(i),!0===h||!0===f?(o({code:"403"}),c("Error 403: You are not allowed to view this page.",{variant:"error",preventDuplicate:!0,autoHideDuration:2e3})):(o({code:"404"}),c("Error 404: The page does not exist.",{variant:"error",preventDuplicate:!0,autoHideDuration:2e3}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.race([new Promise((function(e){setTimeout((function(){e("show-loading")}),300)})),s]).then((function(t){"show-loading"===t&&(i=c(e("path_editor_status_started_loading"),{persist:!0,preventDuplicate:!0}))})).catch((function(e){return console.error}))}else o({code:"404"})}))}),[b,j,c,d,e]);return p}},222:function(e,t,n){e.exports={root:"ViewerAuto_root__1p6KG"}},236:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(234),c=n(230),a=n(233),o=n(353),i=n(354),s=n(355),l=n(356),u=n(357),d=n(358),b=n(359),j=n(231),p=n(360),f=n(232),O=n(68),h=n(76),v=n(17),m=n(0),g={button:Object(m.jsx)(o.a,{}),text:Object(m.jsx)(i.a,{}),code:Object(m.jsx)(s.a,{}),divider:Object(m.jsx)(l.a,{}),checkbox:Object(m.jsx)(u.a,{}),page:Object(m.jsx)(d.a,{}),person:Object(m.jsx)(b.a,{}),redirect:Object(m.jsx)(j.a,{}),image:Object(m.jsx)(p.a,{}),poster:Object(m.jsx)(f.a,{})},x=["page","redirect"];function y(e){var t=e.createBlock,n=e.types,o=void 0===n?x:n,i=e.close,s=void 0===i?null:i;return o&&Array.isArray(o)||(o=x),Object(m.jsx)(m.Fragment,{children:o.map((function(e){return Object(m.jsxs)(r.a,{className:"roundMenuItem",onClick:function(){return t({type:e,close:s})},children:[Object(m.jsx)(c.a,{children:g[e]}),Object(m.jsx)(a.a,{children:Object(m.jsx)(v.a,{id:"block_menu_type_label_"+e})})]},e)}))})}function _(e){var t=e.trigger,n=e.createBlock,r=e.types;return Object(O.a)().loggedIn?Object(m.jsx)(h.a,{trigger:t,children:function(e){var t=e.close;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{style:{marginTop:"8px"}}),Object(m.jsx)(y,{createBlock:n,types:r,close:t})]})}}):null}},253:function(e,t,n){},338:function(e,t){},343:function(e,t,n){var r={"./de.ftl":[378,9],"./en.ftl":[379,10],"./es.ftl":[380,11],"./fr.ftl":[381,12],"./it.ftl":[382,13],"./lt.ftl":[383,14],"./nl.ftl":[384,15],"./se.ftl":[385,16]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id=343,e.exports=c},344:function(e,t,n){"use strict";n.r(t);var r=n(16),c=n(5),a=n(1),o=n.n(a),i=n(211),s=(n(253),n(80)),l=n.n(s),u=n(163),d=n.n(u),b=n(23),j=n(97),p=n(93),f=n(4),O=n(18),h=n(8),v=n.n(h),m=n(466),g=n(174),x=n(470),y=n(358),_=n(359),k=n(231),w=n(362),S=n(452),I=n(453),C=n(454),A=n(73),N=n.n(A),B=n(131),E=n(66),R=n(206),P=n(89),L=n(53),T=n(47),D=n(17),$=n(0),F={page:Object($.jsx)(y.a,{}),person:Object($.jsx)(_.a,{}),redirect:Object($.jsx)(k.a,{}),website:Object($.jsx)(w.a,{})},q=["everything","page","redirect","person","website"];var M=function(){var e=Object(D.c)().getString,t=Object(P.a)(),n=Object(a.useState)(!1),r=Object(c.a)(n,2),o=r[0],i=r[1],s=Object(a.useState)([]),l=Object(c.a)(s,2),u=l[0],d=l[1],b=Object(a.useState)([]),j=Object(c.a)(b,2),p=j[0],h=j[1],y=Object(a.useRef)(""),_=Object(a.useState)(q[0]),k=Object(c.a)(_,2),w=k[0],A=k[1],M=Object(a.useState)(!1),V=Object(c.a)(M,2),z=V[0],H=V[1],W=Object(a.useState)(""),U=Object(c.a)(W,2),G=U[0],J=U[1];Object(g.a)("cmd+k, ctrl+k",(function(e){e.preventDefault(),i(!0)}),{}),Object(g.a)("esc",(function(e){e.preventDefault(),i(!1)}),{enableOnTags:["INPUT","SELECT","TEXTAREA"],enableOnContentEditable:!0}),Object(a.useEffect)((function(){}),[]);var K=Object(a.useCallback)((function(e){"Enter"===e.key&&e.target&&e.target.blur()}),[]);Object(a.useEffect)((function(){var e=function(){return i(!0)},t=function(){return i(!1)};return window.addEventListener("open_search",e),window.addEventListener("close_search",t),function(){window.removeEventListener("open_search",e),window.removeEventListener("close_search",t)}}),[i]);var X=Object(a.useCallback)(function(){var e=Object(O.a)(v.a.mark((function e(n,r,c){var a,o,i,s,l,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length>0){a="";try{a=Object(m.a)(n)}catch(b){}(a=String(a)).length>0?J("".concat(n," = ").concat(a)):J("")}else J("");if(0!==n.length){e.next=6;break}d([]),h([]),e.next=30;break;case 6:if(!(n.length<2)){e.next=11;break}d([]),h(["Type more than one characters."]),e.next=30;break;case 11:return o={query:n,archived:c},"string"===typeof r&&r.length>0&&q.includes(r)&&"everything"!==r?o.types=[r]:o.types=q.filter((function(e){return"everything"!==e})),e.prev=13,e.next=16,t.query({query:L.g,variables:o});case 16:if(i=e.sent,s=i.errors,l=i.data,!(Array.isArray(s)&&s.length>0)){e.next=23;break}throw s;case 23:Array.isArray(l.blocks)?(u=l.blocks.filter((function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)})),d(u),0===u.length?h(["No results found."]):h([])):h(["Unknown error while loading blocks."]);case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(13),console.error("error",e.t0),d([]);case 30:case"end":return e.stop()}}),e,null,[[13,26]])})));return function(t,n,r){return e.apply(this,arguments)}}(),[t,d,h,J]),Y=Object(a.useCallback)(function(){var e=Object(O.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"!==typeof(n=t.target.value||"")&&(n=""),y.current=n,X(n,w,z);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[X,w,z]);Object(a.useEffect)((function(){X(y.current,w,z)}),[X,w,z]);var Z=Object(a.useCallback)((function(){i(!1)}),[i]),Q=Object(a.useCallback)(function(){var e=Object(O.a)(v.a.mark((function e(n,r){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!1),c={type:"search",properties:{text:y.current,chosenResult:{index:r,blockId:n._id}}},e.prev=2,e.next=5,t.mutate({mutation:T.c,variables:{block:c}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}(),[i,t]);return Object($.jsx)(x.a,{open:o,onClose:Z,hideBackdrop:!0,BackdropProps:{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}}},children:Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:N.a.backdrop,onClick:Z}),Object($.jsxs)("div",{className:N.a.dialog,children:[Object($.jsxs)("div",{style:{position:"sticky",top:0,zIndex:2,background:"var(--background)"},children:[Object($.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object($.jsx)("input",{autoFocus:!0,onFocus:function(e){return e.currentTarget.select()},type:"search",placeholder:e("search"),className:N.a.searchInput,defaultValue:y.current,onChange:Y,onKeyDown:K,style:{}}),Object($.jsx)("button",{className:"hasIcon",onClick:Z,style:{margin:"0 var(--basis_x2) 0 calc(-4 * var(--basis))"},children:Object($.jsx)(S.a,{className:"icon"})})]}),Object($.jsx)(R.a,{defaultValue:w,items:q.map((function(e){return{value:e,title:Object($.jsx)(D.a,{id:"block_menu_type_label_plural_"+e}),icon:Object($.jsx)("span",{className:"icon",children:F[e]})}})),onChange:A,className:N.a.filters})]}),Object($.jsxs)("div",{className:N.a.searchResults,style:{display:"string"===typeof y.current&&y.current.length>1||Array.isArray(p)&&p.length>0||Array.isArray(u)&&u.length>0?"block":"none"},children:["string"===typeof G&&G.length>0?Object($.jsx)("div",{className:N.a.mathResult,children:G}):null,"string"===typeof y.current&&y.current.length>1?Object($.jsxs)("button",{onClick:function(){return H(!z)},className:!0===z?"default hasIcon":" hasIcon",style:{margin:"0"},children:[Object($.jsx)("span",{className:"icon",children:Object($.jsx)(I.a,{})}),!0===z?Object($.jsx)(D.a,{id:"filter_menu_showing_archiv"}):Object($.jsx)(D.a,{id:"filter_menu_show_archiv"})]}):null,"string"===typeof y.current&&y.current.length>1&&(Array.isArray(p)&&p.length>0||Array.isArray(u)&&u.length>0)?Object($.jsx)("hr",{}):null,Array.isArray(p)&&p.length>0?Object($.jsx)("div",{className:N.a.searchErrors,children:p.map((function(e){return Object($.jsx)("p",{children:e},e)}))}):null,Array.isArray(u)&&u.length>0?Object($.jsx)("div",{children:u.map((function(e,t){return Object($.jsxs)("div",{className:N.a.blockRow,style:{display:"flex",alignItems:"center",flexDirection:"row"},children:[Object($.jsx)(E.a,{size:"card",block:e,onClick:function(){return Q(e,t)}}),Object($.jsx)("div",{className:N.a.blockRowActions,children:Object($.jsx)(B.a,{block:e,trigger:function(e){return Object($.jsx)("button",Object(f.a)(Object(f.a)({},e),{},{className:"text hasIcon",style:{margin:"0",padding:"var(--basis) 0",flexShrink:"0"},children:Object($.jsx)(C.a,{className:"icon"})}))}})})]},e._id)}))}):null]})]})]})})},V=n(116),z=n(76),H=n(102),W=n(68),U=n(130),G=n(87),J=n.n(G),K=n(234),X=n(230),Y=n(233),Z=n(232),Q=n(455),ee=n(456),te=n(444),ne=n(457),re=n(458),ce=n(459),ae=n(460),oe={redirect:Object($.jsx)(k.a,{}),page:Object($.jsx)(y.a,{}),person:Object($.jsx)(_.a,{}),poster:Object($.jsx)(Z.a,{})},ie=["redirect","page","person","poster"],se={owner:Object($.jsx)(Q.a,{}),editor:Object($.jsx)(ee.a,{}),viewer:Object($.jsx)(te.a,{})};var le=function(e){var t=e.preselectedTypes,n=void 0===t?ie:t,r=n.filter((function(e){return ie.includes(e)}));n=0===r.length?ie:r;var o=Object(D.c)().getString,i=Object(a.useState)([]),s=Object(c.a)(i,2),l=s[0],u=s[1],d=Object(H.a)(),j=Object(a.useRef)({type:n[0],roles:[]}),h=Object(W.a)().loggedIn,m=Object(a.useState)([]),g=Object(c.a)(m,2),x=g[0],y=g[1];Object(a.useEffect)((function(){h?(y(["owner","editor","viewer"]),j.current.roles=["owner","editor","viewer"]):(y(["viewer"]),j.current.roles=["viewer"])}),[h]);var _=Object(a.useCallback)(Object(O.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({types:[j.current.type],roles:j.current.roles});case 2:t=e.sent,u(t),console.log("loadedContentBlocks",t);case 5:case"end":return e.stop()}}),e)}))),[d,u]);Object(a.useEffect)((function(){_()}),[_]);var k=Object(a.useCallback)((function(e){j.current.type=e,_()}),[_]),w=Object(a.useCallback)((function(e){j.current.roles.includes(e)?j.current.roles=j.current.roles.filter((function(t){return t!==e})):j.current.roles.push(e),_()}),[_]),S=Object(U.a)(),I=Object(b.g)(),A=Object(a.useCallback)((function(e){var t=e.type;"string"===typeof t&&t.length>0&&S({type:t}).then((function(e){I("/".concat(e._id,"/edit"))})).catch((function(e){console.error(e)}))}),[S,I]),N=o("list_title"),R=Object($.jsx)($.Fragment,{children:Object($.jsx)("div",{className:"buttonRow",style:{whiteSpace:"nowrap"},children:Object($.jsx)("button",{className:"default hasIcon",onClick:function(){var e=new CustomEvent("open_search");window.dispatchEvent(e)},title:"Search (\u2318K / Ctrl+K)",children:Object($.jsx)(ne.a,{className:"icon"})})})});return Object($.jsxs)("div",{className:J.a.root,children:[Object($.jsxs)(p.a,{children:[Object($.jsx)("title",{children:N}),Object($.jsx)("meta",{name:"title",content:N}),Object($.jsx)("meta",{name:"og:title",content:N}),Object($.jsx)("meta",{name:"twitter:title",content:N}),Object($.jsx)("meta",{name:"description",content:""}),Object($.jsx)("meta",{property:"og:description",content:""}),Object($.jsx)("meta",{name:"twitter:description",content:""})]}),Object($.jsx)(V.a,{block:{type:"page",properties:{text:N,slug:"list",icon:{type:"emoji",emoji:"\ud83d\uddd2"}}},title:N,rightActions:R}),Object($.jsx)("div",{className:"basis_0_2 ".concat(J.a.app," ").concat(J.a.spine_aligned),dir:"auto",children:Object($.jsxs)("main",{className:"".concat(J.a.contentWrapper),children:[Object($.jsx)("h1",{dir:"auto",style:{whiteSpace:"pre-wrap"},children:o("block_menu_type_label_plural_"+j.current.type)}),Object($.jsxs)("div",{className:J.a.items,children:[ie.length>1||x.length>1?Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("div",{style:{display:"flex",gap:"var(--basis)",flexWrap:"wrap"},children:[ie.length<=1?null:Object($.jsxs)(z.a,{trigger:function(e){return Object($.jsxs)("button",Object(f.a)(Object(f.a)({},e),{},{className:"text hasIcon",style:{flexShrink:"0",margin:"0",justifyContent:"flex-start"},children:[Object($.jsx)(re.a,{className:"icon"}),Object($.jsx)("span",{style:{verticalAlign:"middle"},children:o("block_menu_type_label_plural_"+j.current.type)})]}))},children:[Object($.jsx)("div",{style:{marginTop:"8px"}}),ie.map((function(e){return Object($.jsxs)(K.a,{className:"roundMenuItem",onClick:function(){return k(e)},selected:j.current.type===e,sx:{marginTop:"2px !important",marginBottom:"2px !important"},children:[Object($.jsx)(X.a,{children:oe[e]}),Object($.jsx)(Y.a,{children:Object($.jsx)(D.a,{id:"block_menu_type_label_plural_"+e})})]},e)}))]}),x.length<=1?null:Object($.jsxs)(z.a,{trigger:function(e){return Object($.jsxs)("button",Object(f.a)(Object(f.a)({},e),{},{className:"text hasIcon",style:{flexShrink:"0",margin:"0",justifyContent:"flex-start"},children:[Object($.jsx)(re.a,{className:"icon"}),Object($.jsx)("span",{style:{verticalAlign:"middle"},children:0===j.current.roles.length?o("path_editor_permissions"):j.current.roles.map((function(e){return o("role_"+e)})).join(", ")})]}))},children:[Object($.jsx)("div",{style:{marginTop:"8px"}}),x.map((function(e){return Object($.jsxs)(K.a,{className:"roundMenuItem",onClick:function(){return w(e)},selected:j.current.roles.includes(e),sx:{marginTop:"2px !important",marginBottom:"2px !important"},children:[Object($.jsx)(X.a,{children:se[e]}),Object($.jsx)(Y.a,{children:Object($.jsx)(D.a,{id:"role_"+e})})]},e)}))]})]}),Object($.jsx)("hr",{})]}):null,h&&["redirect","page"].includes(j.current.type)?Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("button",{className:"default green hasIcon",style:{flexShrink:"0",margin:"0",justifyContent:"flex-start"},onClick:function(){return A({type:j.current.type})},children:[Object($.jsx)(ce.a,{className:"icon"}),Object($.jsx)("span",{style:{verticalAlign:"middle"},children:o("block_type_new_"+j.current.type)})]}),Object($.jsx)("br",{}),Object($.jsx)("br",{})]}):Object($.jsxs)($.Fragment,{children:[Object($.jsx)("a",{href:"".concat(window.domains.backend,"login?redirect_to=").concat(encodeURIComponent(window.location.toString())),children:Object($.jsxs)("button",{className:"default green hasIcon",style:{flexShrink:"0",margin:"0",justifyContent:"flex-start"},children:[Object($.jsx)(ae.a,{className:"icon"}),Object($.jsx)("span",{style:{verticalAlign:"middle"},children:o("needs_login_block_type_new_"+j.current.type)})]})}),Object($.jsx)("br",{}),Object($.jsx)("br",{})]}),l.filter((function(e){return!!e})).map((function(e){return Object($.jsxs)("div",{style:{display:"flex",alignItems:"center",flexDirection:"row",height:"auto"},className:J.a.blockRow,children:[Object($.jsx)(E.a,{block:e}),Object($.jsx)("div",{className:J.a.blockRowActions,children:Object($.jsx)(B.a,{onReloadContext:_,block:e,trigger:function(e){return Object($.jsx)("button",Object(f.a)(Object(f.a)({},e),{},{className:"text hasIcon",style:{margin:"0",padding:"var(--basis_x0_5) 0",flexShrink:"0"},children:Object($.jsx)(C.a,{className:"icon"})}))}})})]},e._id)}))]})]})})]})},ue=n(15),de=n(50),be=n(105),je=n(136),pe=n(151),fe=n.n(pe),Oe=function(e){var t=e.className,n=void 0===t?"":t,r=e.style,o=void 0===r?{}:r,i=e.forBlockId,s=void 0===i?"":i,l=Object(a.useState)([]),u=Object(c.a)(l,2),d=u[0],b=u[1],j=Object(H.a)(),p=Object(U.a)(),f=Object(je.b)(),h=Object(a.useCallback)(Object(O.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j({types:["reaction"],roles:["owner"],archived:!1});case 2:t=e.sent.filter((function(e){return e.properties.reactionFor===s})),console.log("loadedUserReactions",t),b(t);case 5:case"end":return e.stop()}}),e)}))),[s,j]);Object(a.useEffect)((function(){"string"===typeof s&&s.length>0&&h()}),[s,h]);var m=Object(a.useCallback)((function(e){var t=d.filter((function(t){var n,r,c,a;return"reaction"===(null===t||void 0===t?void 0:t.type)&&"emoji"===(null===t||void 0===t||null===(n=t.properties)||void 0===n||null===(r=n.icon)||void 0===r?void 0:r.type)&&(null===t||void 0===t||null===(c=t.properties)||void 0===c||null===(a=c.icon)||void 0===a?void 0:a.emoji)===e}));t.length>0?f({ids:t.map((function(e){return e._id})),archive:!0}).then((function(){h()})).catch((function(e){console.error("error",e)})):p({type:"reaction",properties:{icon:{type:"emoji",emoji:e},reactionFor:s}}).then((function(e){console.log("data",e),h()})).catch((function(e){console.error("error",e)}))}),[d,s,f,p,h]);return Object($.jsx)("div",{className:n,style:o,children:["\u2b50\ufe0f"].map((function(e){var t=d.filter((function(t){var n,r,c,a;return"reaction"===(null===t||void 0===t?void 0:t.type)&&"emoji"===(null===t||void 0===t||null===(n=t.properties)||void 0===n||null===(r=n.icon)||void 0===r?void 0:r.type)&&(null===t||void 0===t||null===(c=t.properties)||void 0===c||null===(a=c.icon)||void 0===a?void 0:a.emoji)===e}));return Object($.jsx)("button",{className:"\n              ".concat(fe.a.reactionButton,"\n              ").concat(t.length>0?fe.a.selected:"","\n              ").concat(t.length>0?"default":"text","\n              hasIcon\n            "),onClick:function(){return m(e)},children:Object($.jsx)(be.a,{className:"icon",emojiClassName:fe.a.emoji,emoji:e},e)},e)}))},d)},he=n(37),ve=n(207),me=n(43),ge=n.n(me),xe=n(447),ye=n(461),_e=n(84),ke=Object(a.lazy)((function(){return n.e(1).then(n.bind(null,530))})),we=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(17)]).then(n.bind(null,478))}));var Se=function(){var e=Object(a.useRef)(!1),t=Object(D.c)(),n=t.getString,r=t.translateBlock,o=t.userLocales,i=Object(W.a)().loggedIn,s=Object(ve.a)(),l=Object(H.a)(),u=Object(b.h)().id,d=void 0===u?"":u,j=d;if(d.includes("=")){var h=d.split("="),m=Object(c.a)(h,2)[1];j=m}var g=Object(a.useState)({type:"page",properties:{},content:[]}),x=Object(c.a)(g,2),y=x[0],_=x[1],k=y.properties||{},w=k.slug||j||"",S=Object(a.useState)([]),I=Object(c.a)(S,2),C=I[0],A=I[1],N=Object(a.useState)([]),B=Object(c.a)(N,2),R=B[0],P=B[1],L=Object(a.useState)(k.locale||o||["en"]),T=Object(c.a)(L,2),F=T[0],q=T[1],M=Object(a.useCallback)((function(e){q([e])}),[q]),z=Object(a.useState)(null),U=Object(c.a)(z,2),G=U[0],J=U[1],K=Object(a.useCallback)((function(e){J(e),window.umami&&"object"===typeof e&&null!==e&&e.hasOwnProperty("code")&&"string"===typeof e.code&&window.umami.trackEvent("E: "+e.code)}),[J]);if(Object(a.useEffect)((function(){var t=y.properties||{};!1!==e.current||"string"!==typeof j||""===j||j===y._id||j===t.slug||null!==G&&G.for_slugOrId===j||(e.current=!0,s(j).then(function(){var t=Object(O.a)(v.a.mark((function t(n){var r,c,a,o,i,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("object"===typeof n&&null!==n){t.next=5;break}K({code:"404",for_slugOrId:j}),e.current=!1,t.next=23;break;case 5:if(r=n,!(Array.isArray(n.content)&&n.content.length>0)){t.next=16;break}if(c=Object(ue.a)(n.content),a=n.content.filter((function(e){return!e.hasOwnProperty("block")})).map((function(e){return e.blockId})),o=[],!(a.length>0)){t.next=14;break}return t.next=13,l({ids:a});case 13:o=t.sent;case 14:c=c.map((function(e){return e.hasOwnProperty("block")||(e.block=o.find((function(t){return t._id===e.blockId}))),e})),r=Object(f.a)(Object(f.a)({},r),{},{content:c});case 16:i=(r.content||[]).map((function(e){return e.block})),s=Object(ue.a)(new Set([n].concat(Object(ue.a)(i)).filter(Boolean).flatMap((function(e){var t=(null===e||void 0===e?void 0:e.properties)||{};return[t.locale||null].concat(Object(ue.a)((t.translations||[]).filter((function(e){return e.text&&e.text.length>0})).map((function(e){return e.locale}))))})).filter(Boolean))),P(s),K(null),_(r),A(i),e.current=!1;case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.error(t),K(Object(f.a)(Object(f.a)({},t),{},{for_slugOrId:j})),e.current=!1})))}),[G,j,y,y._id,s,_,l,A,P,K]),null!==G&&G.for_slugOrId===j){var X="Error "+G.code;return Object($.jsxs)("div",{className:ge.a.viewer,children:[Object($.jsxs)(p.a,{children:[Object($.jsx)("title",{children:X}),Object($.jsx)("meta",{name:"title",content:X}),Object($.jsx)("meta",{name:"og:title",content:X}),Object($.jsx)("meta",{name:"twitter:title",content:X}),Object($.jsx)("meta",{name:"description",content:""}),Object($.jsx)("meta",{property:"og:description",content:""}),Object($.jsx)("meta",{name:"twitter:description",content:""}),Object($.jsx)("meta",{property:"og:image",content:""}),Object($.jsx)("meta",{name:"twitter:image",content:""}),Object($.jsx)("meta",{property:"twitter:card",content:"summary"})]}),Object($.jsx)(V.a,{block:{type:"page",properties:{text:X,icon:{type:"emoji",emoji:"\u26a0\ufe0f"}}},title:"Error",rightActions:null}),Object($.jsx)("div",{className:"basis_x1 ".concat(ge.a.app," ").concat(ge.a.spine_aligned),dir:"auto",children:Object($.jsxs)("main",{className:"".concat(ge.a.contentWrapper),children:["300"===G.code?Object($.jsxs)($.Fragment,{children:[Object($.jsx)("h1",{children:Object($.jsx)(D.a,{id:"error_300_title"})}),Object($.jsx)("br",{}),Object($.jsx)("p",{children:Object($.jsx)(D.a,{id:"error_300_description"})}),Object($.jsx)("br",{}),G.blocks.map((function(e){return Object($.jsx)(E.a,{block:e,forceId:!0,pathSuffix:"view"},e._id)}))]}):null,"403"===G.code?Object($.jsx)(ke,{errorName:"no_access"}):null,"404"===G.code?Object($.jsx)(ke,{errorName:"not_found"}):null]})})]})}var Y=y.type||null,Z=r(y,F,n("placeholder_headline_empty")),Q=k.coverphoto||{},ee=k.pronouns||"",te=Object($.jsx)($.Fragment,{children:Object($.jsxs)("div",{className:"buttonRow",style:{whiteSpace:"nowrap"},children:[i&&!!y._id&&Object($.jsx)(de.b,{to:"/".concat(y._id,"/edit"),style:{marginRight:"var(--basis_x2)"},children:Object($.jsxs)("button",{className:"text hasIcon",children:[Object($.jsx)(xe.a,{className:"icon"}),Object($.jsx)("span",{className:"hideOnSmallScreen",style:{verticalAlign:"middle"},children:Object($.jsx)(D.a,{id:"edit_block"})})]})}),i&&!!y._id&&Object($.jsx)(Oe,{forBlockId:y._id,style:{marginRight:"var(--basis_x2)"}}),i&&y._id&&""!==w?Object($.jsx)("button",{className:"text hasIcon",onClick:function(){var e=document.createElement("a");e.href="https://umami.qiekub.org/share/s0ZHBZbb/volt.link?url=%2F".concat(w),e.target="_blank",e.rel="noreferrer",e.click()},children:Object($.jsx)(ye.a,{className:"icon"})}):null,R.length>1?Object($.jsx)(a.Suspense,{children:Object($.jsx)(we,{onChange:M,defaultValue:F[0]||o[0]||"en",options:R,style:{marginRight:"var(--basis_x2)"}})}):null,Object($.jsx)("button",{className:"default hasIcon",onClick:function(){var e=new CustomEvent("open_search");window.dispatchEvent(e)},title:"Search (\u2318K / Ctrl+K)",children:Object($.jsx)(ne.a,{className:"icon"})})]})}),re={__html:Object(_e.a)(Z)},ce=Object(he.getImageUrl)(Q,{width:1400,height:400}),ae=Object(he.getImageUrl)(Q,{width:1e3,height:1e3}),oe=null;"string"===typeof ce&&ce.length>0&&(oe="poster"===Y?Object($.jsx)("div",{style:{width:"1000px",maxWidth:"100%",margin:"0 auto"},children:Object($.jsx)("img",{src:ce,alt:"",style:{width:"100%",height:"auto"}})}):Object($.jsx)("div",{style:{backgroundImage:"url(".concat(ce,")")},className:ge.a.coverphoto}));var ie=null;if(k.hasOwnProperty("icon")&&"object"===typeof k.icon&&null!==k.icon&&!Array.isArray(k.icon)&&k.icon.hasOwnProperty("type")&&"string"===typeof k.icon.type){if("emoji"===k.icon.type&&k.icon.hasOwnProperty("emoji")&&"string"===typeof k.icon.emoji&&0!==k.icon.emoji.length&&(ie=Object($.jsx)(be.a,{className:"".concat(ge.a.icon," ").concat(""===ce?"":ge.a.coverphotoIsSet),emoji:k.icon.emoji})),null===ie&&"file"===k.icon.type&&k.icon.hasOwnProperty("fileId")&&"string"===typeof k.icon.fileId&&0!==k.icon.fileId.length){var se=k.icon.fileId;ie=Object($.jsx)("div",{style:{backgroundImage:"url(".concat(window.domains.storage,"download_file/?f=").concat(window.imageFormat||"jpg","&w=400&h=400&id=").concat(encodeURIComponent(se),")")},className:"".concat(ge.a.icon," ").concat(""===ce?"":ge.a.coverphotoIsSet)})}if(null===ie){var le=Object(he.getImageUrl)(k.icon,{width:400,height:400});"string"===typeof le&&0!==le.length&&(ie=Object($.jsx)("div",{style:{backgroundImage:"url(".concat(le,")")},className:"".concat(ge.a.icon," ").concat(""===ce?"":ge.a.coverphotoIsSet)}))}}return Object($.jsxs)("div",{className:ge.a.viewer,children:[Object($.jsxs)(p.a,{children:[Object($.jsx)("title",{children:Z}),Object($.jsx)("meta",{name:"title",content:Z}),Object($.jsx)("meta",{name:"og:title",content:Z}),Object($.jsx)("meta",{name:"twitter:title",content:Z}),Object($.jsx)("meta",{name:"description",content:""}),Object($.jsx)("meta",{property:"og:description",content:""}),Object($.jsx)("meta",{name:"twitter:description",content:""}),Object($.jsx)("meta",{property:"og:image",content:ae}),Object($.jsx)("meta",{name:"twitter:image",content:ae}),Object($.jsx)("meta",{property:"twitter:card",content:"summary"})]}),Object($.jsx)(V.a,{block:y,rightActions:te}),Object($.jsxs)("div",{className:"basis_0_8 ".concat(ge.a.app," ").concat(ge.a.spine_aligned),dir:"auto",children:["page"===Y||"person"===Y||"redirect"===Y||"poster"===Y?oe:null,Object($.jsxs)("main",{className:"".concat(ge.a.contentWrapper),children:["page"===Y||"person"===Y||"redirect"===Y?ie:null,""!==Z?Object($.jsx)("h1",{dir:"auto",dangerouslySetInnerHTML:re,style:{whiteSpace:"pre-wrap"}}):null,"person"===Y&&""!==ee?Object($.jsx)("p",{dir:"auto",children:Object($.jsx)("strong",{style:{padding:"var(--basis)",display:"inline-block",backgroundColor:"rgba(var(--on-background-rgb), var(--alpha-less))"},children:ee})}):null,Object($.jsx)("div",{className:ge.a.items,children:C.filter((function(e){return!!e})).filter((function(e){return!1!==e.properties.active})).map((function(e){return Object($.jsx)(E.a,{block:e,locales:F},e._id)}))})]})]})]})},Ie=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(5)]).then(n.bind(null,531))}));function Ce(){var e=Object(b.h)().type,t=void 0===e?"":e;return Object($.jsx)(le,{preselectedTypes:[t]},t)}var Ae=function(){var e=Object(b.f)("/"),t=Object(b.e)(),n=Object(a.useState)({}),r=Object(c.a)(n,2),o=r[0],i=r[1];Object(a.useEffect)((function(){var e="",n=t.pathname.split("/").filter((function(e){return e.length>0}));if(n.length>0){var r=n.pop(),c=r,a="view";("edit"===r||"view"===r)&&n.length>0&&(a=r,c=n.pop());var s="redirect page poster person".split(" "),l="redirects pages posters people".split(" ");if("list"===c)e="/".concat(c);else if(s.includes(c))e="/list/".concat(c);else if(l.includes(c)){var u=s[l.indexOf(c)];e="/list/".concat(u)}else e="/".concat(c,"/").concat(a);"search"===c&&window.dispatchEvent(new CustomEvent("open_search"))}o.pathname!==e&&i({pathname:e})}),[t,o,i]);var s="VoltLink",l="VoltLink is an information-hub about Volt Europa.";return Object($.jsx)($.Fragment,{children:Object($.jsx)("div",{className:"".concat(d.a.app," ").concat(e?d.a.isStartpage:""),children:Object($.jsxs)(j.d,{children:[e?null:Object($.jsx)(j.b,{}),Object($.jsxs)(j.a,{children:[Object($.jsx)(M,{}),Object($.jsxs)(b.c,{location:o,children:[Object($.jsx)(b.a,{path:"/list",element:Object($.jsx)(le,{})}),Object($.jsx)(b.a,{path:"/list/:type",element:Object($.jsx)(Ce,{})}),Object($.jsx)(b.a,{path:"/:id/view",element:Object($.jsx)(Se,{})}),Object($.jsx)(b.a,{path:"/:id/edit",element:Object($.jsx)(a.Suspense,{children:Object($.jsx)(Ie,{})})}),Object($.jsx)(b.a,{path:"/",element:Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(p.a,{children:[Object($.jsx)("title",{children:s}),Object($.jsx)("meta",{name:"title",content:s}),Object($.jsx)("meta",{name:"og:title",content:s}),Object($.jsx)("meta",{name:"twitter:title",content:s}),Object($.jsx)("meta",{name:"description",content:l}),Object($.jsx)("meta",{name:"og:description",content:l}),Object($.jsx)("meta",{name:"twitter:description",content:l})]}),Object($.jsx)(j.c,{})]})})]})]})]})})})},Ne=(n(339),n(160)),Be=n(464),Ee=n(225),Re=n(474),Pe=n(85),Le=n(467),Te=n(468),De=n(465);window.process={},window.env="prod",window.domains={frontend:"https://volt.link/",backend:"https://api.volt.link/",storage:"https://storage.volt.link/"},window.graphql_uri=window.domains.backend+"graphql/v1/";var $e=new Le.a({uri:window.graphql_uri,cache:new Te.a,credentials:"include",defaultOptions:{watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}}});function Fe(){var e=Object(a.useState)(navigator.languages),t=Object(c.a)(e,2),n=t[0],i=t[1],s=Object(a.useState)(null),u=Object(c.a)(s,2),d=u[0],b=u[1];Object(a.useEffect)((function(){var e=window.localStorage.getItem("locale")||null;i("string"===typeof e&&""!==e?[e]:navigator.languages)}),[i]),Object(a.useEffect)((function(){if(window.umami){var e=navigator.languages;if(e||Array.isArray(e)){var t,n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value,a=(c=c.toLowerCase()).split("-")[0];"string"===typeof a&&""!==a&&window.umami.trackEvent("L: "+a)}}catch(o){n.e(o)}finally{n.f()}}}}),[]);var j=Object(a.useCallback)((function(e){i([e.target.dataset.locale])}),[i]),p=Object(a.useCallback)((function(e){b(e.length>0?e[0]:"")}),[b]);Object(a.useEffect)((function(){var e=function(e){var t=(e.detail||{}).locale||null;null===t?n&&Array.isArray(n)&&n.length>0&&(i(navigator.languages),window.localStorage.removeItem("locale")):(i([t]),window.localStorage.setItem("locale",t))};return window.addEventListener("change_locale",e),function(){window.removeEventListener("change_locale",e)}}),[n,i]);var f=Object(Be.a)("(prefers-color-scheme: dark)"),O=o.a.useMemo((function(){return Object(Ee.a)({palette:{mode:f?"dark":"light"},components:{MuiListItemIcon:{styleOverrides:{root:{color:"inherit"}}}}})}),[f]);return Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{id:"react-notification",style:{zIndex:"10000"}},"react-notification"),Object($.jsx)(Ne.a,{userLocales:n,onLocaleChange:p,children:Object($.jsx)(De.a,{client:$e,children:Object($.jsx)(Re.a,{theme:O,children:Object($.jsx)(Pe.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},style:{minWidth:"unset"},classes:{variantSuccess:"".concat(l.a.snackbar," ").concat(l.a.success),variantError:"".concat(l.a.snackbar," ").concat(l.a.error),variantWarning:"".concat(l.a.snackbar," ").concat(l.a.warning),variantInfo:"".concat(l.a.snackbar," ").concat(l.a.info)},domRoot:document.getElementById("react-notification"),children:Object($.jsx)(de.a,{children:Object($.jsx)(Ae,{locales:Ne.b,currentLocale:d,onLanguageChange:j})})})})})},"AppLocalizationProvider")]})}var qe=document.getElementById("root");Object(i.createRoot)(qe).render(Object($.jsx)(Fe,{}))},37:function(e,t){function n(e){if(e.startsWith("#")&&(e=e.substring(1)),3===e.length)e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2);else if(6!==e.length)throw new Error("Invalid hex color: "+e);for(var t=[],n=0;n<=2;n++)t[n]=parseInt(e.substr(2*n,2),16);return t}function r(e){return function(e){var t="string"===typeof e?n(e):e;return.2126*t[0]+.7152*t[1]+.0722*t[2]}(e)>=165?"000":"fff"}function c(e){var t;return t=function(e){var t,n;return(t=document.createElement("canvas")).height=1,t.width=1,(n=t.getContext("2d")).fillStyle=e,n.fillRect(0,0,1,1),n.getImageData(0,0,1,1).data}(e),"#"+[0,1,2].map((function(e){return("0"+t[e].toString(16)).slice(-2)})).join("")}e.exports={getImageUrl:function(e,t){var n=t||{},r=n.width,c=void 0===r?null:r,a=n.height,o=void 0===a?null:a,i=n.format,s=void 0===i?window.imageFormat||"jpg":i;if("object"===typeof e&&null!==e&&!Array.isArray(e)){if("url"===e.type&&e.url)return"".concat(window.domains.storage,"download_url/?f=").concat(s,"&w=").concat(c,"&h=").concat(o,"&url=").concat(encodeURIComponent(e.url||""));if("file"===e.type&&e.fileId)return"".concat(window.domains.storage,"download_file/?f=").concat(s,"&w=").concat(c,"&h=").concat(o,"&id=").concat(encodeURIComponent(e.fileId||""))}return""},getBlockColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={color:null,colorRGB:null,contrastingColor:null,contrastingColorRGB:null};if(e.properties=e.properties||{},e.hasOwnProperty("properties")&&e.properties.hasOwnProperty("color")&&e.properties.color){var a=["purple","red","green","blue","yellow"],o=e.properties.color;if(a.includes(o))t.color="var(--".concat(o,")"),t.colorRGB="var(--".concat(o,"-rgb)"),t.contrastingColor="var(--on-".concat(o,")"),t.contrastingColorRGB="var(--on-".concat(o,"-rgb)");else{if(o.startsWith("#"))4!==o.length&&7!==o.length&&(o=null);else{var i=c(o);o="#000000"===i&&"black"!==o?null:i}if(o){t.color=o;var s=n(o);t.colorRGB=s.join(", "),t.contrastingColor="#"+r(o),t.contrastingColorRGB=n(t.contrastingColor)}}}return t}}},43:function(e,t,n){e.exports={app:"Viewer_app__1_jMF",spine_aligned:"Viewer_spine_aligned__2mJuq",items:"Viewer_items__2FgjF",coverphoto:"Viewer_coverphoto__16R-U",icon:"Viewer_icon__219E5",coverphotoIsSet:"Viewer_coverphotoIsSet__26PSP",contentWrapper:"Viewer_contentWrapper__1HLN8",type_p:"Viewer_type_p__O5DZS",viewer:"Viewer_viewer__JHrvB"}},47:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return p}));var r,c,a,o,i,s,l=n(32),u=n(45),d=Object(u.a)(r||(r=Object(l.a)(["\n  mutation saveBlock ($block: InputBlock!) {\n    saveBlock (block: $block) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n        block {\n          _id\n          type\n          properties\n          content {\n            blockId\n          }\n          parent\n          metadata {\n            modified\n            modified_by\n          }\n          permissions\n          computed {\n            roles\n            inherited_block_permissions\n          }\n        }\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),b=Object(u.a)(c||(c=Object(l.a)(["\n  mutation archiveBlocks ($ids: [ObjectID]!) {\n    archiveBlocks (ids: $ids)\n  }\n"]))),j=Object(u.a)(a||(a=Object(l.a)(["\n  mutation unarchiveBlocks ($ids: [ObjectID]!) {\n    unarchiveBlocks (ids: $ids)\n  }\n"]))),p=Object(u.a)(o||(o=Object(l.a)(["\n  mutation moveBlock ($movingBlockId: ObjectID!, $newParentId: ObjectID!, $newIndex: Int!) {\n    moveBlock(movingBlockId: $movingBlockId, newParentId: $newParentId, newIndex: $newIndex)\n  }\n"])));Object(u.a)(i||(i=Object(l.a)(["\n  mutation setCursor ($cursor: InputCursor!) {\n    setCursor(cursor: $cursor)\n  }\n"]))),Object(u.a)(s||(s=Object(l.a)(["\n  mutation removeCursor ($type: CursorType!, $blockId: ObjectID!, $propertyName: String) {\n    removeCursor(type: $type, blockId: $blockId, propertyName: $propertyName)\n  }\n"])))},53:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"g",(function(){return x}));var r,c,a,o,i,s,l,u,d,b,j=n(32),p=n(45),f=Object(p.a)(r||(r=Object(j.a)(["\n  query getBlock ($_id: ObjectID!) {\n    block (_id: $_id) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n        block {\n          _id\n          type\n          properties\n          content {\n            blockId\n          }\n          parent\n          metadata {\n            modified\n            modified_by\n          }\n          permissions\n          computed {\n            roles\n            inherited_block_permissions\n          }\n        }\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),O=Object(p.a)(c||(c=Object(j.a)(["\n  query getBlocks ($ids: [ObjectID], $slugs: [String], $types: [String], $archived: Boolean, $roots: [ObjectID], $roles: [String]) {\n    blocks (ids: $ids, slugs: $slugs, types: $types, archived: $archived, roots: $roots, roles: $roles) {\n      _id\n      type\n      properties\n      content {\n        blockId\n      }\n      parent\n      metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),h=Object(p.a)(a||(a=Object(j.a)(["\n  query getBlocks ($ids: [ObjectID], $slugs: [String], $types: [String], $archived: Boolean, $roots: [ObjectID] $roles: [String]) {\n    blocks (ids: $ids, slugs: $slugs, types: $types, archived: $archived, roots: $roots, roles: $roles) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n        block {\n          _id\n          type\n          properties\n          content {\n            blockId\n          }\n          parent\n          metadata {\n            modified\n            modified_by\n          }\n          permissions\n          computed {\n            roles\n            inherited_block_permissions\n          }\n        }\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),v=(Object(p.a)(o||(o=Object(j.a)(["\n  query getBlockBySlug ($slug: String!) {\n    block: blockBySlug (slug: $slug) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n        block {\n          _id\n          type\n          properties\n          content {\n            blockId\n          }\n          parent\n          metadata {\n            modified\n            modified_by\n          }\n          permissions\n          computed {\n            roles\n            inherited_block_permissions\n          }\n        }\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),Object(p.a)(i||(i=Object(j.a)(["\n  query getSelf {\n    self {\n\t\t  logged_in\n\t\t  user\n\t\t  blockId\n      userroles\n    }\n  }\n"])))),m=(Object(p.a)(s||(s=Object(j.a)(["\n  query getSiblingBlocks ($_id: ObjectID!, $types: [String]) {\n    blocks: siblingBlocks (_id: $_id, types: $types) {\n      _id\n      type\n      properties\n    }\n  }\n"]))),Object(p.a)(l||(l=Object(j.a)(["\n  query getParentBlocks ($_id: ObjectID!) {\n    blocks: parentBlocks (_id: $_id) {\n      _id\n      type\n      properties\n      computed {\n        sort\n      }\n    }\n  }\n"])))),g=(Object(p.a)(u||(u=Object(j.a)(["\n  query blockMatchesRoles ($_id: ObjectID!, $roles: [String]) {\n    blockMatchesRoles (_id: $_id, roles: $roles)\n  }\n"]))),Object(p.a)(d||(d=Object(j.a)(["\n  query checkSlug ($slug: String!) {\n    checkSlug (slug: $slug) {\n      isOkay\n      errors\n      existsAsSlug\n      existsAsId\n    }\n  }\n"])))),x=Object(p.a)(b||(b=Object(j.a)(["\n  query search ($query: String!, $types: [String], $archived: Boolean) {\n    blocks: search (query: $query, types: $types, archived: $archived) {\n      _id\n      type\n      properties\n      content {\n        blockId\n      }\n      parent\n      metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"])))},57:function(e,t,n){e.exports={icon:"BlockIcon_icon__1wJFr",square:"BlockIcon_square__11KYn",round:"BlockIcon_round__1sKzE"}},66:function(e,t,n){"use strict";var r=n(4),c=n(18),a=n(5),o=n(24),i=n(8),s=n.n(i),l=n(1),u=n(16),d=n(56),b=n(128),j=n.n(b),p=n(0);function f(e,t){var n,r={},c=Object(u.a)(t);try{for(c.s();!(n=c.n()).done;){var a=n.value;e.hasType(a)&&(r[a]="application/json"===a?JSON.parse(e.getData(a)):e.getData(a))}}catch(o){c.e(o)}finally{c.f()}return{data:r,transmat:e}}function O(e){var t=e.onTransmit,n=e.onReceive,r=e.checkEntry,a=e.draggable,o=e.style,i=e.className,b=e.children,O=e.mimetypes,h=void 0===O?["application/json"]:O,v=Object(l.useRef)(null);return Object(l.useEffect)((function(){var e=Object(d.addListeners)(v.current,"transmit",function(){var e=Object(c.a)(s.a.mark((function e(n){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new d.Transmat(n),"function"!==typeof t){e.next=6;break}return e.next=4,t(r);case 4:"object"!==typeof(c=e.sent)||null===c||Array.isArray(c.data)||"object"!==typeof c.data||null===c.data||r.setData(c.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a=Object(d.addListeners)(v.current,"receive",(function(e){var t=new d.Transmat(e),c=f(t,h),a=!1;"function"===typeof r&&(a=r(c)),t.accept()&&(a&&"function"===typeof n&&n(c),e.preventDefault())})),o=new d.TransmatObserver((function(e){var t,n=Object(u.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value,a=f(new d.Transmat(c.event),h),o=!1;"function"===typeof r&&(o=r(a)),o&&(c.target.classList.toggle(j.a.drag_over,c.isTarget),c.target.classList.toggle(j.a.drag_active,c.isActive))}}catch(i){n.e(i)}finally{n.f()}}));return o.observe(v.current),function(){e(),a(),o.disconnect()}}),[t,n,r,h]),Object(p.jsx)("div",{ref:v,style:o,className:i,draggable:a?"true":"false",tabIndex:"0",children:b})}var h=n(84),v=n(17),m=n(37),g=n(449),x=n(450);var y=function(e){var t=e.block,n=e.style,c=e.locales,o=Object(l.useState)({__html:""}),i=Object(a.a)(o,2),s=i[0],u=i[1],d=(0,Object(v.c)().translateBlock)(t,c,"");Object(l.useEffect)((function(){var e=Object(h.a)(d);u({__html:e})}),[d,u]);var b={dir:"auto",style:Object(r.a)({whiteSpace:"pre-wrap",display:"flex"},n)},j=Object(m.getBlockColor)(t).color;j&&(b.style.color=j);var f="body";t.properties.hasOwnProperty("text_style")&&(f=t.properties.text_style);var O=(t||{}).properties||{},y=O.text_decorations,_=void 0===y?[]:y,k=O.checked,w=[];if(_.includes("checkbox")){var S={key:"checkbox",style:{margin:"var(--basis_x0_2) var(--basis) 0 0",height:"var(--prefix-icon-size)",width:"var(--prefix-icon-size)"}};k?w.push(Object(p.jsx)(g.a,Object(r.a)({},S))):w.push(Object(p.jsx)(x.a,Object(r.a)({},S)))}var I=Object(p.jsx)("span",{dangerouslySetInnerHTML:s}),C=null;switch(f){case"h1":C=Object(p.jsx)("a",{href:"#".concat(t._id),id:t._id,children:Object(p.jsxs)("h1",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}))});break;case"h2":C=Object(p.jsx)("a",{href:"#".concat(t._id),id:t._id,children:Object(p.jsxs)("h2",Object(r.a)(Object(r.a)({},b),{},{id:t._id,children:[w,I]}))});break;case"h3":C=Object(p.jsx)("a",{href:"#".concat(t._id),id:t._id,children:Object(p.jsxs)("h3",Object(r.a)(Object(r.a)({},b),{},{id:t._id,children:[w,I]}))});break;case"caption":C=Object(p.jsxs)("caption",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}));break;default:C=Object(p.jsxs)("p",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}))}return Object(p.jsx)("div",{style:{display:"flex"},children:C})};var _=function(e){var t=e.block,n=e.clickable,c=void 0===n||n,o=e.locales,i=Object(l.useState)({__html:""}),s=Object(a.a)(i,2),u=s[0],d=s[1],b=Object(v.c)(),j=b.getString,f=(0,b.translateBlock)(t,o,j("placeholder_headline_empty"));Object(l.useEffect)((function(){var e=Object(h.a)(f,{linkify:!1});d({__html:e})}),[f,d]);var O="";t&&t.properties&&t.properties.url&&(O=t.properties.url);var g=Object(m.getBlockColor)(t),x=g.color,y=g.contrastingColor,_={};return x&&(_["--button-background"]=x,_["--button-color"]=y),!0===c&&"string"===typeof O&&O.length>0?Object(p.jsx)("a",Object(r.a)(Object(r.a)({href:O},O.startsWith(window.domains.frontend)?{}:{target:"_blank",rel:"noopener noreferrer"}),{},{children:Object(p.jsx)("button",{dir:"auto",dangerouslySetInnerHTML:u,className:"default square",style:Object(r.a)({margin:"0",whiteSpace:"pre-wrap"},_)})})):Object(p.jsx)("button",{dir:"auto",dangerouslySetInnerHTML:u,disabled:"disabled",className:"default square",style:Object(r.a)({margin:"0",whiteSpace:"pre-wrap"},_)})};function k(e){var t=e.block,n=Object(m.getBlockColor)(t).color,r={};return n&&(r["--on-background"]=n),Object(p.jsx)("hr",{style:r})}var w=n(15);var S=n(50),I=n(86),C=n.n(I),A=n(205);function N(e){return e.toISOString().replace("T"," ").replace(/(:[^:]*?)$/,"")}var B=function(e){var t=e.block,n=e.clickable,c=void 0===n||n,o=e.onClick,i=e.locales,s=e.forceId,u=e.pathSuffix,d=e.size,b=void 0===d?"line":d,j=Object(v.c)(),f=j.getString,O=j.translateBlock,h=j.userLocales,g=(null===t||void 0===t?void 0:t.type)||"unknown",x=t.properties||{},y=x.slug||"",_=function(e){var t=e.block,n=void 0===t?null:t,r=e.forceId,c=void 0!==r&&r,o=e.pathSuffix,i=void 0===o?"":o,s=Object(l.useState)(null),u=Object(a.a)(s,2),d=u[0],b=u[1],j=Object(l.useState)(null),p=Object(a.a)(j,2),f=p[0],O=p[1];return Object(l.useEffect)((function(){var e=null,t=null,r=i.trim().toLowerCase();"view"===r&&(r="");var a=r;if(a.length>0&&(a="/".concat(a)),null!==n){var o=n._id,s=n.type,l=n.properties||{},u=l.slug||"",d=l.url||"";"website"===s&&"string"===typeof d&&d.length>0&&""===r?(e=d,t=null):"redirect"===s&&"string"===typeof d&&d.length>0&&""===r?(e=u.length>0?!0===c?"".concat(window.domains.frontend).concat(u,"=").concat(o).concat(a):"".concat(window.domains.frontend).concat(u).concat(a):"".concat(window.domains.frontend).concat(o).concat(a),t=null):"string"===typeof u&&u.length>0?!0===c?(e="".concat(window.domains.frontend).concat(u,"=").concat(o).concat(a),t="/".concat(u,"=").concat(o).concat(a)):(e="".concat(window.domains.frontend).concat(u).concat(a),t="/".concat(u).concat(a)):(e="".concat(window.domains.frontend).concat(o).concat(a),t="/".concat(o).concat(a))}b(e),O(t)}),[n,c,i,b,O]),{link:d,path:f}}({block:t,forceId:s,pathSuffix:u}),k=_.link,I=_.path,B=O(t,i||h,""),E=[];if("page"===g||"redirect"===g||"person"===g)""===B&&"string"===typeof y&&""!==y&&E.push(Object(p.jsx)("div",{importance:"less",children:"/"+y},"slug"));else if("website"===g)x.hasOwnProperty("url")&&"string"===typeof x.url&&x.url.length>0&&E.push(Object(p.jsx)("div",{style:{fontSize:"calc(0.6 * var(--body-font-size))",margin:"var(--basis_x0_5) 0"},children:Object(p.jsx)("em",{children:x.url})},"url")),x.hasOwnProperty("description")&&"string"===typeof x.description&&x.description.length>0&&E.push(Object(p.jsx)("div",{importance:"less",children:x.description},"description"));else if("apikey"===g)if(x.hasOwnProperty("nbf")&&x.hasOwnProperty("exp")){var R=new Date(x.nbf),P=new Date(x.exp);E.push(Object(p.jsx)("div",{children:f("apikey_validity",{from:N(R),to:N(P)})},"nbf_and_exp"))}else if(x.hasOwnProperty("nbf")){var L=new Date(x.nbf);E.push(Object(p.jsx)("div",{children:f("apikey_validity_from",{from:N(L)})},"nbf"))}else if(x.hasOwnProperty("exp")){var T=new Date(x.exp);E.push(Object(p.jsx)("div",{children:f("apikey_validity_to",{to:N(T)})},"exp"))}if("website"===g&&x.hasOwnProperty("tags")&&Array.isArray(x.tags)){var D=Object(w.a)(new Set(x.tags)).filter((function(e){return"string"===typeof e&&e.length>0})).map((function(e){return Object(p.jsx)("span",{className:C.a.tag,children:e},e)}));E.push(Object(p.jsx)("div",{style:{margin:"var(--basis_x0_5) calc(-1 * var(--basis_x0_5))"},children:D},"tags"))}""===B&&0===E.length&&(B=f("placeholder_headline_empty")),"line"===b&&(""!==B?E=[]:0===E.length&&(E=[E[0]]));var $=Object(p.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[Object(p.jsx)(A.a,{block:t}),Object(p.jsxs)("div",{className:C.a.content,children:[Object(p.jsx)("div",{dir:"auto",className:C.a.title,children:B}),E.length>0?Object(p.jsx)("div",{dir:"auto",className:C.a.additionalInfos,children:E}):null]})]}),F=I||k,q=Object(m.getBlockColor)(t),M=q.color,V=void 0===M?"inherit":M,z=q.colorRGB,H=void 0===z?"--on-background-rgb":z,W={};return"function"===typeof o&&(W.onClick=o),!0===c&&"string"===typeof F&&F.length>0?F.includes(":")?Object(p.jsx)("a",Object(r.a)(Object(r.a)({href:F,target:"_blank",rel:"noreferrer",title:B,className:"clickable_card ".concat(C.a.root),style:{display:"block",cursor:"pointer",color:V,"--on-background-rgb":H}},W),{},{children:$})):Object(p.jsx)(S.b,Object(r.a)(Object(r.a)({to:F,title:B,className:"clickable_card ".concat(C.a.root),style:{display:"block",cursor:"pointer",color:V,"--on-background-rgb":H}},W),{},{children:$})):Object(p.jsx)("div",Object(r.a)(Object(r.a)({title:B,className:"clickable_card ".concat(C.a.root),style:{cursor:"auto",color:V,"--on-background-rgb":H}},W),{},{children:$}))};var E=function(e){var t=e.block,n=e.locales,r=Object(l.useState)({__html:""}),c=Object(a.a)(r,2),o=c[0],i=c[1],s=(0,Object(v.c)().translateBlock)(t,n,"");Object(l.useEffect)((function(){var e=Object(h.a)(s,{linkify:!1});i({__html:e})}),[s,i]);var u="";return t&&t.properties&&t.properties.coverphoto&&t.properties.coverphoto.type&&("url"===t.properties.coverphoto.type?"string"===typeof t.properties.coverphoto.url&&t.properties.coverphoto.url.length>0&&(u="".concat(window.domains.storage,"download_url?f=").concat(window.imageFormat||"jpg","&w=1000&h=1000&url=").concat(encodeURIComponent(t.properties.coverphoto.url))):"file"===t.properties.coverphoto.type&&"string"===typeof t.properties.coverphoto.fileId&&t.properties.coverphoto.fileId.length>0&&(u="".concat(window.domains.storage,"download_file/?f=").concat(window.imageFormat||"jpg","&w=1000&h=1000&id=").concat(encodeURIComponent(t.properties.coverphoto.fileId)))),""!==u?Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:u,alt:s,title:s,style:{maxWidth:"100%",margin:"0 auto",display:"block",boxShadow:"inset 0 0 0 1px rgba(var(--on-background-rgb), var(--alpha-less))"}}),Object(p.jsx)("div",{dir:"auto",dangerouslySetInnerHTML:o,className:"type_caption",style:{textAlign:"center",marginTop:"var(--basis_x0_5)"}})]}):null};var R=function(e){var t=e.block,n=e.style,r=Object(l.useState)({__html:""}),c=Object(a.a)(r,2),o=c[0],i=c[1];return Object(l.useEffect)((function(){i({__html:t.properties.text})}),[t.properties.text,i]),Object(p.jsx)("div",{style:n,dangerouslySetInnerHTML:o})},P=n(222),L=n.n(P),T=n(47),D=n(142),$=n(89),F=n(53),q=n(85);var M=function(){var e=Object(v.c)().getString,t=Object($.a)(),n=Object(q.b)(),r=n.enqueueSnackbar,a=n.closeSnackbar,o=Object(l.useCallback)((function(n){return new Promise((function(o){var i=null;if(n&&""!==n){var l=new Promise((function(e){var l=null;"object"!==typeof window.SERVER_DATA||null===window.SERVER_DATA||Array.isArray(window.SERVER_DATA)||(l=window.SERVER_DATA.preloaded_block||null),"object"===typeof l&&null!==l&&l.hasOwnProperty("_id")&&l._id===n?(window.SERVER_DATA={preloaded_block:null},e("got-preloaded-data"),o(l)):t.query({query:F.b,variables:{_id:n}}).then(function(){var t=Object(c.a)(s.a.mark((function t(n){var c,l,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=n.errors,l=n.data,e("got-data"),null!==i&&a(i),Array.isArray(c)?(r(c.map((function(e){return e.message})).join("\n"),{variant:"error",preventDuplicate:!0,autoHideDuration:5e3}),o(null)):null===l.block?(r("Could not load the content.",{variant:"error",preventDuplicate:!0,autoHideDuration:5e3}),o(null)):(u=l.block,o(u));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.error("error",n),e("got-error"),null!==i&&a(i),r("[could not load data] "+n.message,{variant:"error",preventDuplicate:!0,autoHideDuration:2e3});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));Promise.race([new Promise((function(e){setTimeout((function(){e("show-loading")}),300)})),l]).then((function(t){"show-loading"===t&&(i=r(e("path_editor_status_started_loading"),{persist:!0,preventDuplicate:!0}))})).catch((function(e){return console.error}))}else o({type:"text"})}))}),[r,a,t,e]);return o},V=n(68),z=["blockId","block","clickable","size","dragable","parentProps"];function H(e,t){for(var n in(e=JSON.parse(JSON.stringify(e))).hasOwnProperty(t)&&delete e[t],e)e.hasOwnProperty(n)&&"object"==typeof e[n]&&null!==e[n]&&H(e[n],t);return e}t.a=function(e){var t=e.blockId,n=void 0===t?null:t,i=e.block,u=void 0===i?{}:i,d=(e.clickable,e.size),b=void 0===d?"line":d,j=e.dragable,f=void 0!==j&&j,h=e.parentProps,v=void 0===h?{}:h,m=Object(o.a)(e,z),g=null,x=Object(l.useState)(u||{}),w=Object(a.a)(x,2),S=w[0],I=w[1],C=Object(l.useRef)(!1),A=Object(V.a)().userroles,N=function(e){var t=e.keys,n=void 0===t?[]:t,r=Object(l.useRef)(new Set);return Object(l.useEffect)((function(){function e(e){var t=e.key.toLowerCase();n.includes(t)&&r.current.add(t)}function t(e){var t=e.key.toLowerCase();r.current.delete(t)}return window.addEventListener("keydown",e),window.addEventListener("keyup",t),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}}),[n]),{getPressedKeys:function(){return r.current}}}({keys:["shift"]}).getPressedKeys,P=M();switch(Object(l.useEffect)((function(){JSON.stringify(u)!==JSON.stringify(S)&&I(u||{})}),[S,u]),Object(l.useEffect)((function(){!n||S.hasOwnProperty("_id")&&n===S._id||!1!==C.current||(C.current=!0,P(n).then(function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof t&&null!==t){e.next=4;break}throw new Error("ViewerAuto: loadBlock returned no object");case 4:null!==t.type&&I(t);case 5:C.current=!1;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e),C.current=!1})))}),[n,S,P,I]),S.type||null){case"text":g=Object(p.jsx)(y,Object(r.a)({block:S},m),S._id);break;case"button":g=Object(p.jsx)(_,Object(r.a)({block:S},m),S._id);break;case"divider":g=Object(p.jsx)(k,Object(r.a)({block:S},m),S._id);break;case"page":case"person":case"redirect":case"website":case"apikey":case"poster":g=Object(p.jsx)(B,Object(r.a)({block:S,size:b},m),S._id);break;case"image":g=Object(p.jsx)(E,Object(r.a)({block:S},m),S._id);break;case"code":g=Object(p.jsx)(R,Object(r.a)({block:S},m),S._id);break;default:g=null}var $=Object(D.a)(),F=Object(l.useCallback)(function(){var e=Object(c.a)(s.a.mark((function e(t){var n,r,c,a,o,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,"object"!==typeof(r=((void 0===n?{}:n)||{})["application/json"])||null===r){e.next=23;break}if(c=H(c=r,"__typename"),a=S.computed.roles||[],o=c.computed.roles||[],c._id===S._id||!(A.includes("admin")||(a.includes("editor")||a.includes("owner"))&&(o.includes("editor")||o.includes("owner")))){e.next=23;break}return i=N(),l=!1,e.prev=10,e.next=13,$({mutation:T.b,variables:{movingBlockId:c._id,newParentId:S._id,newIndex:0}});case 13:if(!i.has("shift")){e.next=16;break}return e.next=16,$({mutation:T.c,variables:{block:{_id:c._id,properties:{active:!1}}}});case 16:l=!0,e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),console.error(e.t0);case 22:l&&console.log("TODO reload sidebar");case 23:case"end":return e.stop()}}),e,null,[[10,19]])})));return function(t){return e.apply(this,arguments)}}(),[$,S,N,A]),q=Object(l.useCallback)((function(e){var t=e.data,n=((void 0===t?{}:t)||{})["application/json"],r=!1;if("object"===typeof n&&null!==n&&n.hasOwnProperty("computed")&&n.computed.hasOwnProperty("roles")){var c=n.computed.roles||[];(A.includes("admin")||c.includes("editor")||c.includes("owner"))&&(r=!0)}return r}),[A]);return Object(p.jsx)(O,Object(r.a)(Object(r.a)({draggable:f,className:L.a.root,onTransmit:function(){return{data:{"text/plain":S.properties.text||"","application/json":S}}},onReceive:F,checkEntry:q},v),{},{children:g}),S._id)}},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(18),c=n(4),a=n(5),o=n(8),i=n.n(o),s=n(1),l=n(89),u=n(53),d={userroles:[]};function b(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(s.useRef)(!1);Object(s.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]);var n=Object(s.useState)(d),o=Object(a.a)(n,2),b=o[0],j=o[1],p=Object(s.useState)(!1),f=Object(a.a)(p,2),O=f[0],h=f[1],v=Object(l.a)();return Object(s.useEffect)((function(){!0!==e&&window.hasOwnProperty("user")?(j(Object(c.a)(Object(c.a)({},window.user),{},{userroles:window.user.userroles||[]})),h(window.user.logged_in)):v.query({query:u.f}).then(function(){var e=Object(r.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.data,!0===t.current&&(r.hasOwnProperty("self")&&null!==r.self?(window.user=r.self,j(Object(c.a)(Object(c.a)({},r.self),{},{userroles:r.self.userroles||[]})),h(r.self.logged_in)):(j(d),h(!1)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e),!0===t.current&&(j(d),h(!1))}))}),[e,j,h,v]),Object(c.a)(Object(c.a)({},b),{},{loggedIn:O})}},73:function(e,t,n){e.exports={dialog:"SearchBox_dialog__1znAI",backdrop:"SearchBox_backdrop__2e5Wz",inputWrapper:"SearchBox_inputWrapper__24CrI",input:"SearchBox_input__1qb9w",actions:"SearchBox_actions__4Zrwb",searchInput:"SearchBox_searchInput__3M4FI",filters:"SearchBox_filters__1axwa",searchResults:"SearchBox_searchResults__3ySIT",searchErrors:"SearchBox_searchErrors__1Q8W1",mathResult:"SearchBox_mathResult__YFSbr",blockRow:"SearchBox_blockRow__13jhD",blockRowActions:"SearchBox_blockRowActions__1FRMH",fakeHover:"SearchBox_fakeHover__30G2t"}},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(4),c=n(24),a=n(374),o=n(372),i=n(351),s=n(234),l=n(230),u=n(233),d=n(352),b=n(17),j=n(187),p=n(0),f=["closePopover","open"],O=["sx"];function h(e){var t=e.trigger,n=e.children,h=e.onToogle,v=e.paperProps,m=void 0===v?{}:v;return Object(p.jsx)(j.a,{trigger:t,onToogle:h,children:function(e){var t=e.closePopover,j=e.open,h=Object(c.a)(e,f),v=m||{},g=v.sx,x=void 0===g?{}:g,y=Object(c.a)(v,O);return Object(p.jsx)(a.a,Object(r.a)(Object(r.a)(Object(r.a)({},h),{},{sx:Object(r.a)({maxWidth:380,maxHeight:"calc(100vh - 32px)",overflow:"auto",background:"var(--background-contrast)",color:"var(--on-background)",borderRadius:"var(--basis_x2)"},x),elevation:8},y),{},{children:Object(p.jsx)(o.a,{autoFocus:!0,style:{width:"100%",maxWidth:"100%",marginTop:"-8px"},children:Object(p.jsxs)("div",{children:["function"===typeof n?n({isOpen:j,close:t}):n,Object(p.jsx)(i.a,{style:{opacity:.2,marginBottom:"8px"}}),Object(p.jsxs)(s.a,{className:"roundMenuItem",onClick:t,children:[Object(p.jsx)(l.a,{children:Object(p.jsx)(d.a,{})}),Object(p.jsx)(u.a,{children:Object(p.jsx)(b.a,{id:"block_menu_close_menu"})})]})]})})}))}})}},80:function(e,t,n){e.exports={snackbar:"Snackbar_snackbar__119_w",default:"Snackbar_default__31-eU",success:"Snackbar_success__zvTW8",error:"Snackbar_error__3XeD6",warning:"Snackbar_warning__2CBXt",info:"Snackbar_info__EuVSN"}},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(4),c=n(219),a=n.n(c),o=n(220),i=n.n(o),s=n(221),l=n.n(s),u=n(143);function d(e){var t=a()(Object(r.a)({html:!1,xhtmlOut:!1,linkify:!0,typographer:!0,breaks:!1},e));return t.use(i.a),t.use(l.a),t}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=(e=e||"").replace(/\(TM\)/gi,"\u2122").replace(/\(SM\)/gi,"\u2120").replace(/\(C\)/gi,"\xa9").replace(/\(R\)/gi,"\xae");var n=d(t);return e=n.renderInline(e),e=u.a.parse(e,{folder:"svg",ext:".svg",base:"/public/twemoji/assets/"})}},86:function(e,t,n){e.exports={content:"ViewerLineAndCard_content__1lFI-",title:"ViewerLineAndCard_title__2hfbo",additionalInfos:"ViewerLineAndCard_additionalInfos__2CGI1",tag:"ViewerLineAndCard_tag__XiCzV"}},87:function(e,t,n){e.exports={root:"List_root__HV2hJ",app:"List_app__osHkL",spine_aligned:"List_spine_aligned__1_f4u",items:"List_items__29a1C",contentWrapper:"List_contentWrapper__1H5GD",type_p:"List_type_p__V70Yn",blockRow:"List_blockRow__2h-9h",blockRowActions:"List_blockRowActions__O3oX6"}},97:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return v}));var r=n(13),c=n(5),a=n(1),o=n(472),i=n(23),s=function(e){var t=Object(a.useState)(!1),n=Object(c.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){var t=window.matchMedia(e);t.matches!==r&&o(t.matches);var n=function(){return o(t.matches)};return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[r,e]),r},l=n(164),u=n.n(l),d=n(0),b=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(7),n.e(8)]).then(n.bind(null,534))})),j=Object(a.createContext)({});function p(){return Object(a.useContext)(j)}function f(e){var t=e.children,n=Object(a.useState)(!1),r=Object(c.a)(n,2),o=r[0],s=r[1],l=!Object(i.f)("/")&&o,u=Object(a.useCallback)((function(){s((function(e){return!e}))}),[s]);return Object(d.jsx)(j.Provider,{value:{open:l,setOpen:s,toggleSidebar:u},children:t})}function O(){var e=p(),t=e.open,n=e.toggleSidebar,c="undefined"!==typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent),i=s("(min-width: 960px)");return t?Object(d.jsx)(o.a,{variant:i?"permanent":"temporary",anchor:"left",open:t,onOpen:n,onClose:n,disableBackdropTransition:!c,disableDiscovery:c,sx:Object(r.a)({width:320,flexShrink:0},"& .MuiDrawer-paper",{width:320,boxSizing:"border-box",backgroundColor:"var(--background-contrast)",color:"var(--on-background)",border:"none"}),PaperProps:{sx:{background:"var(--background-contrast)",color:"var(--on-background)"}},children:Object(d.jsx)(a.Suspense,{children:Object(d.jsx)(h,{})})}):null}function h(){return Object(d.jsx)(a.Suspense,{children:Object(d.jsx)(b,{})})}function v(e){var t=e.children,n=p().open;return Object(d.jsx)("main",{className:"".concat(u.a.main," ").concat(n?u.a.open:""),style:{"--sidebarWidth":"320px"},children:t})}}},[[344,3,4]]]);
//# sourceMappingURL=main.3934644a.chunk.js.map
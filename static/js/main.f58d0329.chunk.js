(this["webpackJsonpedit.volt.link"]=this["webpackJsonpedit.volt.link"]||[]).push([[1],{115:function(e,t,n){e.exports={drag_over:"DataTransmat_drag_over__3XVzh",drag_active:"DataTransmat_drag_active__2nwCM"}},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(5),c=n(21),a=n(337),o=n(215),i=n(338),s=n(123),l=n(39),u=n(80),d=n.n(u),b=n(0),j=n(1),p=["block","style","className"];function f(e){var t=e.block,n=e.style,u=void 0===n?{}:n,f=e.className,O=void 0===f?"":f,h=Object(c.a)(e,p),v=t.properties||{},g=null;if(v.hasOwnProperty("icon")&&"object"===typeof v.icon&&null!==v.icon&&!Array.isArray(v.icon)&&v.icon.hasOwnProperty("type")&&"string"===typeof v.icon.type&&"emoji"===v.icon.type&&v.icon.hasOwnProperty("emoji")&&"string"===typeof v.icon.emoji&&0!==v.icon.emoji.length&&(g=Object(b.createElement)(s.a,Object(r.a)(Object(r.a)({},h),{},{style:u,key:v.icon.emoji,className:"".concat(d.a.icon," ").concat(O),emoji:v.icon.emoji}))),null===g){var x=!1,m=Object(l.getImageUrl)(v.icon);m||(x=!0,m=Object(l.getImageUrl)(v.coverphoto)),"string"===typeof m&&0!==m.length&&(g=Object(j.jsx)("div",Object(r.a)(Object(r.a)({},h),{},{className:"".concat(d.a.icon," ").concat(x?d.a.square:d.a.round," ").concat(O),style:Object(r.a)(Object(r.a)({},u),{},{backgroundImage:"url(".concat(window.domains.backend,"download_url?f=").concat(window.imageFormat||"jpg","&w=40&h=40&url=").concat(encodeURIComponent(m),")")}),alt:""})))}if(null===g)switch(t.type){case"person":g=Object(j.jsx)(a.a,Object(r.a)(Object(r.a)({},h),{},{style:u,className:"".concat(d.a.icon," ").concat(O)}));break;case"redirect":g=Object(j.jsx)(o.a,Object(r.a)(Object(r.a)({},h),{},{style:u,className:"".concat(d.a.icon," ").concat(O)}));break;default:g=Object(j.jsx)(i.a,Object(r.a)(Object(r.a)({},h),{},{style:u,className:"".concat(d.a.icon," ").concat(O)}))}return g}},123:function(e,t,n){"use strict";var r=n(5),c=n(6),a=n(0),o=n(130),i=n(1),s=function(e){var t=e.className,n=e.style,s=e.emoji,l=void 0===s?"":s,u=Object(a.useState)({__html:""}),d=Object(c.a)(u,2),b=d[0],j=d[1];return Object(a.useEffect)((function(){if("string"===typeof l&&l.length>0){var e=o.a.parse(l,{folder:"svg",ext:".svg",base:"/public/twemoji/assets/"});j({__html:e})}else j({__html:""})}),[l,j]),Object(i.jsx)("span",{className:t,style:Object(r.a)({fontSize:0},n),dangerouslySetInnerHTML:b})};t.a=Object(a.memo)(s)},129:function(e,t,n){"use strict";var r=n(0),c=n(100);t.a=function(){var e=Object(c.a)();return Object(r.useCallback)((function(t){return new Promise((function(n,r){e.mutate(t).then((function(e){var t=e.data;"string"===typeof t.error?r(t.error):n(t)})).catch(r)}))}),[e])}},136:function(e,t,n){e.exports={header:"Header_header__3mObx",headerBar:"Header_headerBar__2YU41",notificationBanner:"Header_notificationBanner__104SP"}},144:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(5),c=n(18),a=n(6),o=n(12),i=n.n(o),s=n(0),l=n(136),u=n.n(l),d=n(339),b=n(340),j=n(341),p=n(50),f=n(87),O=n(76),h=n(82),v=n(100),g=n(45),x=n(1);function m(e){var t=e.title,n=e.block,o=void 0===n?{}:n,l=e.rightActions,m=e.notificationBanner,y=Object(f.e)(),_=y.open,k=y.toggleSidebar,w=Object(v.a)(),S=o?o._id:null,I=o?o.parent:null,A=Object(s.useState)([]),C=Object(a.a)(A,2),B=C[0],E=C[1],N=Object(s.useState)([]),P=Object(a.a)(N,2),R=P[0],T=P[1],L=Object(s.useCallback)((function(e){w.query({query:g.f,variables:{_id:e}}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"!==typeof(n=t.data).error&&n.blocks?(r=(n.blocks||[]).sort((function(e,t){return t.computed.sort-e.computed.sort})),E(r)):(console.error(n.error),E([]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("error",t),E([]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[w,E]),$=Object(s.useCallback)((function(e,t){w.query({query:g.e,variables:{roots:[t],types:["page","person","redirect"],archived:!1}}).then(function(){var e=Object(c.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"!==typeof(r=n.data).error&&r.blocks?T((r.blocks||[]).filter((function(e){return e._id!==t}))):(console.error(r.error),T([]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("error",t),T([]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[w,T]);Object(s.useEffect)((function(){S&&(L(S),$(I,S))}),[S,I,L,$]);var D=Object(x.jsxs)(x.Fragment,{children:[_?null:Object(x.jsx)("button",{onClick:k,className:"text hasIcon",style:{margin:"0"},children:Object(x.jsx)(d.a,{className:"icon"})}),Object(x.jsxs)("div",{style:{flexGrow:"1"},children:[Object(x.jsx)(p.b,{to:"/",children:Object(x.jsx)("button",{className:"text",style:{margin:"calc(-2 * var(--basis))"},children:Object(x.jsx)(b.a,{style:{verticalAlign:"middle"}})})}),Object(x.jsx)("span",{style:{margin:"var(--basis_x2)",opacity:"var(--alpha)"},children:"/"}),S&&B.length>0?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(h.a,{trigger:function(e){return Object(x.jsx)("button",Object(r.a)(Object(r.a)({},e),{},{className:"text",style:{margin:"calc(-2 * var(--basis))"},children:Object(x.jsx)(j.a,{style:{verticalAlign:"middle"}})}))},children:Object(x.jsx)("div",{style:{padding:"var(--basis_x2)"},children:B.map((function(e){return Object(x.jsx)(O.a,{block:e,size:"line"},e._id)}))})}),Object(x.jsx)("span",{style:{margin:"var(--basis_x2)",opacity:"var(--alpha)"},children:"/"})]}):null,R.length>0?Object(x.jsx)(h.a,{trigger:function(e){return Object(x.jsx)("button",Object(r.a)(Object(r.a)({},e),{},{className:"text",style:{margin:"calc(-2 * var(--basis))"},children:Object(x.jsx)("span",{style:{fontWeight:"bold"},children:t})}))},children:Object(x.jsx)("div",{style:{padding:"var(--basis_x2)"},children:R.map((function(e){return Object(x.jsx)(O.a,{block:e,size:"line"},e._id)}))})}):Object(x.jsx)("span",{style:{fontWeight:"bold"},children:t})]})]});return Object(x.jsxs)("header",{className:u.a.header,children:[Object(x.jsxs)("div",{className:u.a.headerBar,children:[D,l]}),m?Object(x.jsx)("div",{className:u.a.notificationBanner,children:m}):null]})}},146:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var r=n(24),c=n(13),a=n(6),o=n(18),i=n(12),s=n.n(i),l=n(0),u=n(98),d=n(116),b=n(93),j=n(1),p={de:"Deutsch (German)",en:"English",it:"Italiano (Italian)",se:"Davvis\xe1megiella (Northern Sami)",fr:"Fran\xe7ais (French)",es:"Espa\xf1ol (Spanish)",nl:"Dutch (Nederlands)"},f=Object.keys(p),O="en";function h(e){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(s.a.mark((function e(t){var r,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(319)("./"+t+".ftl");case 2:return r=e.sent,e.next=5,fetch(r.default);case 5:return a=e.sent,e.next=8,a.text();case 8:return o=e.sent,e.abrupt("return",Object(c.a)({},t,new d.b(o)));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(h));case 2:return n=e.sent,c=n.reduce((function(e,t){return Object.assign(e,t)})),e.abrupt("return",s.a.mark((function e(){var n,a,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(r.a)(t),e.prev=1,n.s();case 3:if((a=n.n()).done){e.next=11;break}return o=a.value,(i=new d.a(o)).addResource(c[o]),e.next=9,i;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){var t=e.userLocales,n=e.children,r=e.onLocaleChange,c=Object(l.useState)(function(){var e=new d.a("");return e.addResource(new d.b("")),new u.c([e])}()),i=Object(a.a)(c,2),p=i[0],h=i[1];return Object(l.useEffect)((function(){function e(){return(e=Object(o.a)(s.a.mark((function e(){var n,c,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(b.negotiateLanguages)(t,f,{defaultLocale:O}),r&&r(n),e.next=4,g(n);case 4:c=e.sent,(a=new u.c(c())).userLocales=t,a.defaultLocale=O,a.supportedLocales=f,h(a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,r]),p?Object(j.jsx)(u.a,{l10n:p,children:n}):Object(j.jsx)("div",{children:"Loading texts\u2026"})}},149:function(e,t,n){e.exports={app:"App_app__3hbGO",isStartpage:"App_isStartpage__1Q6rs"}},15:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h}));var r=n(25),c=n(24),a=n(5),o=n(0),i=n.n(o),s=n(98),l=n(93),u=n(58),d=n(153),b=n.n(d),j=n(1),p=function(e){return Object(j.jsx)(s.b,Object(a.a)(Object(a.a)({},e),{},{elems:Object(a.a)({br:Object(j.jsx)("br",{})},e.elems),children:Object(j.jsx)(i.a.Fragment,{children:e.children})}),e.id)};function f(e){return function(t){var n=i.a.useContext(u.a);return i.a.createElement(e,Object(a.a)({fluentByObject:function(e,t){if(t||(t=null),e){var r,a=n.supportedLocales||[],o=Object.keys(e).filter((function(e){return a.includes(e)})),i=Object(l.negotiateLanguages)(n.userLocales,o,{defaultLocale:n.defaultLocale}),s=Object(c.a)(i);try{for(s.s();!(r=s.n()).done;){var u=r.value;if(e[u])return e[u]}}catch(d){s.e(d)}finally{s.f()}return t}return t},getString:function(e,t,r){return n.getString(e,t,r||"")}},t))}}function O(e,t,n){var c=e.properties||{},a=c.locale||"en",o=c.text||n||"";t&&Array.isArray(t)||(t=[a]);var i=c.translations||[];if(Array.isArray(i)){i=[{locale:a,text:o}].concat(Object(r.a)(i));var s=b.a.fluentByArray(i,t,"locale");s.length>0&&(o=s[0].text)}return o}function h(){var e=i.a.useContext(u.a);return Object(a.a)(Object(a.a)({},e),{},{userLocales:e.userLocales||[],getString:function(t,n,r){return e.getString(t,n,r||" ")},fluentByAny:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return b.a.fluentByAny(t,e.userLocales,n)},translateBlock:O})}},150:function(e,t,n){e.exports={main:"Sidebar_main__1MCX5",open:"Sidebar_open__gnBQb"}},153:function(e,t,n){var r=n(93).negotiateLanguages;function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["en"],n=Object.keys(e);if(0===n.length)return null;var c=r(t,n,{defaultLocale:n[0],strategy:"lookup"});return 0===c.length?null:e[c[0]]}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["en"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"locale",c=e.map((function(e){return e[n]})).filter(Boolean);if(0===c.length)return null;var a=r(t,c,{defaultLocale:c[0],strategy:"lookup"});return 0===a.length?null:e.filter((function(e){return e[n]===a[0]}))}e.exports={fluentByObject:c,fluentByArray:a,fluentByAny:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["en"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(Array.isArray(e)){var r=a(e,t);Array.isArray(r)&&r.length>0&&(e=r[0].value)}else"object"===typeof e&&(e=c(e,t));return"string"!==typeof e&&(e=n),e}}},161:function(e,t,n){"use strict";var r=n(18),c=n(12),a=n.n(c),o=n(0),i=n(100),s=n(45);t.a=function(){var e=Object(i.a)(),t=Object(o.useCallback)((function(t){return new Promise((function(n){e.query({query:s.e,variables:t}).then(function(){var e=Object(r.a)(a.a.mark((function e(t){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.errors,c=t.data,!(Array.isArray(r)&&r.length>0)){e.next=5;break}throw r;case 5:if(!Array.isArray(c.blocks)){e.next=9;break}n(c.blocks),e.next=10;break;case 9:throw new Error("Unknown error while loading blocks.");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("error",t),n([]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}),[e]);return t}},162:function(e,t,n){"use strict";var r=n(25),c=n(18),a=n(6),o=n(12),i=n.n(o),s=n(0),l=n(17),u=n(50),d=n(214),b=n(218),j=n(327),p=n(216),f=n(440),O=n(329),h=n(330),v=n(336),g=n(332),x=n(334),m=n(215),y=n(411),_=n(412),k=n(413),w=n(414),S=n(415),I=n(416),A=n(417),C=n(418),B=n(419),E=n(420),N=n(421),P=n(422),R=n(15),T=n(39),L=n(176),$=n(75),D=n(82),F=n(5),M=n(441),q=n(444),V=n(409),z=n(328),H=n(1);function W(e){var t=e.disabled,n=void 0!==t&&t,r=e.parentMenuIsOpen,c=void 0===r||r,o=e.label,i=void 0===o?"":o,l=e.triggerProps,u=void 0===l?{}:l,p=e.header,f=void 0===p?null:p,O=e.MenuListProps,h=void 0===O?{}:O,v=e.position,g=void 0===v?"right":v,x=e.onOpen,m=void 0===x?function(){}:x,y=e.children,_=Object(s.useRef)(null),k=Object(s.useState)(!1),w=Object(a.a)(k,2),S=w[0],I=w[1],A=S&&c,C=Object(s.useCallback)((function(){if(!0!==n){var e=!A;I(e),!0===e&&m()}}),[I,A,m,n]),B=Object(s.useCallback)((function(){I(!1)}),[I]);return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(b.a,Object(F.a)(Object(F.a)({},u),{},{disabled:n,ref:_,onClick:C,className:"roundMenuItem",style:Object(F.a)({display:"flex",justifyContent:"space-between"},u.style),children:[Object(H.jsx)("div",{style:{display:"flex"},children:i}),Object(H.jsx)(V.a,{style:{marginRight:"-10px"}})]})),Object(H.jsx)(M.a,{style:{pointerEvents:"none"},anchorEl:_.current,anchorOrigin:{vertical:"top",horizontal:"right"===g?"right":"left"},transformOrigin:{vertical:"top",horizontal:"right"===g?"left":"right"},open:A,autoFocus:!1,disableAutoFocus:!0,disableEnforceFocus:!0,onClose:B,sx:{marginTop:"-8px"},MenuListProps:Object(F.a)(Object(F.a)({},h),{},{sx:Object(F.a)({maxWidth:380,maxHeight:"calc(100vh - 32px)",overflow:"auto",background:"var(--background-contrast)",color:"var(--on-background)"},h.sx)}),children:Object(H.jsxs)("div",{style:{pointerEvents:"auto"},children:[null!==f?Object(H.jsx)(q.a,{style:{whiteSpace:"nowrap",lineHeight:"1",margin:"0",padding:"4px 16px 12px",backgroundColor:"var(--background-contrast)",color:"var(--on-background)"},children:f}):null,y,Object(H.jsx)(j.a,{style:{opacity:.2}}),Object(H.jsxs)(b.a,{className:"roundMenuItem",style:{marginTop:"8px"},onClick:B,children:[Object(H.jsx)(d.a,{children:Object(H.jsx)(z.a,{})}),Object(H.jsx)(R.a,{id:"block_menu_close_menu"})]})]})})]})}n(219);var U=n(69),G=n(129),J={button:Object(H.jsx)(O.a,{}),text:Object(H.jsx)(h.a,{}),image:Object(H.jsx)(v.a,{}),divider:Object(H.jsx)(g.a,{}),page:Object(H.jsx)(x.a,{}),redirect:Object(H.jsx)(m.a,{})},X=["button","text","image","divider","page","redirect"],K={default:"var(--on-background)",yellow:"var(--yellow)",green:"var(--green)",red:"var(--red)",blue:"var(--blue)"},Q=Object.keys(K);function Y(e){if(K.hasOwnProperty(e))return K[e];var t=Object(T.getBlockColor)({properties:{color:e}}).color;return t||e}t.a=Object(R.d)((function(e){var t=e.block,n=void 0===t?{}:t,o=e.getString,O=e.trigger,h=e.onToogle,v=e.saveType,g=e.saveProperty,x=e.typeOptions,m=void 0===x?X:x,F=(e.onRemoveRow,e.addRowBefore,e.onArchivedToggle),M=void 0===F?null:F,q=e.onReloadContext,V=void 0===q?null:q,z=Object($.a)(),K=z.loggedIn,Z=z.userroles;n.hasOwnProperty("properties")&&"object"===typeof n.properties&&null!==n.properties&&!Array.isArray(n.properties)||(n.properties={});var ee=n._id,te=void 0===ee?"":ee,ne=n.type,re=void 0===ne?"":ne,ce=n.properties,ae=void 0===ce?{}:ce,oe=n.computed,ie=void 0===oe?{}:oe,se=ae.active,le=void 0===se||se,ue=ae.text_style,de=void 0===ue?null:ue,be=ae.text_decorations,je=void 0===be?[]:be,pe=ae.color,fe=void 0===pe?null:pe;Array.isArray(je)||(je=[]);var Oe=(null===ie?{}:ie).roles,he=void 0===Oe?[]:Oe,ve=K&&(Z.includes("admin")||he.includes("owner")||he.includes("editor")),ge=Object(s.useState)(!0===ae.archived),xe=Object(a.a)(ge,2),me=xe[0],ye=xe[1],_e=Object(L.a)(),ke=Object(G.a)(),we=Object(l.g)(),Se=(Object(s.useCallback)(function(){var e=Object(c.a)(i.a.mark((function e(t){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.type,e.prev=1,!("string"===typeof n&&n.length>0)){e.next=12;break}return e.next=5,ke({mutation:U.c,variables:{block:{type:n}}});case 5:if(r=e.sent,null===(c=r.saveBlock)){e.next=12;break}return e.next=10,ke({mutation:U.b,variables:{movingBlockId:c,newParentId:te,newIndex:0}});case 10:"function"===typeof V&&V(),we("/".concat(c,"/edit"));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),[ke,te,V,we]),Object(s.useCallback)((function(){var e=!me;_e({_id:n._id,archive:e}).then((function(){ye(e),"function"===typeof M&&M(e),"function"===typeof V&&V()})).catch(console.error)}),[_e,ye,me,n,M,V])),Ie=Object(s.useCallback)((function(){"function"===typeof g&&g("active",!le)}),[le,g]),Ae=n.metadata||{},Ce=Object(T.getBlockColor)(n).color;Ce||(Ce="transparent");var Be=Object(s.useCallback)((function(e){var t=Object(r.a)(new Set(je));je.includes(e)?t=t.filter((function(t){return t!==e})):t.push(e),g("text_decorations",t)}),[je,g]);return Object(H.jsx)(D.a,{trigger:O,onToogle:h,children:function(e){var t=e.open;return Object(H.jsxs)("div",{children:[Object(H.jsx)("div",{style:{height:"8px"}}),ve&&"function"===typeof v&&Array.isArray(m)&&m.length>0&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(W,{disabled:"person"===re,parentMenuIsOpen:t,label:Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(d.a,{children:Object(H.jsx)(y.a,{})}),Object(H.jsx)(R.a,{id:"block_menu_choose_type_label"})]}),header:Object(H.jsx)(R.a,{id:"block_menu_choose_type_label"}),children:m.map((function(e){return Object(H.jsxs)(b.a,{selected:e===re,onClick:function(){return v(e)},className:"roundMenuItem",children:[Object(H.jsx)(d.a,{children:J[e]}),o("block_menu_type_label_".concat(e),e)]},e)}))}),Object(H.jsx)(j.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}})]}),ve&&"function"===typeof g&&Object(H.jsxs)(W,{parentMenuIsOpen:t,label:Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(d.a,{children:Object(H.jsx)(_.a,{style:{color:Y(fe)}})}),Object(H.jsx)(R.a,{id:"block_menu_choose_color_label"})]}),header:Object(H.jsx)(R.a,{id:"block_menu_choose_color_label"}),children:[Q.map((function(e){return Object(H.jsxs)(b.a,{selected:"default"===e?null===fe:fe===e,onClick:function(){return g("color","default"===e?null:e)},className:"roundMenuItem",children:[Object(H.jsx)(d.a,{children:Object(H.jsx)(k.a,{style:{color:Y(e)}})}),e]},e)})),Object(H.jsxs)(b.a,{className:"roundMenuItem",selected:null!==fe&&!Q.includes(fe),children:[Object(H.jsx)(d.a,{children:Object(H.jsx)(k.a,{style:{color:Ce}})}),Object(H.jsx)("input",{type:"text",placeholder:"#FFFFFF",defaultValue:fe,onBlur:function(e){return g("color",e.target.value)},style:{width:"160px",margin:"0 calc(-1 * var(--basis)) 0 0"}},Q.includes(fe)?fe:"custom")]})]}),ve&&"function"===typeof g&&"text"===re&&Object(H.jsx)(W,{parentMenuIsOpen:t,label:Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(d.a,{children:Object(H.jsx)(w.a,{})}),Object(H.jsx)(R.a,{id:"block_menu_choose_text_style_label"})]}),header:Object(H.jsx)(R.a,{id:"block_menu_choose_text_style_label"}),children:["h2","h3","body"].map((function(e){return Object(H.jsx)(b.a,{selected:"body"===e?null===de:de===e,onClick:function(){return g("text_style","body"===e?null:e)},className:"roundMenuItem",children:o("block_menu_text_style_label_".concat(e),e)},e)}))}),ve&&"function"===typeof g&&"text"===re&&Object(H.jsx)(W,{parentMenuIsOpen:t,label:Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(d.a,{children:Object(H.jsx)(S.a,{})}),Object(H.jsx)(R.a,{id:"block_menu_choose_text_decorations_label"})]}),header:Object(H.jsx)(R.a,{id:"block_menu_choose_text_decorations_label"}),children:["checkbox"].map((function(e){var t=je.includes(e);return Object(H.jsxs)(b.a,{selected:t,onClick:function(){return Be(e)},className:"roundMenuItem",children:[Object(H.jsx)(d.a,{children:t?Object(H.jsx)(I.a,{}):Object(H.jsx)(I.a,{style:{opacity:0}})}),o("block_menu_text_decoration_label_".concat(e),e)]},e)}))}),ve&&"function"===typeof g&&Object(H.jsx)(j.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}}),!1,ve&&"function"===typeof g&&Object(H.jsxs)(b.a,{className:"roundMenuItem",onClick:Ie,children:[Object(H.jsx)(d.a,{children:le?Object(H.jsx)(A.a,{}):Object(H.jsx)(C.a,{})}),Object(H.jsx)(p.a,{primary:Object(H.jsx)("span",{children:le?Object(H.jsx)(R.a,{id:"block_menu_hide"}):Object(H.jsx)(R.a,{id:"block_menu_show"})}),secondary:Object(H.jsx)("span",{style:{whiteSpace:"normal"},children:Object(H.jsx)(R.a,{id:"block_menu_hide_show_description"})})})]}),ve&&"function"===typeof M&&Object(H.jsxs)(b.a,{className:"roundMenuItem",onClick:Se,children:[Object(H.jsx)(d.a,{children:!0===me?Object(H.jsx)(B.a,{}):Object(H.jsx)(E.a,{})}),!0===me?Object(H.jsx)(R.a,{id:"block_menu_unarchive"}):Object(H.jsx)(R.a,{id:"block_menu_archive"})]}),("function"===typeof g||"function"===typeof M)&&Object(H.jsx)(j.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}}),"string"===typeof te&&""!==te&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(b.a,{component:u.b,to:"/".concat(te,"/view"),className:"roundMenuItem",style:{marginTop:"8px"},children:[Object(H.jsx)(d.a,{children:Object(H.jsx)(N.a,{})}),Object(H.jsx)(R.a,{id:"view_block"})]}),ve&&Object(H.jsxs)(b.a,{component:u.b,to:"/".concat(te,"/edit"),className:"roundMenuItem",children:[Object(H.jsx)(d.a,{children:Object(H.jsx)(P.a,{})}),Object(H.jsx)(R.a,{id:"edit_block"})]}),Object(H.jsx)(j.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}})]}),Object(H.jsx)(f.a,{sx:{paddingTop:"0",paddingBottom:"0"},children:Object(H.jsx)(p.a,{primary:Object(H.jsx)("span",{children:Object(H.jsx)(R.a,{id:"block_menu_info_modified"})}),secondary:Object(H.jsx)("span",{children:(Ae.modified||"").replace(/[TZ]/g," ")})})}),Object(H.jsx)(f.a,{sx:{paddingTop:"0",paddingBottom:"0"},children:Object(H.jsx)(p.a,{primary:Object(H.jsx)("span",{children:Object(H.jsx)(R.a,{id:"block_menu_info_id"})}),secondary:Object(H.jsx)("span",{children:te})})})]})}})}))},164:function(e,t,n){"use strict";var r=n(5),c=n(6),a=n(0),o=n(345),i=n(325),s=n(1);t.a=function(e){var t=e.trigger,n=e.children,l=void 0===n?function(){}:n,u=e.onToogle,d=void 0===u?function(){}:u,b=e.setOpenBlockMenuRef,j=Object(a.useRef)(null),p=Object(a.useState)(!1),f=Object(c.a)(p,2),O=f[0],h=f[1],v=Object(a.useCallback)((function(e){h(e)}),[h]);Object(a.useEffect)((function(){b&&(b.current=v)}),[v,b]);var g=function(){d(!1),h(!1)},x=O?"popover-"+(Math.random()+1).toString(36).substring(7):void 0;return Object(s.jsxs)(s.Fragment,{children:[t({ref:j,"aria-describedby":x,onClick:function(){h((function(e){return d(!e),!e}))},style:{pointerEvents:O?"none":"all"}},{isOpen:O}),Object(s.jsx)("div",{onClick:g,style:{display:O?"block":"none",position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:1299,cursor:"pointer"}}),Object(s.jsx)(o.a,{id:x,open:O,anchorEl:j.current,transition:!0,placement:"bottom-start",disablePortal:!1,modifiers:[{name:"flip",enabled:!0,options:{altBoundary:!0,rootBoundary:"viewport",padding:8}}],style:{zIndex:1300},children:function(e){var t=e.TransitionProps;return Object(s.jsx)(i.a,Object(r.a)(Object(r.a)({},t),{},{children:Object(s.jsx)("div",{children:l&&"function"===typeof l?l({open:O,style:{transformOrigin:"top left"},closePopover:g}):null})}))}})]})}},166:function(e,t,n){"use strict";var r=n(5),c=n(6),a=n(0),o=n(1);t.a=function(e){var t=e.ariaLabel,n=e.items,i=e.defaultValue,s=e.onChange,l=e.style,u=void 0===l?{}:l,d=e.buttonProps,b=void 0===d?{}:d,j=e.className,p=void 0===j?"":j,f=Object(a.useState)(),O=Object(c.a)(f,2),h=O[0],v=O[1];Object(a.useEffect)((function(){return v(i)}),[i,v]);var g=Object(a.useCallback)((function(e){var t=e.target.dataset.value;v(t),s&&s(t)}),[v,s]);return Object(o.jsx)("div",{"aria-label":t,className:"buttonRow "+(p||""),style:u,children:n.map((function(e){var t=e.value,n=e.title,c=e.icon||null;return Object(a.createElement)("button",Object(r.a)(Object(r.a)({},b),{},{key:t,className:"default ".concat(h===t?"choosen":""," ").concat(c?"hasIcon":""," ").concat((null===b||void 0===b?void 0:b.className)||""),onClick:g,"data-value":t}),Object(o.jsxs)("span",{style:{pointerEvents:"none"},children:[c||null,n?"object"===typeof n?n:Object(o.jsx)("span",{style:{verticalAlign:"middle"},children:n}):null]}))}))})}},176:function(e,t,n){"use strict";var r=n(0),c=n(100),a=n(69);t.a=function(){var e=Object(c.a)();return Object(r.useCallback)((function(t){var n=t._id,r=t.archive;return e.mutate({mutation:r?a.a:a.d,variables:{_id:n}})}),[e])}},193:function(e,t,n){"use strict";var r=n(18),c=n(12),a=n.n(c),o=n(0),i=n(15),s=n(100),l=n(45),u=n(91);t.a=function(){var e=Object(i.c)().getString,t=Object(s.a)(),n=Object(u.b)(),c=n.enqueueSnackbar,d=n.closeSnackbar,b=Object(o.useCallback)((function(n){return new Promise((function(o){var i=null;if(n&&""!==n){var s=new Promise((function(e){var s=null;"object"!==typeof window.SERVER_DATA||null===window.SERVER_DATA||Array.isArray(window.SERVER_DATA)||(s=window.SERVER_DATA.preloaded_block||null),"object"===typeof s&&null!==s&&s.hasOwnProperty("_id")&&s._id===n?(window.SERVER_DATA={preloaded_block:null},e("got-preloaded-data"),o(s)):t.query({query:l.c,variables:{_id:n}}).then(function(){var t=Object(r.a)(a.a.mark((function t(n){var r,s,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.errors,s=n.data,e("got-data"),null!==i&&d(i),Array.isArray(r)?(c(r.map((function(e){return e.message})).join("\n"),{variant:"error",preventDuplicate:!0,autoHideDuration:5e3}),o(null)):null===s.block?(c("Could not load the content.",{variant:"error",preventDuplicate:!0,autoHideDuration:5e3}),o(null)):(l=s.block,o(l));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=Object(r.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.error("error",n),e("got-error"),null!==i&&d(i),c("[could not load data] "+n.message,{variant:"error",preventDuplicate:!0,autoHideDuration:2e3});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));Promise.race([new Promise((function(e){setTimeout((function(){e("show-loading")}),300)})),s]).then((function(t){"show-loading"===t&&(i=c(e("path_editor_status_started_loading"),{persist:!0,preventDuplicate:!0}))})).catch((function(e){return console.error}))}else o({type:"text"})}))}),[c,d,t,e]);return b}},207:function(e,t,n){e.exports={root:"ViewerAuto_root__1p6KG"}},219:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(218),c=n(214),a=n(216),o=n(329),i=n(330),s=n(331),l=n(332),u=n(333),d=n(334),b=n(335),j=n(215),p=n(336),f=n(75),O=n(82),h=n(15),v=n(1),g={button:Object(v.jsx)(o.a,{}),text:Object(v.jsx)(i.a,{}),code:Object(v.jsx)(s.a,{}),divider:Object(v.jsx)(l.a,{}),checkbox:Object(v.jsx)(u.a,{}),page:Object(v.jsx)(d.a,{}),person:Object(v.jsx)(b.a,{}),redirect:Object(v.jsx)(j.a,{}),image:Object(v.jsx)(p.a,{})},x=["page","redirect"];function m(e){var t=e.createBlock,n=e.types,o=e.close,i=void 0===o?null:o;return n&&Array.isArray(n)||(n=x),Object(v.jsx)(v.Fragment,{children:n.map((function(e){return Object(v.jsxs)(r.a,{className:"roundMenuItem",onClick:function(){return t({type:e,close:i})},children:[Object(v.jsx)(c.a,{children:g[e]}),Object(v.jsx)(a.a,{children:Object(v.jsx)(h.a,{id:"block_menu_type_label_"+e})})]},e)}))})}function y(e){var t=e.trigger,n=e.createBlock,r=e.types;return Object(f.a)().loggedIn?Object(v.jsx)(O.a,{trigger:t,children:function(e){var t=e.close;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{marginTop:"8px"}}),Object(v.jsx)(m,{createBlock:n,types:r,close:t})]})}}):null}},236:function(e,t,n){},319:function(e,t,n){var r={"./de.ftl":[351,9],"./en.ftl":[352,10],"./es.ftl":[353,11],"./fr.ftl":[354,12],"./it.ftl":[355,13],"./nl.ftl":[356,14],"./se.ftl":[357,15]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id=319,e.exports=c},320:function(e,t,n){"use strict";n.r(t);var r=n(24),c=n(6),a=n(0),o=n.n(a),i=n(196),s=(n(236),n(71)),l=n.n(s),u=n(149),d=n.n(u),b=n(17),j=n(87),p=n(122),f=n(5),O=n(18),h=n(12),v=n.n(h),g=n(158),x=n(437),m=n(334),y=n(335),_=n(215),k=n(426),w=n(427),S=n(428),I=n(429),A=n(72),C=n.n(A),B=n(162),E=n(76),N=n(166),P=n(100),R=n(45),T=n(15),L=n(1),$={page:Object(L.jsx)(m.a,{}),person:Object(L.jsx)(y.a,{}),redirect:Object(L.jsx)(_.a,{}),website:Object(L.jsx)(k.a,{})},D=["page","redirect","person"];var F=function(){var e=Object(P.a)(),t=Object(a.useState)(!1),n=Object(c.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)([]),s=Object(c.a)(i,2),l=s[0],u=s[1],d=Object(a.useState)([]),b=Object(c.a)(d,2),j=b[0],p=b[1],h=Object(a.useRef)(""),m=Object(a.useState)(D[0]),y=Object(c.a)(m,2),_=y[0],k=y[1],A=Object(a.useState)(!1),F=Object(c.a)(A,2),M=F[0],q=F[1];Object(g.a)("cmd+k, ctrl+k",(function(e){e.preventDefault(),o(!0)}),{}),Object(g.a)("esc",(function(e){e.preventDefault(),o(!1)}),{enableOnTags:["INPUT","SELECT","TEXTAREA"],enableOnContentEditable:!0}),Object(a.useEffect)((function(){}),[]),Object(a.useEffect)((function(){var e=function(){return o(!0)},t=function(){return o(!1)};return window.addEventListener("open_search",e),window.addEventListener("close_search",t),function(){window.removeEventListener("open_search",e),window.removeEventListener("close_search",t)}}),[o]);var V=Object(a.useCallback)(function(){var t=Object(O.a)(v.a.mark((function t(n,r,c){var a,o,i,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==n.length){t.next=5;break}u([]),p([]),t.next=27;break;case 5:if(!(n.length<2)){t.next=10;break}u([]),p(["Type more than one characters."]),t.next=27;break;case 10:return t.prev=10,t.next=13,e.query({query:R.h,variables:{query:n,types:[r],archived:c}});case 13:if(a=t.sent,o=a.errors,i=a.data,!(Array.isArray(o)&&o.length>0)){t.next=20;break}throw o;case 20:Array.isArray(i.blocks)?(s=i.blocks.filter((function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)})),u(s),0===s.length?p(["No results found."]):p([])):p(["Unknown error while loading blocks."]);case 21:t.next=27;break;case 23:t.prev=23,t.t0=t.catch(10),console.error("error",t.t0),u([]);case 27:case"end":return t.stop()}}),t,null,[[10,23]])})));return function(e,n,r){return t.apply(this,arguments)}}(),[e,u,p]),z=Object(a.useCallback)(function(){var e=Object(O.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"!==typeof(n=t.target.value||"")&&(n=""),h.current=n,V(n,_,M);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[V,_,M]);Object(a.useEffect)((function(){V(h.current,_,M)}),[V,_,M]);var H=Object(a.useCallback)((function(){o(!1)}),[o]),W=Object(a.useCallback)((function(){o(!1)}),[o]);return Object(L.jsx)(x.a,{open:r,onClose:H,hideBackdrop:!0,BackdropProps:{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}}},children:Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{className:C.a.backdrop,onClick:H}),Object(L.jsxs)("div",{className:C.a.dialog,children:[Object(L.jsxs)("div",{style:{position:"sticky",top:0,zIndex:2,background:"var(--background)"},children:[Object(L.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(L.jsx)("input",{autoFocus:!0,onFocus:function(e){return e.currentTarget.select()},type:"search",placeholder:"Search\u2026",className:C.a.searchInput,defaultValue:h.current,onChange:z,style:{}}),Object(L.jsx)("button",{className:"hasIcon",onClick:H,style:{margin:"0 var(--basis_x2) 0 calc(-4 * var(--basis))"},children:Object(L.jsx)(w.a,{className:"icon"})})]}),Object(L.jsx)(N.a,{defaultValue:_,items:D.map((function(e){return{value:e,title:Object(L.jsx)(T.a,{id:"block_menu_type_label_plural_"+e}),icon:Object(L.jsx)("span",{className:"icon",children:$[e]})}})),onChange:k,className:C.a.filters,style:{display:"flex",gap:"var(--basis_x2)"}})]}),Object(L.jsxs)("div",{className:C.a.searchResults,style:{display:"string"===typeof h.current&&h.current.length>1||Array.isArray(j)&&j.length>0||Array.isArray(l)&&l.length>0?"block":"none"},children:["string"===typeof h.current&&h.current.length>1?Object(L.jsxs)("button",{onClick:function(){return q(!M)},className:!0===M?"default hasIcon":" hasIcon",style:{margin:"0"},children:[Object(L.jsx)("span",{className:"icon",children:Object(L.jsx)(S.a,{})}),!0===M?Object(L.jsx)(T.a,{id:"filter_menu_showing_archiv"}):Object(L.jsx)(T.a,{id:"filter_menu_show_archiv"})]}):null,"string"===typeof h.current&&h.current.length>1&&(Array.isArray(j)&&j.length>0||Array.isArray(l)&&l.length>0)?Object(L.jsx)("hr",{}):null,Array.isArray(j)&&j.length>0?Object(L.jsx)("div",{className:C.a.searchErrors,children:j.map((function(e){return Object(L.jsx)("p",{children:e},e)}))}):null,Array.isArray(l)&&l.length>0?Object(L.jsx)("div",{children:l.map((function(e){return Object(L.jsxs)("div",{className:C.a.blockRow,style:{display:"flex",alignItems:"center",flexDirection:"row"},children:[Object(L.jsx)(E.a,{type:"line",block:e,onClick:W}),Object(L.jsx)("div",{className:C.a.blockRowActions,children:Object(L.jsx)(B.a,{block:e,trigger:function(e){return Object(L.jsx)("button",Object(f.a)(Object(f.a)({},e),{},{className:"text hasIcon",style:{margin:"0",padding:"var(--basis) 0",flexShrink:"0"},children:Object(L.jsx)(I.a,{className:"icon"})}))}})})]},e._id)}))}):null]})]})]})})},M=n(25),q=n(50),V=n(123),z=n(39),H=n(91);var W=function(){var e=Object(T.c)().getString,t=Object(P.a)(),n=Object(H.b)(),r=n.enqueueSnackbar,c=n.closeSnackbar,o=Object(a.useCallback)((function(e){return new Promise((function(n){if(e&&""!==e){var r=[];"object"!==typeof window.SERVER_DATA||null===window.SERVER_DATA||Array.isArray(window.SERVER_DATA)||(r=window.SERVER_DATA.preloaded_blocks||[]),Array.isArray(r)||(r=[]),(r=r.filter((function(t){var n;return null!==(null===t||void 0===t?void 0:t._id)&&((null===t||void 0===t?void 0:t._id)===e||(null===t||void 0===t||null===(n=t.properties)||void 0===n?void 0:n.slug)===e)}))).length>0?(window.SERVER_DATA={preloaded_blocks:null},n(r)):t.query({query:R.d,variables:{slugs:[e],ids:[e].filter((function(e){return 24===e.length}))}}).then((function(e){var t=e.errors,r=e.data;if(Array.isArray(t))n(null);else if(Array.isArray(r.blocks)&&r.blocks.length>0){var c=r.blocks.filter((function(e){return null!==(null===e||void 0===e?void 0:e._id)}));c.length>0?n(c):n(null)}else n(null)})).catch((function(e){console.error("error",e),n(null)}))}else n(null)}))}),[t]),i=Object(a.useCallback)((function(e){return new Promise((function(n){e&&""!==e?t.query({query:R.b,variables:{slug:e}}).then((function(e){var t=e.errors,r=e.data;Array.isArray(t)?n(null):null!==r.block?n(r.block):n(null)})).catch((function(e){console.error("error",e),n(null)})):n(null)}))}),[t]),s=Object(a.useCallback)((function(t){return new Promise((function(n,a){var s=null;if(t&&""!==t){var l=new Promise(function(){var e=Object(O.a)(v.a.mark((function e(l){var u,d,b,j,p,f,O;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==(u=!1)||"string"!==typeof t||""===t){e.next=6;break}return e.next=4,o(t);case 4:d=e.sent,Array.isArray(d)&&(1===d.length?(u=!0,l("got-data"),null!==s&&c(s),n(d[0])):d.length>1&&(u=!0,l("got-error"),null!==s&&c(s),a({code:"300",blocks:d}),r("Error 300: Multiple blocks found..",{variant:"error",preventDuplicate:!0,autoHideDuration:2e3})));case 6:if(!1!==u||"string"!==typeof t||""===t){e.next=21;break}return e.next=9,i(t);case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0={};case 12:b=e.t0,j=b.existsAsSlug,p=void 0!==j&&j,f=b.existsAsId,O=void 0!==f&&f,u=!0,l("got-error"),null!==s&&c(s),!0===O||!0===p?(a({code:"403"}),r("Error 403: You are not allowed to view this page.",{variant:"error",preventDuplicate:!0,autoHideDuration:2e3})):(a({code:"404"}),r("Error 404: The page does not exist.",{variant:"error",preventDuplicate:!0,autoHideDuration:2e3}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.race([new Promise((function(e){setTimeout((function(){e("show-loading")}),300)})),l]).then((function(t){"show-loading"===t&&(s=r(e("path_editor_status_started_loading"),{persist:!0,preventDuplicate:!0}))})).catch((function(e){return console.error}))}else a({code:"404"})}))}),[o,i,r,c,e]);return s},U=n(161),G=n(75),J=n(144),X=n(44),K=n.n(X),Q=n(421),Y=n(79),Z=Object(a.lazy)((function(){return n.e(8).then(n.bind(null,455))})),ee=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,447))}));var te=function(){var e=Object(a.useRef)(!1),t=Object(T.c)(),n=t.getString,r=t.translateBlock,o=t.userLocales,i=Object(G.a)().loggedIn,s=W(),l=Object(U.a)(),u=Object(b.h)().id,d=void 0===u?"":u,j=d;if(d.includes("=")){var h=d.split("="),g=Object(c.a)(h,2)[1];j=g}var x=Object(a.useState)({type:"page",properties:{},content:[]}),m=Object(c.a)(x,2),y=m[0],_=m[1],k=y.properties||{},w=Object(a.useState)([]),S=Object(c.a)(w,2),I=S[0],A=S[1],C=Object(a.useState)([]),B=Object(c.a)(C,2),N=B[0],P=B[1],R=Object(a.useState)(k.locale||o||["en"]),$=Object(c.a)(R,2),D=$[0],F=$[1],H=Object(a.useCallback)((function(e){F([e])}),[F]),X=Object(a.useState)(null),te=Object(c.a)(X,2),ne=te[0],re=te[1],ce=Object(a.useCallback)((function(e){re(e),window.umami&&"object"===typeof e&&null!==e&&e.hasOwnProperty("code")&&"string"===typeof e.code&&window.umami.trackEvent("E: "+e.code)}),[re]);if(Object(a.useEffect)((function(){var t=y.properties||{};!1!==e.current||"string"!==typeof j||""===j||j===y._id||j===t.slug||null!==ne&&ne.for_slugOrId===j||(e.current=!0,s(j).then(function(){var t=Object(O.a)(v.a.mark((function t(n){var r,c,a,o,i,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("object"===typeof n&&null!==n){t.next=5;break}ce({code:"404",for_slugOrId:j}),e.current=!1,t.next=23;break;case 5:if(r=n,!(Array.isArray(n.content)&&n.content.length>0)){t.next=16;break}if(c=Object(M.a)(n.content),a=n.content.filter((function(e){return!e.hasOwnProperty("block")})).map((function(e){return e.blockId})),o=[],!(a.length>0)){t.next=14;break}return t.next=13,l({ids:a});case 13:o=t.sent;case 14:c=c.map((function(e){return e.hasOwnProperty("block")||(e.block=o.find((function(t){return t._id===e.blockId}))),e})),r=Object(f.a)(Object(f.a)({},r),{},{content:c});case 16:i=(r.content||[]).map((function(e){return e.block})),s=Object(M.a)(new Set([n].concat(Object(M.a)(i)).filter(Boolean).flatMap((function(e){var t=(null===e||void 0===e?void 0:e.properties)||{};return[t.locale||null].concat(Object(M.a)((t.translations||[]).filter((function(e){return e.text&&e.text.length>0})).map((function(e){return e.locale}))))})).filter(Boolean))),P(s),ce(null),_(r),A(i),e.current=!1;case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.error(t),ce(Object(f.a)(Object(f.a)({},t),{},{for_slugOrId:j})),e.current=!1})))}),[ne,j,y,y._id,s,_,l,A,P,ce]),null!==ne&&ne.for_slugOrId===j)return Object(L.jsxs)("div",{className:K.a.viewer,children:[Object(L.jsx)(J.a,{block:null,title:"Error",rightActions:null}),Object(L.jsx)("div",{className:"basis_x1 ".concat(K.a.app," ").concat(K.a.spine_aligned),dir:"auto",children:Object(L.jsxs)("main",{className:"".concat(K.a.contentWrapper),children:["300"===ne.code?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("h1",{children:Object(L.jsx)(T.a,{id:"error_300_title"})}),Object(L.jsx)("br",{}),Object(L.jsx)("p",{children:Object(L.jsx)(T.a,{id:"error_300_description"})}),Object(L.jsx)("br",{}),ne.blocks.map((function(e){return Object(L.jsx)(E.a,{block:e,forceId:!0},e._id)}))]}):null,"403"===ne.code?Object(L.jsx)(a.Suspense,{children:Object(L.jsx)(Z,{errorName:"no_access"})}):null,"404"===ne.code?Object(L.jsx)(a.Suspense,{children:Object(L.jsx)(Z,{errorName:"not_found"})}):null]})})]});var ae=y.type||null,oe=r(y,D,n("placeholder_main_headline")),ie=Object(z.getImageUrl)(k.coverphoto),se=Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)("div",{className:"buttonRow",style:{whiteSpace:"nowrap"},children:[i&&!!y._id&&Object(L.jsx)(q.b,{to:"/".concat(y._id,"/edit"),style:{marginRight:"var(--basis_x2)"},children:Object(L.jsxs)("button",{className:"text hasIcon",children:[Object(L.jsx)(Q.a,{className:"icon"}),Object(L.jsx)("span",{className:"hideOnSmallScreen",style:{verticalAlign:"middle"},children:Object(L.jsx)(T.a,{id:"edit_block"})})]})}),N.length>1?Object(L.jsx)(a.Suspense,{children:Object(L.jsx)(ee,{onChange:H,defaultValue:D[0]||o[0]||"en",options:N})}):null]})}),le={__html:Object(Y.a)(oe)},ue="";"string"===typeof ie&&ie.length>0&&(ue="".concat(window.domains.backend,"download_url?f=jpg&w=1000&h=1000&url=").concat(encodeURIComponent(ie)));var de=null;if(k.hasOwnProperty("icon")&&"object"===typeof k.icon&&null!==k.icon&&!Array.isArray(k.icon)&&k.icon.hasOwnProperty("type")&&"string"===typeof k.icon.type&&"emoji"===k.icon.type&&k.icon.hasOwnProperty("emoji")&&"string"===typeof k.icon.emoji&&0!==k.icon.emoji.length&&(de=Object(L.jsx)(V.a,{className:"".concat(K.a.icon," ").concat(""===ie?"":K.a.coverphotoIsSet),emoji:k.icon.emoji})),null===de){var be=Object(z.getImageUrl)(k.icon);"string"===typeof be&&0!==be.length&&(de=Object(L.jsx)("div",{style:{backgroundImage:"url(".concat(window.domains.backend,"download_url?f=").concat(window.imageFormat||"jpg","&w=400&h=400&url=").concat(encodeURIComponent(be),")")},className:"".concat(K.a.icon," ").concat(""===ie?"":K.a.coverphotoIsSet)}))}return Object(L.jsxs)("div",{className:K.a.viewer,children:[Object(L.jsxs)(p.a,{children:[Object(L.jsx)("title",{children:oe}),Object(L.jsx)("meta",{name:"title",content:oe}),Object(L.jsx)("meta",{name:"og:title",content:oe}),Object(L.jsx)("meta",{name:"twitter:title",content:oe}),Object(L.jsx)("meta",{name:"description",content:""}),Object(L.jsx)("meta",{property:"og:description",content:""}),Object(L.jsx)("meta",{name:"twitter:description",content:""}),Object(L.jsx)("meta",{property:"og:image",content:ue}),Object(L.jsx)("meta",{name:"twitter:image",content:ue}),Object(L.jsx)("meta",{property:"twitter:card",content:"summary"})]}),Object(L.jsx)(J.a,{block:y,title:Object(L.jsx)("span",{dir:"auto",dangerouslySetInnerHTML:le}),rightActions:se}),Object(L.jsxs)("div",{className:"basis_0_6 ".concat(K.a.app," ").concat(K.a.spine_aligned),dir:"auto",children:["page"!==ae&&"person"!==ae&&"redirect"!==ae||""===ie?null:Object(L.jsx)("div",{style:{backgroundImage:"url(".concat(window.domains.backend,"download_url?f=").concat(window.imageFormat||"jpg","&w=1400&h=400&url=").concat(encodeURIComponent(ie),")")},className:K.a.coverphoto}),Object(L.jsxs)("main",{className:"".concat(K.a.contentWrapper),children:["page"===ae||"person"===ae||"redirect"===ae?de:null,""!==oe?Object(L.jsx)("h1",{dir:"auto",dangerouslySetInnerHTML:le,style:{whiteSpace:"pre-wrap"}}):null,Object(L.jsx)("div",{className:K.a.items,children:I.filter((function(e){return!!e})).filter((function(e){return!1!==e.properties.active})).map((function(e){return Object(L.jsx)(E.a,{block:e,locales:D},e._id)}))})]})]})]})},ne=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(5),n.e(4)]).then(n.bind(null,505))}));var re=function(){var e=Object(b.f)("/"),t=Object(b.e)(),n=Object(a.useState)({}),r=Object(c.a)(n,2),o=r[0],i=r[1];Object(a.useEffect)((function(){var e="",n=t.pathname.split("/").filter((function(e){return e.length>0}));if(n.length>0){var r=n.pop(),c=r,a="view";("edit"===r||"view"===r)&&n.length>0&&(a=r,c=n.pop()),e="/".concat(c,"/").concat(a)}o.pathname!==e&&i({pathname:e})}),[t,o,i]);var s="VoltLink",l="VoltLink is an information-hub about Volt Europa.";return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)("div",{className:"".concat(d.a.app," ").concat(e?d.a.isStartpage:""),children:Object(L.jsxs)(j.d,{children:[e?null:Object(L.jsx)(j.b,{}),Object(L.jsxs)(j.a,{children:[Object(L.jsx)(F,{}),Object(L.jsxs)(b.c,{location:o,children:[Object(L.jsx)(b.a,{path:"/:id/view",element:Object(L.jsx)(te,{})}),Object(L.jsx)(b.a,{path:"/:id/edit",element:Object(L.jsx)(a.Suspense,{children:Object(L.jsx)(ne,{})})}),Object(L.jsx)(b.a,{path:"/",element:Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(p.a,{children:[Object(L.jsx)("title",{children:s}),Object(L.jsx)("meta",{name:"title",content:s}),Object(L.jsx)("meta",{name:"og:title",content:s}),Object(L.jsx)("meta",{name:"twitter:title",content:s}),Object(L.jsx)("meta",{name:"description",content:l}),Object(L.jsx)("meta",{name:"og:description",content:l}),Object(L.jsx)("meta",{name:"twitter:description",content:l})]}),Object(L.jsx)(j.c,{})]})})]})]})]})})})},ce=(n(315),n(146)),ae=n(432),oe=n(209),ie=n(442),se=n(434),le=n(435),ue=n(433);window.process={},window.env="prod",window.domains={frontend:"https://volt.link/",backend:"https://api.volt.link/"};var de=new se.a({uri:window.domains.backend+"graphql/v1/",cache:new le.a,credentials:"include",defaultOptions:{watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}}});function be(){var e=Object(a.useState)(navigator.languages),t=Object(c.a)(e,2),n=t[0],i=t[1],s=Object(a.useState)(null),u=Object(c.a)(s,2),d=u[0],b=u[1];Object(a.useEffect)((function(){var e=window.localStorage.getItem("locale")||null;i("string"===typeof e&&""!==e?[e]:navigator.languages)}),[i]),Object(a.useEffect)((function(){if(window.umami){var e=navigator.languages;if(e||Array.isArray(e)){var t,n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value,a=(c=c.toLowerCase()).split("-")[0];"string"===typeof a&&""!==a&&window.umami.trackEvent("L: "+a)}}catch(o){n.e(o)}finally{n.f()}}}}),[]);var j=Object(a.useCallback)((function(e){i([e.target.dataset.locale])}),[i]),p=Object(a.useCallback)((function(e){b(e.length>0?e[0]:"")}),[b]);Object(a.useEffect)((function(){var e=function(e){var t=(e.detail||{}).locale||null;null===t?n&&Array.isArray(n)&&n.length>0&&(i(navigator.languages),window.localStorage.removeItem("locale")):(i([t]),window.localStorage.setItem("locale",t))};return window.addEventListener("change_locale",e),function(){window.removeEventListener("change_locale",e)}}),[n,i]);var f=Object(ae.a)("(prefers-color-scheme: dark)"),O=o.a.useMemo((function(){return Object(oe.a)({palette:{mode:f?"dark":"light"}})}),[f]);return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{id:"react-notification",style:{zIndex:"10000"}},"react-notification"),Object(L.jsx)(ce.a,{userLocales:n,onLocaleChange:p,children:Object(L.jsx)(ue.a,{client:de,children:Object(L.jsx)(ie.a,{theme:O,children:Object(L.jsx)(H.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},style:{minWidth:"unset"},classes:{variantSuccess:"".concat(l.a.snackbar," ").concat(l.a.success),variantError:"".concat(l.a.snackbar," ").concat(l.a.error),variantWarning:"".concat(l.a.snackbar," ").concat(l.a.warning),variantInfo:"".concat(l.a.snackbar," ").concat(l.a.info)},domRoot:document.getElementById("react-notification"),children:Object(L.jsx)(q.a,{children:Object(L.jsx)(re,{locales:ce.b,currentLocale:d,onLanguageChange:j})})})})})},"AppLocalizationProvider")]})}var je=document.getElementById("root");Object(i.createRoot)(je).render(Object(L.jsx)(be,{}))},39:function(e,t){function n(e){if(e.startsWith("#")&&(e=e.substring(1)),3===e.length)e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2);else if(6!==e.length)throw new Error("Invalid hex color: "+e);for(var t=[],n=0;n<=2;n++)t[n]=parseInt(e.substr(2*n,2),16);return t}function r(e){return function(e){var t="string"===typeof e?n(e):e;return.2126*t[0]+.7152*t[1]+.0722*t[2]}(e)>=165?"000":"fff"}function c(e){var t;return t=function(e){var t,n;return(t=document.createElement("canvas")).height=1,t.width=1,(n=t.getContext("2d")).fillStyle=e,n.fillRect(0,0,1,1),n.getImageData(0,0,1,1).data}(e),"#"+[0,1,2].map((function(e){return("0"+t[e].toString(16)).slice(-2)})).join("")}e.exports={getImageUrl:function(e){return"object"!==typeof e||null===e||Array.isArray(e)||"url"!==e.type?"":e.url||""},getBlockColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={color:null,colorRGB:null,contrastingColor:null,contrastingColorRGB:null};if(e.properties=e.properties||{},e.hasOwnProperty("properties")&&e.properties.hasOwnProperty("color")&&e.properties.color){var a=["purple","red","green","blue","yellow"],o=e.properties.color;if(a.includes(o))t.color="var(--".concat(o,")"),t.colorRGB="var(--".concat(o,"-rgb)"),t.contrastingColor="var(--on-".concat(o,")"),t.contrastingColorRGB="var(--on-".concat(o,"-rgb)");else{if(o.startsWith("#"))4!==o.length&&7!==o.length&&(o=null);else{var i=c(o);o="#000000"===i&&"black"!==o?null:i}if(o){t.color=o;var s=n(o);t.colorRGB=s.join(", "),t.contrastingColor="#"+r(o),t.contrastingColorRGB=n(t.contrastingColor)}}}return t}}},44:function(e,t,n){e.exports={app:"Viewer_app__1_jMF",spine_aligned:"Viewer_spine_aligned__2mJuq",items:"Viewer_items__2FgjF",coverphoto:"Viewer_coverphoto__16R-U",icon:"Viewer_icon__219E5",coverphotoIsSet:"Viewer_coverphotoIsSet__26PSP",contentWrapper:"Viewer_contentWrapper__1HLN8",type_p:"Viewer_type_p__O5DZS",viewer:"Viewer_viewer__JHrvB"}},45:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return h})),n.d(t,"g",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return m})),n.d(t,"h",(function(){return y}));var r,c,a,o,i,s,l,u,d,b,j=n(33),p=n(48),f=Object(p.a)(r||(r=Object(j.a)(["\n  query getBlock ($_id: ObjectID!) {\n    block (_id: $_id) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n        block {\n          _id\n          type\n          properties\n          content {\n            blockId\n          }\n          parent\n          metadata {\n            modified\n            modified_by\n          }\n          permissions\n          computed {\n            roles\n            inherited_block_permissions\n          }\n        }\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),O=Object(p.a)(c||(c=Object(j.a)(["\n  query getBlocks ($ids: [String], $slugs: [String], $types: [String], $archived: Boolean, $roots: [ObjectID], $roles: [String]) {\n    blocks (ids: $ids, slugs: $slugs, types: $types, archived: $archived, roots: $roots, roles: $roles) {\n      _id\n      type\n      properties\n      content {\n        blockId\n      }\n      parent\n      metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),h=Object(p.a)(a||(a=Object(j.a)(["\n  query getBlocks ($ids: [String], $slugs: [String], $types: [String], $archived: Boolean, $roots: [ObjectID] $roles: [String]) {\n    blocks (ids: $ids, slugs: $slugs, types: $types, archived: $archived, roots: $roots, roles: $roles) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n        block {\n          _id\n          type\n          properties\n          content {\n            blockId\n          }\n          parent\n          metadata {\n            modified\n            modified_by\n          }\n          permissions\n          computed {\n            roles\n            inherited_block_permissions\n          }\n        }\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),v=(Object(p.a)(o||(o=Object(j.a)(["\n  query getBlockBySlug ($slug: String!) {\n    block: blockBySlug (slug: $slug) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n        block {\n          _id\n          type\n          properties\n          content {\n            blockId\n          }\n          parent\n          metadata {\n            modified\n            modified_by\n          }\n          permissions\n          computed {\n            roles\n            inherited_block_permissions\n          }\n        }\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),Object(p.a)(i||(i=Object(j.a)(["\n  query getSelf {\n    self {\n\t\t  logged_in\n\t\t  user\n\t\t  blockId\n      userroles\n    }\n  }\n"])))),g=(Object(p.a)(s||(s=Object(j.a)(["\n  query getSiblingBlocks ($_id: ObjectID!, $types: [String]) {\n    blocks: siblingBlocks (_id: $_id, types: $types) {\n      _id\n      type\n      properties\n    }\n  }\n"]))),Object(p.a)(l||(l=Object(j.a)(["\n  query getParentBlocks ($_id: ObjectID!) {\n    blocks: parentBlocks (_id: $_id) {\n      _id\n      type\n      properties\n      computed {\n        sort\n      }\n    }\n  }\n"])))),x=Object(p.a)(u||(u=Object(j.a)(["\n  query blockMatchesRoles ($_id: ObjectID!, $roles: [String]) {\n    blockMatchesRoles (_id: $_id, roles: $roles)\n  }\n"]))),m=Object(p.a)(d||(d=Object(j.a)(["\n  query checkSlug ($slug: String!) {\n    checkSlug (slug: $slug) {\n      isOkay\n      errors\n      existsAsSlug\n      existsAsId\n    }\n  }\n"]))),y=Object(p.a)(b||(b=Object(j.a)(["\n  query search ($query: String!, $types: [String], $archived: Boolean) {\n    blocks: search (query: $query, types: $types, archived: $archived) {\n      _id\n      type\n      properties\n      content {\n        blockId\n      }\n      parent\n      metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"])))},69:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return b}));var r,c,a,o,i=n(33),s=n(48),l=Object(s.a)(r||(r=Object(i.a)(["\n  mutation saveBlock ($block: InputBlock!) {\n    saveBlock (block: $block) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n        block {\n          _id\n          type\n          properties\n          content {\n            blockId\n          }\n          parent\n          metadata {\n            modified\n            modified_by\n          }\n          permissions\n          computed {\n            roles\n            inherited_block_permissions\n          }\n        }\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),u=Object(s.a)(c||(c=Object(i.a)(["\n  mutation archiveBlock ($_id: ObjectID!) {\n    archiveBlock (_id: $_id)\n  }\n"]))),d=Object(s.a)(a||(a=Object(i.a)(["\n  mutation unarchiveBlock ($_id: ObjectID!) {\n    unarchiveBlock (_id: $_id)\n  }\n"]))),b=Object(s.a)(o||(o=Object(i.a)(["\n  mutation moveBlock ($movingBlockId: ObjectID!, $newParentId: ObjectID!, $newIndex: Int!) {\n    moveBlock(movingBlockId: $movingBlockId, newParentId: $newParentId, newIndex: $newIndex)\n  }\n"])))},71:function(e,t,n){e.exports={snackbar:"Snackbar_snackbar__119_w",default:"Snackbar_default__31-eU",success:"Snackbar_success__zvTW8",error:"Snackbar_error__3XeD6",warning:"Snackbar_warning__2CBXt",info:"Snackbar_info__EuVSN"}},72:function(e,t,n){e.exports={dialog:"SearchBox_dialog__1znAI",backdrop:"SearchBox_backdrop__2e5Wz",inputWrapper:"SearchBox_inputWrapper__24CrI",input:"SearchBox_input__1qb9w",actions:"SearchBox_actions__4Zrwb",searchInput:"SearchBox_searchInput__3M4FI",filters:"SearchBox_filters__1axwa",searchResults:"SearchBox_searchResults__3ySIT",searchErrors:"SearchBox_searchErrors__1Q8W1",blockRow:"SearchBox_blockRow__13jhD",blockRowActions:"SearchBox_blockRowActions__1FRMH",fakeHover:"SearchBox_fakeHover__30G2t"}},75:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(18),c=n(5),a=n(6),o=n(12),i=n.n(o),s=n(0),l=n(100),u=n(45),d={userroles:[]};function b(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(s.useRef)(!1);Object(s.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]);var n=Object(s.useState)(d),o=Object(a.a)(n,2),b=o[0],j=o[1],p=Object(s.useState)(!1),f=Object(a.a)(p,2),O=f[0],h=f[1],v=Object(l.a)();return Object(s.useEffect)((function(){!0!==e&&window.hasOwnProperty("user")?(j(Object(c.a)(Object(c.a)({},window.user),{},{userroles:window.user.userroles||[]})),h(window.user.logged_in)):v.query({query:u.g}).then(function(){var e=Object(r.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.data,!0===t.current&&(r.hasOwnProperty("self")&&null!==r.self?(window.user=r.self,j(Object(c.a)(Object(c.a)({},r.self),{},{userroles:r.self.userroles||[]})),h(r.self.logged_in)):(j(d),h(!1)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e),!0===t.current&&(j(d),h(!1))}))}),[e,j,h,v]),Object(c.a)(Object(c.a)({},b),{},{loggedIn:O})}},76:function(e,t,n){"use strict";var r=n(5),c=n(18),a=n(6),o=n(21),i=n(12),s=n.n(i),l=n(0),u=n(24),d=n(54),b=n(115),j=n.n(b),p=n(1);function f(e,t){var n,r={},c=Object(u.a)(t);try{for(c.s();!(n=c.n()).done;){var a=n.value;e.hasType(a)&&(r[a]="application/json"===a?JSON.parse(e.getData(a)):e.getData(a))}}catch(o){c.e(o)}finally{c.f()}return{data:r,transmat:e}}function O(e){var t=e.onTransmit,n=e.onReceive,r=e.checkEntry,a=e.draggable,o=e.style,i=e.className,b=e.children,O=e.mimetypes,h=void 0===O?["application/json"]:O,v=Object(l.useRef)(null);return Object(l.useEffect)((function(){var e=Object(d.addListeners)(v.current,"transmit",function(){var e=Object(c.a)(s.a.mark((function e(n){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new d.Transmat(n),"function"!==typeof t){e.next=6;break}return e.next=4,t(r);case 4:"object"!==typeof(c=e.sent)||null===c||Array.isArray(c.data)||"object"!==typeof c.data||null===c.data||r.setData(c.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a=Object(d.addListeners)(v.current,"receive",(function(e){var t=new d.Transmat(e),c=f(t,h),a=!1;"function"===typeof r&&(a=r(c)),t.accept()&&(a&&"function"===typeof n&&n(c),e.preventDefault())})),o=new d.TransmatObserver((function(e){var t,n=Object(u.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value,a=f(new d.Transmat(c.event),h),o=!1;"function"===typeof r&&(o=r(a)),o&&(c.target.classList.toggle(j.a.drag_over,c.isTarget),c.target.classList.toggle(j.a.drag_active,c.isActive))}}catch(i){n.e(i)}finally{n.f()}}));return o.observe(v.current),function(){e(),a(),o.disconnect()}}),[t,n,r,h]),Object(p.jsx)("div",{ref:v,style:o,className:i,draggable:a?"true":"false",tabIndex:"0",children:b})}var h=n(79),v=n(15),g=n(39),x=n(423),m=n(424);var y=function(e){var t=e.block,n=e.style,c=e.locales,o=Object(l.useState)({__html:""}),i=Object(a.a)(o,2),s=i[0],u=i[1],d=(0,Object(v.c)().translateBlock)(t,c,"");Object(l.useEffect)((function(){var e=Object(h.a)(d);u({__html:e})}),[d,u]);var b={dir:"auto",style:Object(r.a)({whiteSpace:"pre-wrap",display:"flex"},n)},j=Object(g.getBlockColor)(t).color;j&&(b.style.color=j);var f="body";t.properties.hasOwnProperty("text_style")&&(f=t.properties.text_style);var O=(t||{}).properties||{},y=O.text_decorations,_=void 0===y?[]:y,k=O.checked,w=[];if(_.includes("checkbox")){var S={key:"checkbox",style:{margin:"var(--basis_x0_2) var(--basis) 0 0",height:"var(--prefix-icon-size)",width:"var(--prefix-icon-size)"}};k?w.push(Object(p.jsx)(x.a,Object(r.a)({},S))):w.push(Object(p.jsx)(m.a,Object(r.a)({},S)))}var I=Object(p.jsx)("span",{dangerouslySetInnerHTML:s}),A=null;switch(f){case"h1":A=Object(p.jsxs)("h1",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}));break;case"h2":A=Object(p.jsxs)("h2",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}));break;case"h3":A=Object(p.jsxs)("h3",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}));break;case"caption":A=Object(p.jsxs)("caption",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}));break;default:A=Object(p.jsxs)("p",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}))}return Object(p.jsx)("div",{style:{display:"flex"},children:A})};var _=function(e){var t=e.block,n=e.clickable,c=void 0===n||n,o=e.locales,i=Object(l.useState)({__html:""}),s=Object(a.a)(i,2),u=s[0],d=s[1],b=Object(v.c)(),j=b.getString,f=(0,b.translateBlock)(t,o,j("placeholder_main_headline"));Object(l.useEffect)((function(){var e=Object(h.a)(f,{linkify:!1});d({__html:e})}),[f,d]);var O="";t&&t.properties&&t.properties.url&&(O=t.properties.url);var x=Object(g.getBlockColor)(t),m=x.color,y=x.contrastingColor,_={};return m&&(_["--button-background"]=m,_["--button-color"]=y),!0===c&&""!==O?Object(p.jsx)("a",{href:O,target:"_blank",rel:"noreferrer",children:Object(p.jsx)("button",{dir:"auto",dangerouslySetInnerHTML:u,className:"default square",style:Object(r.a)({margin:"0",whiteSpace:"pre-wrap"},_)})}):Object(p.jsx)("button",{dir:"auto",dangerouslySetInnerHTML:u,disabled:"disabled",className:"default square",style:Object(r.a)({margin:"0",whiteSpace:"pre-wrap"},_)})};function k(e){var t=e.block,n=Object(g.getBlockColor)(t).color,r={};return n&&(r["--on-background"]=n),Object(p.jsx)("hr",{style:r})}var w=n(50),S=n(89),I=n.n(S),A=n(119);var C=function(e){var t=e.block,n=e.clickable,c=void 0===n||n,o=e.onClick,i=e.locales,s=e.forceId,u=Object(v.c)(),d=u.getString,b=u.translateBlock,j=u.userLocales,f=t.properties||{},O=function(e){var t=e.block,n=void 0===t?null:t,r=e.forceId,c=void 0!==r&&r,o=Object(l.useState)(null),i=Object(a.a)(o,2),s=i[0],u=i[1],d=Object(l.useState)(null),b=Object(a.a)(d,2),j=b[0],p=b[1];return Object(l.useEffect)((function(){var e=null,t=null;if(null!==n){var r=n._id,a=n.type,o=n.properties||{},i=o.slug||"",s=o.url||"";"redirect"===a&&"string"===typeof s&&s.length>0?(e=s,t=null):"string"===typeof i&&i.length>0?!0===c?(e="".concat(window.domains.frontend).concat(i,"=").concat(r),t="/".concat(i,"=").concat(r)):(e="".concat(window.domains.frontend).concat(i),t="/".concat(i)):(e="".concat(window.domains.frontend).concat(r,"/view"),t="/".concat(r))}u(e),p(t)}),[n,c,u,p]),{link:s,path:j}}({block:t,forceId:s}),h=O.link,x=O.path,m=b(t,i||j,"");if(""===m){var y=f.slug||"";m="string"===typeof y&&""!==y.length?"/"+y:d("placeholder_main_headline")}var _=x||h,k=Object(g.getBlockColor)(t),S=k.color,C=void 0===S?"inherit":S,B=k.colorRGB,E=void 0===B?"--on-background-rgb":B,N={};return"function"===typeof o&&(N.onClick=o),!0===c&&"string"===typeof _&&_.length>0?_.includes(":")?Object(p.jsx)("a",Object(r.a)(Object(r.a)({href:_,target:"_blank",rel:"noreferrer",title:m,className:"clickable_card ".concat(I.a.root),style:{display:"block",cursor:"pointer",color:C,"--on-background-rgb":E}},N),{},{children:Object(p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(p.jsx)(A.a,{block:t}),Object(p.jsx)("span",{dir:"auto",className:I.a.title,children:m})]})})):Object(p.jsx)(w.b,Object(r.a)(Object(r.a)({to:_,title:m,className:"clickable_card ".concat(I.a.root),style:{display:"block",cursor:"pointer",color:C,"--on-background-rgb":E}},N),{},{children:Object(p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(p.jsx)(A.a,{block:t}),Object(p.jsx)("span",{dir:"auto",className:I.a.title,children:m})]})})):Object(p.jsx)("div",Object(r.a)(Object(r.a)({title:m,className:"clickable_card ".concat(I.a.root),style:{cursor:"auto",color:C,"--on-background-rgb":E}},N),{},{children:Object(p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(p.jsx)(A.a,{block:t}),Object(p.jsx)("span",{dir:"auto",className:I.a.title,children:m})]})}))};var B=function(e){var t=e.block,n=e.locales,r=Object(l.useState)({__html:""}),c=Object(a.a)(r,2),o=c[0],i=c[1],s=(0,Object(v.c)().translateBlock)(t,n,"");Object(l.useEffect)((function(){var e=Object(h.a)(s,{linkify:!1});i({__html:e})}),[s,i]);var u="";t&&t.properties&&t.properties.coverphoto&&t.properties.coverphoto.type&&"url"===t.properties.coverphoto.type&&t.properties.coverphoto.url&&(u=t.properties.coverphoto.url);var d="";return"string"===typeof u&&u.length>0&&(d="".concat(window.domains.backend,"download_url?f=").concat(window.imageFormat||"jpg","&w=1000&h=1000&url=").concat(encodeURIComponent(u))),""!==d?Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:d,alt:s,title:s,style:{maxWidth:"100%",margin:"0 auto",display:"block",boxShadow:"inset 0 0 0 1px rgba(var(--on-background-rgb), var(--alpha-less))"}}),Object(p.jsx)("div",{dir:"auto",dangerouslySetInnerHTML:o,className:"type_caption",style:{textAlign:"center",marginTop:"var(--basis_x0_5)"}})]}):null},E=n(207),N=n.n(E),P=n(69),R=n(129),T=n(193),L=n(75),$=["blockId","block","clickable","onClick","size","dragable"];function D(e,t){for(var n in(e=JSON.parse(JSON.stringify(e))).hasOwnProperty(t)&&delete e[t],e)e.hasOwnProperty(n)&&"object"==typeof e[n]&&null!==e[n]&&D(e[n],t);return e}t.a=function(e){var t=e.blockId,n=void 0===t?null:t,i=e.block,u=void 0===i?{}:i,d=e.clickable,b=void 0===d||d,j=e.onClick,f=void 0===j?null:j,h=(e.size,e.dragable),v=void 0!==h&&h,g=Object(o.a)(e,$),x=null,m=Object(l.useState)(u),w=Object(a.a)(m,2),S=w[0],I=w[1],A=Object(l.useRef)(!1),E=Object(L.a)().userroles,F=function(e){var t=e.keys,n=void 0===t?[]:t,r=Object(l.useRef)(new Set);return Object(l.useEffect)((function(){function e(e){var t=e.key.toLowerCase();n.includes(t)&&r.current.add(t)}function t(e){var t=e.key.toLowerCase();r.current.delete(t)}return window.addEventListener("keydown",e),window.addEventListener("keyup",t),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}}),[n]),{getPressedKeys:function(){return r.current}}}({keys:["shift"]}).getPressedKeys,M=Object(T.a)();switch(Object(l.useEffect)((function(){!n||S.hasOwnProperty("_id")&&n===S._id||!1!==A.current||(A.current=!0,M(n).then(function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof t&&null!==t){e.next=4;break}throw new Error("ViewerAuto: loadBlock returned no object");case 4:null!==t.type&&I(t);case 5:A.current=!1;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e),A.current=!1})))}),[n,S,M,I]),S.type||null){case"text":x=Object(p.jsx)(y,Object(r.a)({block:S,clickable:b,onClick:f},g),S._id);break;case"button":x=Object(p.jsx)(_,Object(r.a)({block:S,clickable:b,onClick:f},g),S._id);break;case"divider":x=Object(p.jsx)(k,Object(r.a)({block:S,clickable:b,onClick:f},g),S._id);break;case"page":case"person":case"redirect":x=Object(p.jsx)(C,Object(r.a)({block:S,clickable:b,onClick:f},g),S._id);break;case"image":x=Object(p.jsx)(B,Object(r.a)({block:S,clickable:b,onClick:f},g),S._id);break;default:x=null}var q=Object(R.a)(),V=Object(l.useCallback)(function(){var e=Object(c.a)(s.a.mark((function e(t){var n,r,c,a,o,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,"object"!==typeof(r=((void 0===n?{}:n)||{})["application/json"])||null===r){e.next=23;break}if(c=D(c=r,"__typename"),a=S.computed.roles||[],o=c.computed.roles||[],c._id===S._id||!(E.includes("admin")||(a.includes("editor")||a.includes("owner"))&&(o.includes("editor")||o.includes("owner")))){e.next=23;break}return i=F(),l=!1,e.prev=10,e.next=13,q({mutation:P.b,variables:{movingBlockId:c._id,newParentId:S._id,newIndex:0}});case 13:if(!i.has("shift")){e.next=16;break}return e.next=16,q({mutation:P.c,variables:{block:{_id:c._id,properties:{active:!1}}}});case 16:l=!0,e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),console.error(e.t0);case 22:l&&console.log("TODO reload sidebar");case 23:case"end":return e.stop()}}),e,null,[[10,19]])})));return function(t){return e.apply(this,arguments)}}(),[q,S,F,E]),z=Object(l.useCallback)((function(e){var t=e.data,n=((void 0===t?{}:t)||{})["application/json"],r=!1;if("object"===typeof n&&null!==n&&n.hasOwnProperty("computed")&&n.computed.hasOwnProperty("roles")){var c=n.computed.roles||[];(E.includes("admin")||c.includes("editor")||c.includes("owner"))&&(r=!0)}return r}),[E]);return Object(p.jsx)(O,{draggable:v,className:N.a.root,onTransmit:function(){return{data:{"text/plain":S.properties.text||"","application/json":S}}},onReceive:V,checkEntry:z,children:x},S._id)}},79:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(5),c=n(204),a=n.n(c),o=n(205),i=n.n(o),s=n(206),l=n.n(s),u=n(130);function d(e){var t=a()(Object(r.a)({html:!1,xhtmlOut:!1,linkify:!0,typographer:!0,breaks:!1},e));return t.use(i.a),t.use(l.a),t}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=(e=e||"").replace(/\(TM\)/gi,"\u2122").replace(/\(SM\)/gi,"\u2120").replace(/\(C\)/gi,"\xa9").replace(/\(R\)/gi,"\xae");var n=d(t);return e=n.renderInline(e),e=u.a.parse(e,{folder:"svg",ext:".svg",base:"/public/twemoji/assets/"})}},80:function(e,t,n){e.exports={icon:"BlockIcon_icon__1wJFr",square:"BlockIcon_square__11KYn",round:"BlockIcon_round__1sKzE"}},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(5),c=n(21),a=n(348),o=n(347),i=n(327),s=n(218),l=n(214),u=n(216),d=n(328),b=n(15),j=n(164),p=n(1),f=["closePopover","open"],O=["sx"];function h(e){var t=e.trigger,n=e.children,h=e.onToogle,v=e.paperProps,g=void 0===v?{}:v;return Object(p.jsx)(j.a,{trigger:t,onToogle:h,children:function(e){var t=e.closePopover,j=e.open,h=Object(c.a)(e,f),v=g||{},x=v.sx,m=void 0===x?{}:x,y=Object(c.a)(v,O);return Object(p.jsx)(a.a,Object(r.a)(Object(r.a)(Object(r.a)({},h),{},{sx:Object(r.a)({maxWidth:380,maxHeight:"calc(100vh - 32px)",overflow:"auto",background:"var(--background-contrast)",color:"var(--on-background)"},m),elevation:8},y),{},{children:Object(p.jsx)(o.a,{autoFocus:!0,style:{width:"100%",maxWidth:"100%",marginTop:"-8px"},children:Object(p.jsxs)("div",{children:["function"===typeof n?n({isOpen:j,close:t}):n,Object(p.jsx)(i.a,{style:{opacity:.2,marginBottom:"8px"}}),Object(p.jsxs)(s.a,{className:"roundMenuItem",onClick:t,children:[Object(p.jsx)(l.a,{children:Object(p.jsx)(d.a,{})}),Object(p.jsx)(u.a,{children:Object(p.jsx)(b.a,{id:"block_menu_close_menu"})})]})]})})}))}})}},87:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return v}));var r=n(13),c=n(6),a=n(0),o=n(439),i=n(17),s=function(e){var t=Object(a.useState)(!1),n=Object(c.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){var t=window.matchMedia(e);t.matches!==r&&o(t.matches);var n=function(){return o(t.matches)};return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[r,e]),r},l=n(150),u=n.n(l),d=n(1),b=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(7)]).then(n.bind(null,507))})),j=Object(a.createContext)({});function p(){return Object(a.useContext)(j)}function f(e){var t=e.children,n=Object(a.useState)(!1),r=Object(c.a)(n,2),o=r[0],s=r[1],l=!Object(i.f)("/")&&o,u=Object(a.useCallback)((function(){s((function(e){return!e}))}),[s]);return Object(d.jsx)(j.Provider,{value:{open:l,setOpen:s,toggleSidebar:u},children:t})}function O(){var e=p(),t=e.open,n=e.toggleSidebar,c="undefined"!==typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent),i=s("(min-width: 960px)");return t?Object(d.jsx)(o.a,{variant:i?"permanent":"temporary",anchor:"left",open:t,onOpen:n,onClose:n,disableBackdropTransition:!c,disableDiscovery:c,sx:Object(r.a)({width:320,flexShrink:0},"& .MuiDrawer-paper",{width:320,boxSizing:"border-box",backgroundColor:"var(--background-contrast)",color:"var(--on-background)",border:"none"}),PaperProps:{sx:{background:"var(--background-contrast)",color:"var(--on-background)"}},children:Object(d.jsx)(a.Suspense,{children:Object(d.jsx)(h,{})})}):null}function h(){return Object(d.jsx)(a.Suspense,{children:Object(d.jsx)(b,{})})}function v(e){var t=e.children,n=p().open;return Object(d.jsx)("main",{className:"".concat(u.a.main," ").concat(n?u.a.open:""),style:{"--sidebarWidth":"320px"},children:t})}},89:function(e,t,n){e.exports={title:"ViewerLine_title__35XNW"}}},[[320,2,3]]]);
//# sourceMappingURL=main.f58d0329.chunk.js.map
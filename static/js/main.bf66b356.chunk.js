(this["webpackJsonpedit.volt.link"]=this["webpackJsonpedit.volt.link"]||[]).push([[2],{101:function(e,t,n){"use strict";var r=n(5),a=n(6),c=n(0),o=n(139),i=n(1),s=function(e){var t=e.className,n=e.emojiClassName,s=void 0===n?"emoji":n,l=e.style,u=e.emoji,d=void 0===u?"":u,b=Object(c.useState)({__html:""}),j=Object(a.a)(b,2),p=j[0],f=j[1];return Object(c.useEffect)((function(){if("string"===typeof d&&d.length>0){var e=o.a.parse(d,{folder:"svg",ext:".svg",className:s,base:"/public/twemoji/assets/"});f({__html:e})}else f({__html:""})}),[d,s,f]),Object(i.jsx)("span",{className:t,style:Object(r.a)({fontSize:0},l),dangerouslySetInnerHTML:p})};t.a=Object(c.memo)(s)},125:function(e,t,n){e.exports={drag_over:"DataTransmat_drag_over__3XVzh",drag_active:"DataTransmat_drag_active__2nwCM"}},127:function(e,t,n){"use strict";var r=n(19),a=n(8),c=n.n(a),o=n(0),i=n(87),s=n(53);t.a=function(){var e=Object(i.a)(),t=Object(o.useCallback)((function(t){return new Promise((function(n){e.query({query:s.d,variables:t}).then(function(){var e=Object(r.a)(c.a.mark((function e(t){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.errors,a=t.data,!(Array.isArray(r)&&r.length>0)){e.next=5;break}throw r;case 5:if(!Array.isArray(a.blocks)){e.next=9;break}n(a.blocks),e.next=10;break;case 9:throw new Error("Unknown error while loading blocks.");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("error",t),n([]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}),[e]);return t}},132:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(0),a=n(87),c=n(47);function o(){var e=Object(a.a)();return Object(r.useCallback)((function(t){var n=t.ids,r=t.archive;return e.mutate({mutation:r?c.a:c.d,variables:{ids:n}})}),[e])}t.a=function(){var e=Object(a.a)();return Object(r.useCallback)((function(t){var n=t._id,r=t.archive;return e.mutate({mutation:r?c.a:c.d,variables:{ids:[n]}})}),[e])}},138:function(e,t,n){"use strict";var r=n(0),a=n(87);t.a=function(){var e=Object(a.a)();return Object(r.useCallback)((function(t){return new Promise((function(n,r){e.mutate(t).then((function(e){var t=e.data;"string"===typeof t.error?r(t.error):n(t)})).catch(r)}))}),[e])}},146:function(e,t,n){e.exports={reactionButton:"ReactionButton_reactionButton__iHGkG",selected:"ReactionButton_selected___YxTx",emoji:"ReactionButton_emoji__3d99A"}},147:function(e,t,n){e.exports={header:"Header_header__3mObx",headerBar:"Header_headerBar__2YU41",notificationBanner:"Header_notificationBanner__104SP"}},155:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(5),a=n(19),c=n(6),o=n(8),i=n.n(o),s=n(0),l=n(147),u=n.n(l),d=n(363),b=n(364),j=n(365),p=n(52),f=n(94),O=n(79),h=n(98),v=n(87),g=n(53),m=n(1);function x(e){e.title;var t=e.block,n=void 0===t?{}:t,o=e.rightActions,l=e.notificationBanner,x=Object(f.e)(),y=x.open,_=x.toggleSidebar,k=Object(v.a)(),w=n?n._id:null,S=n?n.parent:null,I=Object(s.useState)([]),A=Object(c.a)(I,2),C=A[0],B=A[1],N=Object(s.useCallback)((function(e){k.query({query:g.e,variables:{_id:e}}).then(function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"!==typeof(n=t.data).error&&n.blocks?(r=(n.blocks||[]).sort((function(e,t){return t.computed.sort-e.computed.sort})),B(r)):(console.error(n.error),B([]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("error",t),B([]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[k,B]);Object(s.useEffect)((function(){w&&N(w)}),[w,S,N]);var E=Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{style:{flexGrow:"1",display:"flex",alignItems:"center",height:"32px"},children:[y?Object(m.jsx)(p.b,{to:"/",children:Object(m.jsx)("button",{className:"text hasIcon",style:{margin:"0 calc(-2 * var(--basis)) 0 0"},children:Object(m.jsx)(d.a,{className:"icon"})})}):Object(m.jsx)("button",{onClick:_,className:"text hasIcon",style:{margin:"0 calc(-2 * var(--basis)) 0 0"},children:Object(m.jsx)(b.a,{className:"icon"})}),Object(m.jsx)("span",{style:{margin:"var(--basis_x2)",opacity:"var(--alpha)"},children:"/"}),w&&C.length>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(h.a,{trigger:function(e){return Object(m.jsx)("button",Object(r.a)(Object(r.a)({},e),{},{className:"text",style:{margin:"0 calc(-2 * var(--basis))"},children:Object(m.jsx)(j.a,{style:{verticalAlign:"middle"}})}))},children:Object(m.jsx)("div",{style:{padding:"var(--basis_x2)"},children:C.map((function(e){return Object(m.jsx)(O.a,{block:e,size:"line"},e._id)}))})}),Object(m.jsx)("span",{style:{margin:"var(--basis_x2)",opacity:"var(--alpha)"},children:"/"})]}):null,Object(m.jsx)(O.a,{block:n,size:"line",parentProps:{style:{flexGrow:"0",margin:"0 calc(-2 * var(--basis))"}}},n)]})});return Object(m.jsxs)("header",{className:u.a.header,children:[Object(m.jsxs)("div",{className:u.a.headerBar,children:[E,o]}),l?Object(m.jsx)("div",{className:u.a.notificationBanner,children:l}):null]})}},157:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return x}));var r=n(16),a=n(13),c=n(6),o=n(19),i=n(8),s=n.n(i),l=n(0),u=n(108),d=n(126),b=n(103),j=n(1),p={de:"Deutsch (German)",en:"English",it:"Italiano (Italian)",se:"Davvis\xe1megiella (Northern S\xe1mi)",lt:"Lietuvi\u0161kai (Lithuanian)",fr:"Fran\xe7ais (French)",es:"Espa\xf1ol (Spanish)",nl:"Dutch (Nederlands)"},f=Object.keys(p),O="en";function h(e){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(s.a.mark((function e(t){var r,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(341)("./"+t+".ftl");case 2:return r=e.sent,e.next=5,fetch(r.default);case 5:return c=e.sent,e.next=8,c.text();case 8:return o=e.sent,e.abrupt("return",Object(a.a)({},t,new d.b(o)));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(h));case 2:return n=e.sent,a=n.reduce((function(e,t){return Object.assign(e,t)})),e.abrupt("return",s.a.mark((function e(){var n,c,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(r.a)(t),e.prev=1,n.s();case 3:if((c=n.n()).done){e.next=11;break}return o=c.value,(i=new d.a(o)).addResource(a[o]),e.next=9,i;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){var t=e.userLocales,n=e.children,r=e.onLocaleChange,a=Object(l.useState)(function(){var e=new d.a("");return e.addResource(new d.b("")),new u.c([e])}()),i=Object(c.a)(a,2),p=i[0],h=i[1];return Object(l.useEffect)((function(){function e(){return(e=Object(o.a)(s.a.mark((function e(){var n,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(b.negotiateLanguages)(t,f,{defaultLocale:O}),r&&r(n),e.next=4,g(n);case 4:a=e.sent,(c=new u.c(a())).userLocales=t,c.defaultLocale=O,c.supportedLocales=f,h(c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,r]),p?Object(j.jsx)(u.a,{l10n:p,children:n}):Object(j.jsx)("div",{children:"Loading texts\u2026"})}},160:function(e,t,n){e.exports={app:"App_app__3hbGO",isStartpage:"App_isStartpage__1Q6rs"}},161:function(e,t,n){e.exports={main:"Sidebar_main__1MCX5",open:"Sidebar_open__gnBQb"}},164:function(e,t,n){var r=n(103).negotiateLanguages;function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["en"],n=Object.keys(e);if(0===n.length)return null;var a=r(t,n,{defaultLocale:n[0],strategy:"lookup"});return 0===a.length?null:e[a[0]]}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["en"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"locale",a=e.map((function(e){return e[n]})).filter(Boolean);if(0===a.length)return null;var c=r(t,a,{defaultLocale:a[0],strategy:"lookup"});return 0===c.length?null:e.filter((function(e){return e[n]===c[0]}))}e.exports={fluentByObject:a,fluentByArray:c,fluentByAny:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["en"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(Array.isArray(e)){var r=c(e,t);Array.isArray(r)&&r.length>0&&(e=r[0].value)}else"object"===typeof e&&(e=a(e,t));return"string"!==typeof e&&(e=n),e}}},17:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h}));var r=n(15),a=n(16),c=n(5),o=n(0),i=n.n(o),s=n(108),l=n(103),u=n(62),d=n(164),b=n.n(d),j=n(1),p=function(e){return Object(j.jsx)(s.b,Object(c.a)(Object(c.a)({},e),{},{elems:Object(c.a)({br:Object(j.jsx)("br",{})},e.elems),children:Object(j.jsx)(i.a.Fragment,{children:e.children})}),e.id)};function f(e){return function(t){var n=i.a.useContext(u.a);return i.a.createElement(e,Object(c.a)({fluentByObject:function(e,t){if(t||(t=null),e){var r,c=n.supportedLocales||[],o=Object.keys(e).filter((function(e){return c.includes(e)})),i=Object(l.negotiateLanguages)(n.userLocales,o,{defaultLocale:n.defaultLocale}),s=Object(a.a)(i);try{for(s.s();!(r=s.n()).done;){var u=r.value;if(e[u])return e[u]}}catch(d){s.e(d)}finally{s.f()}return t}return t},getString:function(e,t,r){return n.getString(e,t,r||"")}},t))}}function O(e,t,n){var a=e.properties||{},c=a.locale||"en",o=a.text||n||"";t&&Array.isArray(t)||(t=[c]);var i=a.translations||[];if(Array.isArray(i)){i=[{locale:c,text:o}].concat(Object(r.a)(i));var s=b.a.fluentByArray(i,t,"locale");s.length>0&&(o=s[0].text)}return o}function h(){var e=i.a.useContext(u.a);return Object(c.a)(Object(c.a)({},e),{},{userLocales:e.userLocales||[],getString:function(t,n,r){return e.getString(t,n,r||" ")},fluentByAny:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return b.a.fluentByAny(t,e.userLocales,n)},translateBlock:O})}},174:function(e,t,n){"use strict";var r=n(19),a=n(5),c=n(8),o=n.n(c),i=n(0),s=n(17),l=n(87),u=n(47),d=n(84);function b(e,t){for(var n in(e=JSON.parse(JSON.stringify(e))).hasOwnProperty(t)&&delete e[t],e)e.hasOwnProperty(n)&&"object"==typeof e[n]&&null!==e[n]&&b(e[n],t);return e}t.a=function(){var e=Object(s.c)().getString,t=Object(l.a)(),n=Object(d.b)(),c=n.enqueueSnackbar,j=n.closeSnackbar,p=Object(i.useCallback)((function(n){return new Promise((function(i){var s=null,l=Object(a.a)({},n);(l=b(l,"__typename")).hasOwnProperty("content")&&Array.isArray(l.content)&&(l.content=l.content.map((function(e){return{blockId:e.blockId}})));var d=new Promise((function(n){t.mutate({mutation:u.c,variables:{block:l}}).then(function(){var t=Object(r.a)(o.a.mark((function t(r){var a,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=r.data,n("got-data"),null!==s&&j(s),"string"===typeof a.error?"no_edit_permission"===a.error?c(e("path_editor_edit_permission_error"),{variant:"error",preventDuplicate:!0,autoHideDuration:2e3}):c(""+a.error,{variant:"error",preventDuplicate:!0,autoHideDuration:2e3}):(l=a.saveBlock,i(l),c(e("path_editor_status_saved"),{variant:"success",preventDuplicate:!1,autoHideDuration:2e3}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=Object(r.a)(o.a.mark((function t(r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.error(r),n("got-error"),null!==s&&j(s),c(e("path_editor_status_error_while_saving",{error:r.message}),{variant:"error",preventDuplicate:!0,autoHideDuration:2e3});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));Promise.race([new Promise((function(e){setTimeout((function(){e("show-loading")}),300)})),d]).then((function(t){"show-loading"===t&&(s=c(e("path_editor_status_started_saving"),{persist:!0,preventDuplicate:!0}))})).catch(console.error)}))}),[c,j,t,e]);return p}},175:function(e,t,n){"use strict";var r=n(15),a=n(19),c=n(6),o=n(8),i=n.n(o),s=n(0),l=n.n(s),u=n(21),d=n(52),b=n(229),j=n(232),p=n(349),f=n(231),O=n(466),h=n(351),v=n(352),g=n(358),m=n(354),x=n(356),y=n(230),_=n(359),k=n(436),w=n(437),S=n(438),I=n(439),A=n(440),C=n(441),B=n(442),N=n(443),E=n(444),P=n(445),R=n(446),D=n(447),T=n(17),$=n(37),L=n(132),F=n(80),q=n(98),V=n(5),M=n(373),z=n(469),H=n(435),U=n(207),W=n(1);function G(e){var t=e.name,n=void 0===t?"":t,r=e.disabled,a=void 0!==r&&r,o=e.label,i=void 0===o?"":o,u=e.triggerProps,d=void 0===u?{}:u,b=e.onToggle,p=void 0===b?null:b,f=e.open,O=void 0!==f&&f,h=e.children,v=Object(s.useRef)(null),g=function(e){var t=l.a.useRef(!1);l.a.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]);var n=l.a.useState(),r=Object(c.a)(n,2),a=r[0],o=r[1];return l.a.useLayoutEffect((function(){!0===t.current&&o(e.current.getBoundingClientRect())}),[e]),Object(U.a)(e,(function(e){!0===t.current&&o(e.contentRect)})),a}(v),m=Object(s.useCallback)((function(){!0!==a&&"function"===typeof p&&p({name:n})}),[a,p,n]),x={};return x=!0===O?{margin:"var(--basis)",boxShadow:"0 var(--basis_x0_5) var(--basis_x4) 0 rgba(var(--on-background-rgb), 0.4)",padding:"8px 0",background:"var(--background-contrast)"}:{margin:"0",boxShadow:"none",background:"transparent"},Object(W.jsxs)(M.a,{sx:Object(V.a)({color:"var(--on-background)",overflow:"hidden",transition:"padding var(--timing), margin var(--timing), box-shadow var(--timing)",borderRadius:"var(--basis_x2)"},x),children:[null!==i?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(z.a,{onClick:m,style:{whiteSpace:"nowrap",lineHeight:"1",margin:"0",padding:"0",backgroundColor:"transparent",color:"var(--on-background)"},children:Object(W.jsxs)(j.a,Object(V.a)(Object(V.a)({},d),{},{disabled:a,className:"roundMenuItem",style:Object(V.a)({display:"flex",justifyContent:"space-between"},d.style),children:[Object(W.jsx)("div",{style:{display:"flex"},children:i}),Object(W.jsx)(H.a,{style:{marginRight:"-10px",transition:"transform var(--timing)",transform:!0===O?"rotate(90deg)":""}})]}))}),!0===O?Object(W.jsx)("div",{style:{height:"12px"}}):null]}):null,Object(W.jsx)("div",{style:{height:null===g||void 0===g?void 0:g.height,overflow:"hidden",transition:"height var(--timing)"},children:Object(W.jsx)("div",{ref:v,children:!0===O?h:""})})]})}n(234);var J=n(47),K=n(138),X={button:Object(W.jsx)(h.a,{}),text:Object(W.jsx)(v.a,{}),image:Object(W.jsx)(g.a,{}),divider:Object(W.jsx)(m.a,{}),page:Object(W.jsx)(x.a,{}),redirect:Object(W.jsx)(y.a,{}),poster:Object(W.jsx)(_.a,{})},Y=["button","text","image","divider","page","redirect","poster"],Q={default:"var(--on-background)",yellow:"var(--yellow)",green:"var(--green)",red:"var(--red)",blue:"var(--blue)"},Z=Object.keys(Q);function ee(e){if(Q.hasOwnProperty(e))return Q[e];var t=Object($.getBlockColor)({properties:{color:e}}).color;return t||e}t.a=Object(T.d)((function(e){var t=e.block,n=void 0===t?{}:t,o=e.getString,l=e.trigger,h=e.onToogle,v=e.saveType,g=e.saveProperty,m=e.typeOptions,x=void 0===m?Y:m,y=(e.onRemoveRow,e.addRowBefore,e.onArchivedToggle),_=void 0===y?null:y,V=e.onReloadContext,M=void 0===V?null:V,z=Object(F.a)(),H=z.loggedIn,U=z.userroles;n.hasOwnProperty("properties")&&"object"===typeof n.properties&&null!==n.properties&&!Array.isArray(n.properties)||(n.properties={});var Q=n._id,te=void 0===Q?"":Q,ne=n.type,re=void 0===ne?"":ne,ae=n.properties,ce=void 0===ae?{}:ae,oe=n.computed,ie=void 0===oe?{}:oe,se=ce.active,le=void 0===se||se,ue=ce.text_style,de=void 0===ue?null:ue,be=ce.text_decorations,je=void 0===be?[]:be,pe=ce.color,fe=void 0===pe?null:pe;Array.isArray(je)||(je=[]);var Oe=(null===ie?{}:ie).roles,he=void 0===Oe?[]:Oe,ve=H&&(U.includes("admin")||he.includes("owner")||he.includes("editor")),ge=Object(s.useState)(!0===ce.archived),me=Object(c.a)(ge,2),xe=me[0],ye=me[1],_e=Object(L.a)(),ke=Object(s.useState)(null),we=Object(c.a)(ke,2),Se=we[0],Ie=we[1],Ae=Object(s.useCallback)((function(e){Ie((function(t){return t===e?null:e}))}),[]),Ce=Object(K.a)(),Be=Object(u.g)(),Ne=(Object(s.useCallback)(function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.type,e.prev=1,!("string"===typeof n&&n.length>0)){e.next=12;break}return e.next=5,Ce({mutation:J.c,variables:{block:{type:n}}});case 5:if(r=e.sent,null===(a=r.saveBlock)){e.next=12;break}return e.next=10,Ce({mutation:J.b,variables:{movingBlockId:a,newParentId:te,newIndex:0}});case 10:"function"===typeof M&&M(),Be("/".concat(a,"/edit"));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),[Ce,te,M,Be]),Object(s.useCallback)((function(){var e=!xe;_e({_id:n._id,archive:e}).then((function(){ye(e),"function"===typeof _&&_(e),"function"===typeof M&&M()})).catch(console.error)}),[_e,ye,xe,n,_,M])),Ee=Object(s.useCallback)((function(){"function"===typeof g&&g("active",!le)}),[le,g]),Pe=n.metadata||{},Re=Object($.getBlockColor)(n).color;Re||(Re="transparent");var De=Object(s.useCallback)((function(e){var t=Object(r.a)(new Set(je));je.includes(e)?t=t.filter((function(t){return t!==e})):t.push(e),g("text_decorations",t)}),[je,g]);return Object(W.jsx)(q.a,{trigger:l,onToogle:h,children:function(e){e.open;return Object(W.jsxs)("div",{children:[Object(W.jsx)("div",{style:{height:"8px"}}),ve&&"function"===typeof v&&Array.isArray(x)&&x.length>0&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(G,{disabled:"person"===re,name:"type",open:"type"===Se,onToggle:function(e){var t=e.name;return Ae(t)},label:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(b.a,{children:Object(W.jsx)(k.a,{})}),Object(W.jsx)(T.a,{id:"block_menu_choose_type_label"})]}),children:x.map((function(e){return Object(W.jsxs)(j.a,{selected:e===re,onClick:function(){return v(e)},className:"roundMenuItem",children:[Object(W.jsx)(b.a,{children:X[e]}),o("block_menu_type_label_".concat(e),e)]},e)}))}),Object(W.jsx)(p.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}})]}),ve&&"function"===typeof g&&Object(W.jsxs)(G,{name:"color",open:"color"===Se,onToggle:function(e){var t=e.name;return Ae(t)},label:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(b.a,{children:Object(W.jsx)(w.a,{style:{color:ee(fe)}})}),Object(W.jsx)(T.a,{id:"block_menu_choose_color_label"})]}),children:[Z.map((function(e){return Object(W.jsxs)(j.a,{selected:"default"===e?null===fe:fe===e,onClick:function(){return g("color","default"===e?null:e)},className:"roundMenuItem",children:[Object(W.jsx)(b.a,{children:Object(W.jsx)(S.a,{style:{color:ee(e)}})}),e]},e)})),Object(W.jsxs)(j.a,{className:"roundMenuItem",selected:null!==fe&&!Z.includes(fe),children:[Object(W.jsx)(b.a,{children:Object(W.jsx)(S.a,{style:{color:Re}})}),Object(W.jsx)("input",{type:"text",placeholder:"#FFFFFF",defaultValue:fe,onBlur:function(e){return g("color",e.target.value)},style:{width:"160px",margin:"0 calc(-1 * var(--basis)) 0 0"}},Z.includes(fe)?fe:"custom")]})]}),ve&&"function"===typeof g&&"text"===re&&Object(W.jsx)(G,{name:"text_style",open:"text_style"===Se,onToggle:function(e){var t=e.name;return Ae(t)},label:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(b.a,{children:Object(W.jsx)(I.a,{})}),Object(W.jsx)(T.a,{id:"block_menu_choose_text_style_label"})]}),children:["h2","h3","body"].map((function(e){return Object(W.jsx)(j.a,{selected:"body"===e?null===de:de===e,onClick:function(){return g("text_style","body"===e?null:e)},className:"roundMenuItem",children:o("block_menu_text_style_label_".concat(e),e)},e)}))}),ve&&"function"===typeof g&&"text"===re&&Object(W.jsx)(G,{name:"text_decorations",open:"text_decorations"===Se,onToggle:function(e){var t=e.name;return Ae(t)},label:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(b.a,{children:Object(W.jsx)(A.a,{})}),Object(W.jsx)(T.a,{id:"block_menu_choose_text_decorations_label"})]}),children:["checkbox"].map((function(e){var t=je.includes(e);return Object(W.jsxs)(j.a,{selected:t,onClick:function(){return De(e)},className:"roundMenuItem",children:[Object(W.jsx)(b.a,{children:t?Object(W.jsx)(C.a,{}):Object(W.jsx)(C.a,{style:{opacity:0}})}),o("block_menu_text_decoration_label_".concat(e),e)]},e)}))}),ve&&"function"===typeof g&&Object(W.jsx)(p.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}}),!1,ve&&"function"===typeof g&&Object(W.jsxs)(j.a,{className:"roundMenuItem",onClick:Ee,children:[Object(W.jsx)(b.a,{children:le?Object(W.jsx)(B.a,{}):Object(W.jsx)(N.a,{})}),Object(W.jsx)(f.a,{primary:Object(W.jsx)("span",{children:le?Object(W.jsx)(T.a,{id:"block_menu_hide"}):Object(W.jsx)(T.a,{id:"block_menu_show"})}),secondary:Object(W.jsx)("span",{style:{whiteSpace:"normal"},children:Object(W.jsx)(T.a,{id:"block_menu_hide_show_description"})})})]}),ve&&"function"===typeof _&&Object(W.jsxs)(j.a,{className:"roundMenuItem",onClick:Ne,children:[Object(W.jsx)(b.a,{children:!0===xe?Object(W.jsx)(E.a,{}):Object(W.jsx)(P.a,{})}),!0===xe?Object(W.jsx)(T.a,{id:"block_menu_unarchive"}):Object(W.jsx)(T.a,{id:"block_menu_archive"})]}),("function"===typeof g||"function"===typeof _)&&Object(W.jsx)(p.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}}),"string"===typeof te&&""!==te&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(j.a,{component:d.b,to:"/".concat(te,"/view"),className:"roundMenuItem",style:{marginTop:"8px"},children:[Object(W.jsx)(b.a,{children:Object(W.jsx)(R.a,{})}),Object(W.jsx)(T.a,{id:"view_block"})]}),ve&&Object(W.jsxs)(j.a,{component:d.b,to:"/".concat(te,"/edit"),className:"roundMenuItem",children:[Object(W.jsx)(b.a,{children:Object(W.jsx)(D.a,{})}),Object(W.jsx)(T.a,{id:"edit_block"})]}),Object(W.jsx)(p.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}})]}),Object(W.jsx)(O.a,{sx:{paddingTop:"0",paddingBottom:"0"},children:Object(W.jsx)(f.a,{primary:Object(W.jsx)("span",{children:Object(W.jsx)(T.a,{id:"block_menu_info_modified"})}),secondary:Object(W.jsx)("span",{children:(Pe.modified||"").replace(/[TZ]/g," ")})})}),Object(W.jsx)(O.a,{sx:{paddingTop:"0",paddingBottom:"0"},children:Object(W.jsx)(f.a,{primary:Object(W.jsx)("span",{children:Object(W.jsx)(T.a,{id:"block_menu_info_id"})}),secondary:Object(W.jsx)("span",{children:te})})})]})}})}))},178:function(e,t,n){"use strict";var r=n(5),a=n(6),c=n(0),o=n(1);t.a=function(e){var t=e.ariaLabel,n=e.items,i=e.defaultValue,s=e.onChange,l=e.style,u=void 0===l?{}:l,d=e.buttonProps,b=void 0===d?{}:d,j=e.className,p=void 0===j?"":j,f=Object(c.useState)(),O=Object(a.a)(f,2),h=O[0],v=O[1];Object(c.useEffect)((function(){return v(i)}),[i,v]);var g=Object(c.useCallback)((function(e){var t=e.target.dataset.value;v(t),s&&s(t)}),[v,s]);return Object(o.jsx)("div",{"aria-label":t,className:"buttonRow "+(p||""),style:u,children:n.map((function(e){var t=e.value,n=e.title,a=e.icon||null;return Object(c.createElement)("button",Object(r.a)(Object(r.a)({},b),{},{key:t,className:"default ".concat(h===t?"choosen":""," ").concat(a?"hasIcon":""," ").concat((null===b||void 0===b?void 0:b.className)||""),onClick:g,"data-value":t}),Object(o.jsxs)("span",{style:{pointerEvents:"none"},children:[a||null,n?"object"===typeof n?n:Object(o.jsx)("span",{style:{verticalAlign:"middle"},children:n}):null]}))}))})}},187:function(e,t,n){"use strict";var r=n(5),a=n(6),c=n(0),o=n(369),i=n(347),s=n(1);t.a=function(e){var t=e.trigger,n=e.children,l=void 0===n?function(){}:n,u=e.onToogle,d=void 0===u?function(){}:u,b=e.setOpenBlockMenuRef,j=Object(c.useRef)(null),p=Object(c.useState)(!1),f=Object(a.a)(p,2),O=f[0],h=f[1],v=Object(c.useCallback)((function(e){h(e)}),[h]);Object(c.useEffect)((function(){b&&(b.current=v)}),[v,b]);var g=function(){d(!1),h(!1)},m=O?"popover-"+(Math.random()+1).toString(36).substring(7):void 0;return Object(s.jsxs)(s.Fragment,{children:[t({ref:j,"aria-describedby":m,onClick:function(){h((function(e){return d(!e),!e}))},style:{pointerEvents:O?"none":"all"}},{isOpen:O}),Object(s.jsx)("div",{onClick:g,style:{display:O?"block":"none",position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:1299,cursor:"pointer"}}),Object(s.jsx)(o.a,{id:m,open:O,anchorEl:j.current,transition:!0,placement:"bottom-start",disablePortal:!1,modifiers:[{name:"flip",enabled:!0,options:{altBoundary:!0,rootBoundary:"viewport",padding:8}}],style:{zIndex:1300},children:function(e){var t=e.TransitionProps;return Object(s.jsx)(i.a,Object(r.a)(Object(r.a)({},t),{},{children:Object(s.jsx)("div",{children:l&&"function"===typeof l?l({open:O,style:{transformOrigin:"top left"},closePopover:g}):null})}))}})]})}},205:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(5),a=n(24),c=n(360),o=n(230),i=n(361),s=n(359),l=n(362),u=n(101),d=n(37),b=n(57),j=n.n(b),p=n(0),f=n(1),O=["block","style","className"];function h(e){var t=e.block,n=e.style,b=void 0===n?{}:n,h=e.className,v=void 0===h?"":h,g=Object(a.a)(e,O),m=(null===t||void 0===t?void 0:t.type)||"page",x=t.properties||{},y=null,_=!1,k="poster"!==m;if(k&&x.hasOwnProperty("icon")&&"object"===typeof x.icon&&null!==x.icon&&!Array.isArray(x.icon)&&x.icon.hasOwnProperty("type")&&"string"===typeof x.icon.type&&("emoji"===x.icon.type&&x.icon.hasOwnProperty("emoji")&&"string"===typeof x.icon.emoji&&0!==x.icon.emoji.length&&(y=Object(p.createElement)(u.a,Object(r.a)(Object(r.a)({},g),{},{style:b,key:x.icon.emoji,className:"".concat(j.a.icon," ").concat(v),emoji:x.icon.emoji}))),null===y&&"file"===x.icon.type&&x.icon.hasOwnProperty("fileId")&&"string"===typeof x.icon.fileId&&0!==x.icon.fileId.length)){var w=x.icon.fileId;y=Object(f.jsx)("div",Object(r.a)(Object(r.a)({},g),{},{className:"".concat(j.a.icon," ").concat(_?j.a.square:j.a.round," ").concat(v),style:Object(r.a)(Object(r.a)({},b),{},{backgroundImage:"url(".concat(window.domains.storage,"download_file/?f=").concat(window.imageFormat||"jpg","&w=40&h=40&id=").concat(encodeURIComponent(w),")")}),alt:""}))}if(null===y){var S=k?Object(d.getImageUrl)(x.icon,{width:40,height:40}):null;S||(_=!0,S=Object(d.getImageUrl)(x.coverphoto,{width:40,height:40})),"string"===typeof S&&0!==S.length&&(y=Object(f.jsx)("div",Object(r.a)(Object(r.a)({},g),{},{className:"".concat(j.a.icon," ").concat(_?j.a.square:j.a.round," ").concat(v),style:Object(r.a)(Object(r.a)({},b),{},{backgroundImage:"url(".concat(S,")"),backgroundSize:"poster"===m?"contain":"cover"}),alt:""})))}if(null===y)switch(t.type){case"person":y=Object(f.jsx)(c.a,Object(r.a)(Object(r.a)({},g),{},{style:b,className:"".concat(j.a.icon," ").concat(v)}));break;case"redirect":y=Object(f.jsx)(o.a,Object(r.a)(Object(r.a)({},g),{},{style:b,className:"".concat(j.a.icon," ").concat(v)}));break;case"website":y=Object(f.jsx)(i.a,Object(r.a)(Object(r.a)({},g),{},{style:b,className:"".concat(j.a.icon," ").concat(v)}));break;case"poster":y=Object(f.jsx)(s.a,Object(r.a)(Object(r.a)({},g),{},{style:b,className:"".concat(j.a.icon," ").concat(v)}));break;default:y=Object(f.jsx)(l.a,Object(r.a)(Object(r.a)({},g),{},{style:b,className:"".concat(j.a.icon," ").concat(v)}))}return y}},206:function(e,t,n){"use strict";var r=n(19),a=n(8),c=n.n(a),o=n(0),i=n(17),s=n(87),l=n(53),u=n(84);t.a=function(){var e=Object(i.c)().getString,t=Object(s.a)(),n=Object(u.b)(),a=n.enqueueSnackbar,d=n.closeSnackbar,b=Object(o.useCallback)((function(e){return new Promise((function(n){if(e&&""!==e){var r=[];"object"!==typeof window.SERVER_DATA||null===window.SERVER_DATA||Array.isArray(window.SERVER_DATA)||(r=window.SERVER_DATA.preloaded_blocks||[]),Array.isArray(r)||(r=[]),(r=r.filter((function(t){var n;return null!==(null===t||void 0===t?void 0:t._id)&&((null===t||void 0===t?void 0:t._id)===e||(null===t||void 0===t||null===(n=t.properties)||void 0===n?void 0:n.slug)===e)}))).length>0?(window.SERVER_DATA={preloaded_blocks:null},n(r)):t.query({query:l.c,variables:{slugs:[e],ids:[e].filter((function(e){return 24===e.length}))}}).then((function(e){var t=e.errors,r=e.data;if(Array.isArray(t))n(null);else if(Array.isArray(r.blocks)&&r.blocks.length>0){var a=r.blocks.filter((function(e){return null!==(null===e||void 0===e?void 0:e._id)}));a.length>0?n(a):n(null)}else n(null)})).catch((function(e){console.error("error",e),n(null)}))}else n(null)}))}),[t]),j=Object(o.useCallback)((function(e){return new Promise((function(n){e&&""!==e?t.query({query:l.a,variables:{slug:e}}).then((function(e){var t=e.errors,r=e.data;Array.isArray(t)?n(null):null!==r.block?n(r.block):n(null)})).catch((function(e){console.error("error",e),n(null)})):n(null)}))}),[t]),p=Object(o.useCallback)((function(t){return new Promise((function(n,o){var i=null;if(t&&""!==t){var s=new Promise(function(){var e=Object(r.a)(c.a.mark((function e(r){var s,l,u,p,f,O,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==(s=!1)||"string"!==typeof t||""===t){e.next=6;break}return e.next=4,b(t);case 4:l=e.sent,Array.isArray(l)&&(1===l.length?(s=!0,r("got-data"),null!==i&&d(i),n(l[0])):l.length>1&&(s=!0,r("got-error"),null!==i&&d(i),o({code:"300",blocks:l}),a("Error 300: Multiple blocks found..",{variant:"error",preventDuplicate:!0,autoHideDuration:2e3})));case 6:if(!1!==s||"string"!==typeof t||""===t){e.next=21;break}return e.next=9,j(t);case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0={};case 12:u=e.t0,p=u.existsAsSlug,f=void 0!==p&&p,O=u.existsAsId,h=void 0!==O&&O,s=!0,r("got-error"),null!==i&&d(i),!0===h||!0===f?(o({code:"403"}),a("Error 403: You are not allowed to view this page.",{variant:"error",preventDuplicate:!0,autoHideDuration:2e3})):(o({code:"404"}),a("Error 404: The page does not exist.",{variant:"error",preventDuplicate:!0,autoHideDuration:2e3}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.race([new Promise((function(e){setTimeout((function(){e("show-loading")}),300)})),s]).then((function(t){"show-loading"===t&&(i=a(e("path_editor_status_started_loading"),{persist:!0,preventDuplicate:!0}))})).catch((function(e){return console.error}))}else o({code:"404"})}))}),[b,j,a,d,e]);return p}},221:function(e,t,n){e.exports={root:"ViewerAuto_root__1p6KG"}},234:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(232),a=n(229),c=n(231),o=n(351),i=n(352),s=n(353),l=n(354),u=n(355),d=n(356),b=n(357),j=n(230),p=n(358),f=n(80),O=n(98),h=n(17),v=n(1),g={button:Object(v.jsx)(o.a,{}),text:Object(v.jsx)(i.a,{}),code:Object(v.jsx)(s.a,{}),divider:Object(v.jsx)(l.a,{}),checkbox:Object(v.jsx)(u.a,{}),page:Object(v.jsx)(d.a,{}),person:Object(v.jsx)(b.a,{}),redirect:Object(v.jsx)(j.a,{}),image:Object(v.jsx)(p.a,{})},m=["page","redirect"];function x(e){var t=e.createBlock,n=e.types,o=e.close,i=void 0===o?null:o;return n&&Array.isArray(n)||(n=m),Object(v.jsx)(v.Fragment,{children:n.map((function(e){return Object(v.jsxs)(r.a,{className:"roundMenuItem",onClick:function(){return t({type:e,close:i})},children:[Object(v.jsx)(a.a,{children:g[e]}),Object(v.jsx)(c.a,{children:Object(v.jsx)(h.a,{id:"block_menu_type_label_"+e})})]},e)}))})}function y(e){var t=e.trigger,n=e.createBlock,r=e.types;return Object(f.a)().loggedIn?Object(v.jsx)(O.a,{trigger:t,children:function(e){var t=e.close;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{marginTop:"8px"}}),Object(v.jsx)(x,{createBlock:n,types:r,close:t})]})}}):null}},251:function(e,t,n){},336:function(e,t){},341:function(e,t,n){var r={"./de.ftl":[377,9],"./en.ftl":[378,10],"./es.ftl":[379,11],"./fr.ftl":[380,12],"./it.ftl":[381,13],"./lt.ftl":[382,14],"./nl.ftl":[383,15],"./se.ftl":[384,16]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=341,e.exports=a},342:function(e,t,n){"use strict";n.r(t);var r=n(16),a=n(6),c=n(0),o=n.n(c),i=n(210),s=(n(251),n(76)),l=n.n(s),u=n(160),d=n.n(u),b=n(21),j=n(94),p=n(115),f=n(5),O=n(19),h=n(8),v=n.n(h),g=n(459),m=n(171),x=n(463),y=n(356),_=n(357),k=n(230),w=n(361),S=n(451),I=n(452),A=n(453),C=n(71),B=n.n(C),N=n(175),E=n(79),P=n(178),R=n(87),D=n(53),T=n(47),$=n(17),L=n(1),F={page:Object(L.jsx)(y.a,{}),person:Object(L.jsx)(_.a,{}),redirect:Object(L.jsx)(k.a,{}),website:Object(L.jsx)(w.a,{})},q=["everything","page","redirect","person","website"];var V=function(){var e=Object($.c)().getString,t=Object(R.a)(),n=Object(c.useState)(!1),r=Object(a.a)(n,2),o=r[0],i=r[1],s=Object(c.useState)([]),l=Object(a.a)(s,2),u=l[0],d=l[1],b=Object(c.useState)([]),j=Object(a.a)(b,2),p=j[0],h=j[1],y=Object(c.useRef)(""),_=Object(c.useState)(q[0]),k=Object(a.a)(_,2),w=k[0],C=k[1],V=Object(c.useState)(!1),M=Object(a.a)(V,2),z=M[0],H=M[1],U=Object(c.useState)(""),W=Object(a.a)(U,2),G=W[0],J=W[1];Object(m.a)("cmd+k, ctrl+k",(function(e){e.preventDefault(),i(!0)}),{}),Object(m.a)("esc",(function(e){e.preventDefault(),i(!1)}),{enableOnTags:["INPUT","SELECT","TEXTAREA"],enableOnContentEditable:!0}),Object(c.useEffect)((function(){}),[]);var K=Object(c.useCallback)((function(e){"Enter"===e.key&&e.target&&e.target.blur()}),[]);Object(c.useEffect)((function(){var e=function(){return i(!0)},t=function(){return i(!1)};return window.addEventListener("open_search",e),window.addEventListener("close_search",t),function(){window.removeEventListener("open_search",e),window.removeEventListener("close_search",t)}}),[i]);var X=Object(c.useCallback)(function(){var e=Object(O.a)(v.a.mark((function e(n,r,a){var c,o,i,s,l,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length>0){c="";try{c=Object(g.a)(n)}catch(b){}(c=String(c)).length>0?J("".concat(n," = ").concat(c)):J("")}else J("");if(0!==n.length){e.next=6;break}d([]),h([]),e.next=30;break;case 6:if(!(n.length<2)){e.next=11;break}d([]),h(["Type more than one characters."]),e.next=30;break;case 11:return o={query:n,archived:a},"string"===typeof r&&r.length>0&&q.includes(r)&&"everything"!==r?o.types=[r]:o.types=q.filter((function(e){return"everything"!==e})),e.prev=13,e.next=16,t.query({query:D.g,variables:o});case 16:if(i=e.sent,s=i.errors,l=i.data,!(Array.isArray(s)&&s.length>0)){e.next=23;break}throw s;case 23:Array.isArray(l.blocks)?(u=l.blocks.filter((function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)})),d(u),0===u.length?h(["No results found."]):h([])):h(["Unknown error while loading blocks."]);case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(13),console.error("error",e.t0),d([]);case 30:case"end":return e.stop()}}),e,null,[[13,26]])})));return function(t,n,r){return e.apply(this,arguments)}}(),[t,d,h,J]),Y=Object(c.useCallback)(function(){var e=Object(O.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"!==typeof(n=t.target.value||"")&&(n=""),y.current=n,X(n,w,z);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[X,w,z]);Object(c.useEffect)((function(){X(y.current,w,z)}),[X,w,z]);var Q=Object(c.useCallback)((function(){i(!1)}),[i]),Z=Object(c.useCallback)(function(){var e=Object(O.a)(v.a.mark((function e(n,r){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!1),a={type:"search",properties:{text:y.current,chosenResult:{index:r,blockId:n._id}}},e.prev=2,e.next=5,t.mutate({mutation:T.c,variables:{block:a}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}(),[i,t]);return Object(L.jsx)(x.a,{open:o,onClose:Q,hideBackdrop:!0,BackdropProps:{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}}},children:Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{className:B.a.backdrop,onClick:Q}),Object(L.jsxs)("div",{className:B.a.dialog,children:[Object(L.jsxs)("div",{style:{position:"sticky",top:0,zIndex:2,background:"var(--background)"},children:[Object(L.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(L.jsx)("input",{autoFocus:!0,onFocus:function(e){return e.currentTarget.select()},type:"search",placeholder:e("search"),className:B.a.searchInput,defaultValue:y.current,onChange:Y,onKeyDown:K,style:{}}),Object(L.jsx)("button",{className:"hasIcon",onClick:Q,style:{margin:"0 var(--basis_x2) 0 calc(-4 * var(--basis))"},children:Object(L.jsx)(S.a,{className:"icon"})})]}),Object(L.jsx)(P.a,{defaultValue:w,items:q.map((function(e){return{value:e,title:Object(L.jsx)($.a,{id:"block_menu_type_label_plural_"+e}),icon:Object(L.jsx)("span",{className:"icon",children:F[e]})}})),onChange:C,className:B.a.filters})]}),Object(L.jsxs)("div",{className:B.a.searchResults,style:{display:"string"===typeof y.current&&y.current.length>1||Array.isArray(p)&&p.length>0||Array.isArray(u)&&u.length>0?"block":"none"},children:["string"===typeof G&&G.length>0?Object(L.jsx)("div",{className:B.a.mathResult,children:G}):null,"string"===typeof y.current&&y.current.length>1?Object(L.jsxs)("button",{onClick:function(){return H(!z)},className:!0===z?"default hasIcon":" hasIcon",style:{margin:"0"},children:[Object(L.jsx)("span",{className:"icon",children:Object(L.jsx)(I.a,{})}),!0===z?Object(L.jsx)($.a,{id:"filter_menu_showing_archiv"}):Object(L.jsx)($.a,{id:"filter_menu_show_archiv"})]}):null,"string"===typeof y.current&&y.current.length>1&&(Array.isArray(p)&&p.length>0||Array.isArray(u)&&u.length>0)?Object(L.jsx)("hr",{}):null,Array.isArray(p)&&p.length>0?Object(L.jsx)("div",{className:B.a.searchErrors,children:p.map((function(e){return Object(L.jsx)("p",{children:e},e)}))}):null,Array.isArray(u)&&u.length>0?Object(L.jsx)("div",{children:u.map((function(e,t){return Object(L.jsxs)("div",{className:B.a.blockRow,style:{display:"flex",alignItems:"center",flexDirection:"row"},children:[Object(L.jsx)(E.a,{size:"card",block:e,onClick:function(){return Z(e,t)}}),Object(L.jsx)("div",{className:B.a.blockRowActions,children:Object(L.jsx)(N.a,{block:e,trigger:function(e){return Object(L.jsx)("button",Object(f.a)(Object(f.a)({},e),{},{className:"text hasIcon",style:{margin:"0",padding:"var(--basis) 0",flexShrink:"0"},children:Object(L.jsx)(A.a,{className:"icon"})}))}})})]},e._id)}))}):null]})]})]})})},M=n(15),z=n(52),H=n(101),U=n(127),W=n(174),G=n(132),J=n(146),K=n.n(J),X=function(e){var t=e.className,n=void 0===t?"":t,r=e.style,o=void 0===r?{}:r,i=e.forBlockId,s=void 0===i?"":i,l=Object(c.useState)([]),u=Object(a.a)(l,2),d=u[0],b=u[1],j=Object(U.a)(),p=Object(W.a)(),f=Object(G.b)(),h=Object(c.useCallback)(Object(O.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j({types:["reaction"],roles:["owner"],archived:!1});case 2:t=e.sent.filter((function(e){return e.properties.reactionFor===s})),console.log("loadedUserReactions",t),b(t);case 5:case"end":return e.stop()}}),e)}))),[s,j]);Object(c.useEffect)((function(){"string"===typeof s&&s.length>0&&h()}),[s,h]);var g=Object(c.useCallback)((function(e){var t=d.filter((function(t){var n,r,a,c;return"reaction"===(null===t||void 0===t?void 0:t.type)&&"emoji"===(null===t||void 0===t||null===(n=t.properties)||void 0===n||null===(r=n.icon)||void 0===r?void 0:r.type)&&(null===t||void 0===t||null===(a=t.properties)||void 0===a||null===(c=a.icon)||void 0===c?void 0:c.emoji)===e}));t.length>0?f({ids:t.map((function(e){return e._id})),archive:!0}).then((function(){h()})).catch((function(e){console.error("error",e)})):p({type:"reaction",properties:{icon:{type:"emoji",emoji:e},reactionFor:s}}).then((function(e){console.log("data",e),h()})).catch((function(e){console.error("error",e)}))}),[d,s,f,p,h]);return Object(L.jsx)("div",{className:n,style:o,children:["\u2b50\ufe0f"].map((function(e){var t=d.filter((function(t){var n,r,a,c;return"reaction"===(null===t||void 0===t?void 0:t.type)&&"emoji"===(null===t||void 0===t||null===(n=t.properties)||void 0===n||null===(r=n.icon)||void 0===r?void 0:r.type)&&(null===t||void 0===t||null===(a=t.properties)||void 0===a||null===(c=a.icon)||void 0===c?void 0:c.emoji)===e}));return Object(L.jsx)("button",{className:"\n              ".concat(K.a.reactionButton,"\n              ").concat(t.length>0?K.a.selected:"","\n              ").concat(t.length>0?"default":"text","\n              hasIcon\n            "),onClick:function(){return g(e)},children:Object(L.jsx)(H.a,{className:"icon",emojiClassName:K.a.emoji,emoji:e},e)},e)}))},d)},Y=n(37),Q=n(206),Z=n(80),ee=n(155),te=n(43),ne=n.n(te),re=n(446),ae=n(454),ce=n(83),oe=Object(c.lazy)((function(){return n.e(1).then(n.bind(null,528))})),ie=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(17)]).then(n.bind(null,471))}));var se=function(){var e=Object(c.useRef)(!1),t=Object($.c)(),n=t.getString,r=t.translateBlock,o=t.userLocales,i=Object(Z.a)().loggedIn,s=Object(Q.a)(),l=Object(U.a)(),u=Object(b.h)().id,d=void 0===u?"":u,j=d;if(d.includes("=")){var h=d.split("="),g=Object(a.a)(h,2)[1];j=g}var m=Object(c.useState)({type:"page",properties:{},content:[]}),x=Object(a.a)(m,2),y=x[0],_=x[1],k=y.properties||{},w=Object(c.useState)([]),S=Object(a.a)(w,2),I=S[0],A=S[1],C=Object(c.useState)([]),B=Object(a.a)(C,2),N=B[0],P=B[1],R=Object(c.useState)(k.locale||o||["en"]),D=Object(a.a)(R,2),T=D[0],F=D[1],q=Object(c.useCallback)((function(e){F([e])}),[F]),V=Object(c.useState)(null),W=Object(a.a)(V,2),G=W[0],J=W[1],K=Object(c.useCallback)((function(e){J(e),window.umami&&"object"===typeof e&&null!==e&&e.hasOwnProperty("code")&&"string"===typeof e.code&&window.umami.trackEvent("E: "+e.code)}),[J]);if(Object(c.useEffect)((function(){var t=y.properties||{};!1!==e.current||"string"!==typeof j||""===j||j===y._id||j===t.slug||null!==G&&G.for_slugOrId===j||(e.current=!0,s(j).then(function(){var t=Object(O.a)(v.a.mark((function t(n){var r,a,c,o,i,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("object"===typeof n&&null!==n){t.next=5;break}K({code:"404",for_slugOrId:j}),e.current=!1,t.next=23;break;case 5:if(r=n,!(Array.isArray(n.content)&&n.content.length>0)){t.next=16;break}if(a=Object(M.a)(n.content),c=n.content.filter((function(e){return!e.hasOwnProperty("block")})).map((function(e){return e.blockId})),o=[],!(c.length>0)){t.next=14;break}return t.next=13,l({ids:c});case 13:o=t.sent;case 14:a=a.map((function(e){return e.hasOwnProperty("block")||(e.block=o.find((function(t){return t._id===e.blockId}))),e})),r=Object(f.a)(Object(f.a)({},r),{},{content:a});case 16:i=(r.content||[]).map((function(e){return e.block})),s=Object(M.a)(new Set([n].concat(Object(M.a)(i)).filter(Boolean).flatMap((function(e){var t=(null===e||void 0===e?void 0:e.properties)||{};return[t.locale||null].concat(Object(M.a)((t.translations||[]).filter((function(e){return e.text&&e.text.length>0})).map((function(e){return e.locale}))))})).filter(Boolean))),P(s),K(null),_(r),A(i),e.current=!1;case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.error(t),K(Object(f.a)(Object(f.a)({},t),{},{for_slugOrId:j})),e.current=!1})))}),[G,j,y,y._id,s,_,l,A,P,K]),null!==G&&G.for_slugOrId===j){var te="Error "+G.code;return Object(L.jsxs)("div",{className:ne.a.viewer,children:[Object(L.jsxs)(p.a,{children:[Object(L.jsx)("title",{children:te}),Object(L.jsx)("meta",{name:"title",content:te}),Object(L.jsx)("meta",{name:"og:title",content:te}),Object(L.jsx)("meta",{name:"twitter:title",content:te}),Object(L.jsx)("meta",{name:"description",content:""}),Object(L.jsx)("meta",{property:"og:description",content:""}),Object(L.jsx)("meta",{name:"twitter:description",content:""}),Object(L.jsx)("meta",{property:"og:image",content:""}),Object(L.jsx)("meta",{name:"twitter:image",content:""}),Object(L.jsx)("meta",{property:"twitter:card",content:"summary"})]}),Object(L.jsx)(ee.a,{block:{type:"page",properties:{text:te,icon:{type:"emoji",emoji:"\u26a0\ufe0f"}}},title:"Error",rightActions:null}),Object(L.jsx)("div",{className:"basis_x1 ".concat(ne.a.app," ").concat(ne.a.spine_aligned),dir:"auto",children:Object(L.jsxs)("main",{className:"".concat(ne.a.contentWrapper),children:["300"===G.code?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("h1",{children:Object(L.jsx)($.a,{id:"error_300_title"})}),Object(L.jsx)("br",{}),Object(L.jsx)("p",{children:Object(L.jsx)($.a,{id:"error_300_description"})}),Object(L.jsx)("br",{}),G.blocks.map((function(e){return Object(L.jsx)(E.a,{block:e,forceId:!0,pathSuffix:"view"},e._id)}))]}):null,"403"===G.code?Object(L.jsx)(oe,{errorName:"no_access"}):null,"404"===G.code?Object(L.jsx)(oe,{errorName:"not_found"}):null]})})]})}var se=y.type||null,le=r(y,T,n("placeholder_headline_empty")),ue=k.coverphoto||{},de=k.pronouns||"",be=Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)("div",{className:"buttonRow",style:{whiteSpace:"nowrap"},children:[i&&!!y._id&&Object(L.jsx)(z.b,{to:"/".concat(y._id,"/edit"),style:{marginRight:"var(--basis_x2)"},children:Object(L.jsxs)("button",{className:"text hasIcon",children:[Object(L.jsx)(re.a,{className:"icon"}),Object(L.jsx)("span",{className:"hideOnSmallScreen",style:{verticalAlign:"middle"},children:Object(L.jsx)($.a,{id:"edit_block"})})]})}),i&&!!y._id&&Object(L.jsx)(X,{forBlockId:y._id,style:{marginRight:"var(--basis_x2)"}}),N.length>1?Object(L.jsx)(c.Suspense,{children:Object(L.jsx)(ie,{onChange:q,defaultValue:T[0]||o[0]||"en",options:N,style:{marginRight:"var(--basis_x2)"}})}):null,Object(L.jsx)("button",{className:"default hasIcon",onClick:function(){var e=new CustomEvent("open_search");window.dispatchEvent(e)},title:"Search (\u2318K / Ctrl+K)",children:Object(L.jsx)(ae.a,{className:"icon"})})]})}),je={__html:Object(ce.a)(le)},pe=Object(Y.getImageUrl)(ue,{width:1400,height:400}),fe=Object(Y.getImageUrl)(ue,{width:1e3,height:1e3}),Oe=null;"string"===typeof pe&&pe.length>0&&(Oe="poster"===se?Object(L.jsx)("div",{style:{width:"1000px",maxWidth:"100%",margin:"0 auto"},children:Object(L.jsx)("img",{src:pe,alt:"",style:{width:"100%",height:"auto"}})}):Object(L.jsx)("div",{style:{backgroundImage:"url(".concat(pe,")")},className:ne.a.coverphoto}));var he=null;if(k.hasOwnProperty("icon")&&"object"===typeof k.icon&&null!==k.icon&&!Array.isArray(k.icon)&&k.icon.hasOwnProperty("type")&&"string"===typeof k.icon.type){if("emoji"===k.icon.type&&k.icon.hasOwnProperty("emoji")&&"string"===typeof k.icon.emoji&&0!==k.icon.emoji.length&&(he=Object(L.jsx)(H.a,{className:"".concat(ne.a.icon," ").concat(""===pe?"":ne.a.coverphotoIsSet),emoji:k.icon.emoji})),null===he&&"file"===k.icon.type&&k.icon.hasOwnProperty("fileId")&&"string"===typeof k.icon.fileId&&0!==k.icon.fileId.length){var ve=k.icon.fileId;he=Object(L.jsx)("div",{style:{backgroundImage:"url(".concat(window.domains.storage,"download_file/?f=").concat(window.imageFormat||"jpg","&w=400&h=400&id=").concat(encodeURIComponent(ve),")")},className:"".concat(ne.a.icon," ").concat(""===pe?"":ne.a.coverphotoIsSet)})}if(null===he){var ge=Object(Y.getImageUrl)(k.icon,{width:400,height:400});"string"===typeof ge&&0!==ge.length&&(he=Object(L.jsx)("div",{style:{backgroundImage:"url(".concat(ge,")")},className:"".concat(ne.a.icon," ").concat(""===pe?"":ne.a.coverphotoIsSet)}))}}return Object(L.jsxs)("div",{className:ne.a.viewer,children:[Object(L.jsxs)(p.a,{children:[Object(L.jsx)("title",{children:le}),Object(L.jsx)("meta",{name:"title",content:le}),Object(L.jsx)("meta",{name:"og:title",content:le}),Object(L.jsx)("meta",{name:"twitter:title",content:le}),Object(L.jsx)("meta",{name:"description",content:""}),Object(L.jsx)("meta",{property:"og:description",content:""}),Object(L.jsx)("meta",{name:"twitter:description",content:""}),Object(L.jsx)("meta",{property:"og:image",content:fe}),Object(L.jsx)("meta",{name:"twitter:image",content:fe}),Object(L.jsx)("meta",{property:"twitter:card",content:"summary"})]}),Object(L.jsx)(ee.a,{block:y,rightActions:be}),Object(L.jsxs)("div",{className:"basis_0_8 ".concat(ne.a.app," ").concat(ne.a.spine_aligned),dir:"auto",children:["page"===se||"person"===se||"redirect"===se||"poster"===se?Oe:null,Object(L.jsxs)("main",{className:"".concat(ne.a.contentWrapper),children:["page"===se||"person"===se||"redirect"===se?he:null,""!==le?Object(L.jsx)("h1",{dir:"auto",dangerouslySetInnerHTML:je,style:{whiteSpace:"pre-wrap"}}):null,"person"===se&&""!==de?Object(L.jsx)("p",{dir:"auto",children:Object(L.jsx)("strong",{style:{padding:"var(--basis)",display:"inline-block",backgroundColor:"rgba(var(--on-background-rgb), var(--alpha-less))"},children:de})}):null,Object(L.jsx)("div",{className:ne.a.items,children:I.filter((function(e){return!!e})).filter((function(e){return!1!==e.properties.active})).map((function(e){return Object(L.jsx)(E.a,{block:e,locales:T},e._id)}))})]})]})]})},le=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(5)]).then(n.bind(null,529))}));var ue=function(){var e=Object(b.f)("/"),t=Object(b.e)(),n=Object(c.useState)({}),r=Object(a.a)(n,2),o=r[0],i=r[1];Object(c.useEffect)((function(){var e="",n=t.pathname.split("/").filter((function(e){return e.length>0}));if(n.length>0){var r=n.pop(),a=r,c="view";("edit"===r||"view"===r)&&n.length>0&&(c=r,a=n.pop()),e="/".concat(a,"/").concat(c),"search"===a&&window.dispatchEvent(new CustomEvent("open_search"))}o.pathname!==e&&i({pathname:e})}),[t,o,i]);var s="VoltLink",l="VoltLink is an information-hub about Volt Europa.";return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)("div",{className:"".concat(d.a.app," ").concat(e?d.a.isStartpage:""),children:Object(L.jsxs)(j.d,{children:[e?null:Object(L.jsx)(j.b,{}),Object(L.jsxs)(j.a,{children:[Object(L.jsx)(V,{}),Object(L.jsxs)(b.c,{location:o,children:[Object(L.jsx)(b.a,{path:"/:id/view",element:Object(L.jsx)(se,{})}),Object(L.jsx)(b.a,{path:"/:id/edit",element:Object(L.jsx)(c.Suspense,{children:Object(L.jsx)(le,{})})}),Object(L.jsx)(b.a,{path:"/",element:Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(p.a,{children:[Object(L.jsx)("title",{children:s}),Object(L.jsx)("meta",{name:"title",content:s}),Object(L.jsx)("meta",{name:"og:title",content:s}),Object(L.jsx)("meta",{name:"twitter:title",content:s}),Object(L.jsx)("meta",{name:"description",content:l}),Object(L.jsx)("meta",{name:"og:description",content:l}),Object(L.jsx)("meta",{name:"twitter:description",content:l})]}),Object(L.jsx)(j.c,{})]})})]})]})]})})})},de=(n(337),n(157)),be=n(457),je=n(224),pe=n(467),fe=n(84),Oe=n(460),he=n(461),ve=n(458);window.process={},window.env="prod",window.domains={frontend:"https://volt.link/",backend:"https://api.volt.link/",storage:"https://storage.volt.link/"},window.graphql_uri=window.domains.backend+"graphql/v1/";var ge=new Oe.a({uri:window.graphql_uri,cache:new he.a,credentials:"include",defaultOptions:{watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}}});function me(){var e=Object(c.useState)(navigator.languages),t=Object(a.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(null),u=Object(a.a)(s,2),d=u[0],b=u[1];Object(c.useEffect)((function(){var e=window.localStorage.getItem("locale")||null;i("string"===typeof e&&""!==e?[e]:navigator.languages)}),[i]),Object(c.useEffect)((function(){if(window.umami){var e=navigator.languages;if(e||Array.isArray(e)){var t,n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,c=(a=a.toLowerCase()).split("-")[0];"string"===typeof c&&""!==c&&window.umami.trackEvent("L: "+c)}}catch(o){n.e(o)}finally{n.f()}}}}),[]);var j=Object(c.useCallback)((function(e){i([e.target.dataset.locale])}),[i]),p=Object(c.useCallback)((function(e){b(e.length>0?e[0]:"")}),[b]);Object(c.useEffect)((function(){var e=function(e){var t=(e.detail||{}).locale||null;null===t?n&&Array.isArray(n)&&n.length>0&&(i(navigator.languages),window.localStorage.removeItem("locale")):(i([t]),window.localStorage.setItem("locale",t))};return window.addEventListener("change_locale",e),function(){window.removeEventListener("change_locale",e)}}),[n,i]);var f=Object(be.a)("(prefers-color-scheme: dark)"),O=o.a.useMemo((function(){return Object(je.a)({palette:{mode:f?"dark":"light"}})}),[f]);return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{id:"react-notification",style:{zIndex:"10000"}},"react-notification"),Object(L.jsx)(de.a,{userLocales:n,onLocaleChange:p,children:Object(L.jsx)(ve.a,{client:ge,children:Object(L.jsx)(pe.a,{theme:O,children:Object(L.jsx)(fe.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},style:{minWidth:"unset"},classes:{variantSuccess:"".concat(l.a.snackbar," ").concat(l.a.success),variantError:"".concat(l.a.snackbar," ").concat(l.a.error),variantWarning:"".concat(l.a.snackbar," ").concat(l.a.warning),variantInfo:"".concat(l.a.snackbar," ").concat(l.a.info)},domRoot:document.getElementById("react-notification"),children:Object(L.jsx)(z.a,{children:Object(L.jsx)(ue,{locales:de.b,currentLocale:d,onLanguageChange:j})})})})})},"AppLocalizationProvider")]})}var xe=document.getElementById("root");Object(i.createRoot)(xe).render(Object(L.jsx)(me,{}))},37:function(e,t){function n(e){if(e.startsWith("#")&&(e=e.substring(1)),3===e.length)e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2);else if(6!==e.length)throw new Error("Invalid hex color: "+e);for(var t=[],n=0;n<=2;n++)t[n]=parseInt(e.substr(2*n,2),16);return t}function r(e){return function(e){var t="string"===typeof e?n(e):e;return.2126*t[0]+.7152*t[1]+.0722*t[2]}(e)>=165?"000":"fff"}function a(e){var t;return t=function(e){var t,n;return(t=document.createElement("canvas")).height=1,t.width=1,(n=t.getContext("2d")).fillStyle=e,n.fillRect(0,0,1,1),n.getImageData(0,0,1,1).data}(e),"#"+[0,1,2].map((function(e){return("0"+t[e].toString(16)).slice(-2)})).join("")}e.exports={getImageUrl:function(e,t){var n=t||{},r=n.width,a=void 0===r?null:r,c=n.height,o=void 0===c?null:c,i=n.format,s=void 0===i?window.imageFormat||"jpg":i;if("object"===typeof e&&null!==e&&!Array.isArray(e)){if("url"===e.type&&e.url)return"".concat(window.domains.storage,"download_url/?f=").concat(s,"&w=").concat(a,"&h=").concat(o,"&url=").concat(encodeURIComponent(e.url||""));if("file"===e.type&&e.fileId)return"".concat(window.domains.storage,"download_file/?f=").concat(s,"&w=").concat(a,"&h=").concat(o,"&id=").concat(encodeURIComponent(e.fileId||""))}return""},getBlockColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={color:null,colorRGB:null,contrastingColor:null,contrastingColorRGB:null};if(e.properties=e.properties||{},e.hasOwnProperty("properties")&&e.properties.hasOwnProperty("color")&&e.properties.color){var c=["purple","red","green","blue","yellow"],o=e.properties.color;if(c.includes(o))t.color="var(--".concat(o,")"),t.colorRGB="var(--".concat(o,"-rgb)"),t.contrastingColor="var(--on-".concat(o,")"),t.contrastingColorRGB="var(--on-".concat(o,"-rgb)");else{if(o.startsWith("#"))4!==o.length&&7!==o.length&&(o=null);else{var i=a(o);o="#000000"===i&&"black"!==o?null:i}if(o){t.color=o;var s=n(o);t.colorRGB=s.join(", "),t.contrastingColor="#"+r(o),t.contrastingColorRGB=n(t.contrastingColor)}}}return t}}},43:function(e,t,n){e.exports={app:"Viewer_app__1_jMF",spine_aligned:"Viewer_spine_aligned__2mJuq",items:"Viewer_items__2FgjF",coverphoto:"Viewer_coverphoto__16R-U",icon:"Viewer_icon__219E5",coverphotoIsSet:"Viewer_coverphotoIsSet__26PSP",contentWrapper:"Viewer_contentWrapper__1HLN8",type_p:"Viewer_type_p__O5DZS",viewer:"Viewer_viewer__JHrvB"}},47:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return p}));var r,a,c,o,i,s,l=n(32),u=n(45),d=Object(u.a)(r||(r=Object(l.a)(["\n  mutation saveBlock ($block: InputBlock!) {\n    saveBlock (block: $block) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n        block {\n          _id\n          type\n          properties\n          content {\n            blockId\n          }\n          parent\n          metadata {\n            modified\n            modified_by\n          }\n          permissions\n          computed {\n            roles\n            inherited_block_permissions\n          }\n        }\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),b=Object(u.a)(a||(a=Object(l.a)(["\n  mutation archiveBlocks ($ids: [ObjectID]!) {\n    archiveBlocks (ids: $ids)\n  }\n"]))),j=Object(u.a)(c||(c=Object(l.a)(["\n  mutation unarchiveBlocks ($ids: [ObjectID]!) {\n    unarchiveBlocks (ids: $ids)\n  }\n"]))),p=Object(u.a)(o||(o=Object(l.a)(["\n  mutation moveBlock ($movingBlockId: ObjectID!, $newParentId: ObjectID!, $newIndex: Int!) {\n    moveBlock(movingBlockId: $movingBlockId, newParentId: $newParentId, newIndex: $newIndex)\n  }\n"])));Object(u.a)(i||(i=Object(l.a)(["\n  mutation setCursor ($cursor: InputCursor!) {\n    setCursor(cursor: $cursor)\n  }\n"]))),Object(u.a)(s||(s=Object(l.a)(["\n  mutation removeCursor ($type: CursorType!, $blockId: ObjectID!, $propertyName: String) {\n    removeCursor(type: $type, blockId: $blockId, propertyName: $propertyName)\n  }\n"])))},53:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return m})),n.d(t,"g",(function(){return x}));var r,a,c,o,i,s,l,u,d,b,j=n(32),p=n(45),f=Object(p.a)(r||(r=Object(j.a)(["\n  query getBlock ($_id: ObjectID!) {\n    block (_id: $_id) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n        block {\n          _id\n          type\n          properties\n          content {\n            blockId\n          }\n          parent\n          metadata {\n            modified\n            modified_by\n          }\n          permissions\n          computed {\n            roles\n            inherited_block_permissions\n          }\n        }\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),O=Object(p.a)(a||(a=Object(j.a)(["\n  query getBlocks ($ids: [ObjectID], $slugs: [String], $types: [String], $archived: Boolean, $roots: [ObjectID], $roles: [String]) {\n    blocks (ids: $ids, slugs: $slugs, types: $types, archived: $archived, roots: $roots, roles: $roles) {\n      _id\n      type\n      properties\n      content {\n        blockId\n      }\n      parent\n      metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),h=Object(p.a)(c||(c=Object(j.a)(["\n  query getBlocks ($ids: [ObjectID], $slugs: [String], $types: [String], $archived: Boolean, $roots: [ObjectID] $roles: [String]) {\n    blocks (ids: $ids, slugs: $slugs, types: $types, archived: $archived, roots: $roots, roles: $roles) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n        block {\n          _id\n          type\n          properties\n          content {\n            blockId\n          }\n          parent\n          metadata {\n            modified\n            modified_by\n          }\n          permissions\n          computed {\n            roles\n            inherited_block_permissions\n          }\n        }\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),v=(Object(p.a)(o||(o=Object(j.a)(["\n  query getBlockBySlug ($slug: String!) {\n    block: blockBySlug (slug: $slug) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n        block {\n          _id\n          type\n          properties\n          content {\n            blockId\n          }\n          parent\n          metadata {\n            modified\n            modified_by\n          }\n          permissions\n          computed {\n            roles\n            inherited_block_permissions\n          }\n        }\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),Object(p.a)(i||(i=Object(j.a)(["\n  query getSelf {\n    self {\n\t\t  logged_in\n\t\t  user\n\t\t  blockId\n      userroles\n    }\n  }\n"])))),g=(Object(p.a)(s||(s=Object(j.a)(["\n  query getSiblingBlocks ($_id: ObjectID!, $types: [String]) {\n    blocks: siblingBlocks (_id: $_id, types: $types) {\n      _id\n      type\n      properties\n    }\n  }\n"]))),Object(p.a)(l||(l=Object(j.a)(["\n  query getParentBlocks ($_id: ObjectID!) {\n    blocks: parentBlocks (_id: $_id) {\n      _id\n      type\n      properties\n      computed {\n        sort\n      }\n    }\n  }\n"])))),m=(Object(p.a)(u||(u=Object(j.a)(["\n  query blockMatchesRoles ($_id: ObjectID!, $roles: [String]) {\n    blockMatchesRoles (_id: $_id, roles: $roles)\n  }\n"]))),Object(p.a)(d||(d=Object(j.a)(["\n  query checkSlug ($slug: String!) {\n    checkSlug (slug: $slug) {\n      isOkay\n      errors\n      existsAsSlug\n      existsAsId\n    }\n  }\n"])))),x=Object(p.a)(b||(b=Object(j.a)(["\n  query search ($query: String!, $types: [String], $archived: Boolean) {\n    blocks: search (query: $query, types: $types, archived: $archived) {\n      _id\n      type\n      properties\n      content {\n        blockId\n      }\n      parent\n      metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"])))},57:function(e,t,n){e.exports={icon:"BlockIcon_icon__1wJFr",square:"BlockIcon_square__11KYn",round:"BlockIcon_round__1sKzE"}},71:function(e,t,n){e.exports={dialog:"SearchBox_dialog__1znAI",backdrop:"SearchBox_backdrop__2e5Wz",inputWrapper:"SearchBox_inputWrapper__24CrI",input:"SearchBox_input__1qb9w",actions:"SearchBox_actions__4Zrwb",searchInput:"SearchBox_searchInput__3M4FI",filters:"SearchBox_filters__1axwa",searchResults:"SearchBox_searchResults__3ySIT",searchErrors:"SearchBox_searchErrors__1Q8W1",mathResult:"SearchBox_mathResult__YFSbr",blockRow:"SearchBox_blockRow__13jhD",blockRowActions:"SearchBox_blockRowActions__1FRMH",fakeHover:"SearchBox_fakeHover__30G2t"}},76:function(e,t,n){e.exports={snackbar:"Snackbar_snackbar__119_w",default:"Snackbar_default__31-eU",success:"Snackbar_success__zvTW8",error:"Snackbar_error__3XeD6",warning:"Snackbar_warning__2CBXt",info:"Snackbar_info__EuVSN"}},79:function(e,t,n){"use strict";var r=n(5),a=n(19),c=n(6),o=n(24),i=n(8),s=n.n(i),l=n(0),u=n(16),d=n(56),b=n(125),j=n.n(b),p=n(1);function f(e,t){var n,r={},a=Object(u.a)(t);try{for(a.s();!(n=a.n()).done;){var c=n.value;e.hasType(c)&&(r[c]="application/json"===c?JSON.parse(e.getData(c)):e.getData(c))}}catch(o){a.e(o)}finally{a.f()}return{data:r,transmat:e}}function O(e){var t=e.onTransmit,n=e.onReceive,r=e.checkEntry,c=e.draggable,o=e.style,i=e.className,b=e.children,O=e.mimetypes,h=void 0===O?["application/json"]:O,v=Object(l.useRef)(null);return Object(l.useEffect)((function(){var e=Object(d.addListeners)(v.current,"transmit",function(){var e=Object(a.a)(s.a.mark((function e(n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new d.Transmat(n),"function"!==typeof t){e.next=6;break}return e.next=4,t(r);case 4:"object"!==typeof(a=e.sent)||null===a||Array.isArray(a.data)||"object"!==typeof a.data||null===a.data||r.setData(a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c=Object(d.addListeners)(v.current,"receive",(function(e){var t=new d.Transmat(e),a=f(t,h),c=!1;"function"===typeof r&&(c=r(a)),t.accept()&&(c&&"function"===typeof n&&n(a),e.preventDefault())})),o=new d.TransmatObserver((function(e){var t,n=Object(u.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,c=f(new d.Transmat(a.event),h),o=!1;"function"===typeof r&&(o=r(c)),o&&(a.target.classList.toggle(j.a.drag_over,a.isTarget),a.target.classList.toggle(j.a.drag_active,a.isActive))}}catch(i){n.e(i)}finally{n.f()}}));return o.observe(v.current),function(){e(),c(),o.disconnect()}}),[t,n,r,h]),Object(p.jsx)("div",{ref:v,style:o,className:i,draggable:c?"true":"false",tabIndex:"0",children:b})}var h=n(83),v=n(17),g=n(37),m=n(448),x=n(449);var y=function(e){var t=e.block,n=e.style,a=e.locales,o=Object(l.useState)({__html:""}),i=Object(c.a)(o,2),s=i[0],u=i[1],d=(0,Object(v.c)().translateBlock)(t,a,"");Object(l.useEffect)((function(){var e=Object(h.a)(d);u({__html:e})}),[d,u]);var b={dir:"auto",style:Object(r.a)({whiteSpace:"pre-wrap",display:"flex"},n)},j=Object(g.getBlockColor)(t).color;j&&(b.style.color=j);var f="body";t.properties.hasOwnProperty("text_style")&&(f=t.properties.text_style);var O=(t||{}).properties||{},y=O.text_decorations,_=void 0===y?[]:y,k=O.checked,w=[];if(_.includes("checkbox")){var S={key:"checkbox",style:{margin:"var(--basis_x0_2) var(--basis) 0 0",height:"var(--prefix-icon-size)",width:"var(--prefix-icon-size)"}};k?w.push(Object(p.jsx)(m.a,Object(r.a)({},S))):w.push(Object(p.jsx)(x.a,Object(r.a)({},S)))}var I=Object(p.jsx)("span",{dangerouslySetInnerHTML:s}),A=null;switch(f){case"h1":A=Object(p.jsxs)("h1",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}));break;case"h2":A=Object(p.jsxs)("h2",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}));break;case"h3":A=Object(p.jsxs)("h3",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}));break;case"caption":A=Object(p.jsxs)("caption",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}));break;default:A=Object(p.jsxs)("p",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}))}return Object(p.jsx)("div",{style:{display:"flex"},children:A})};var _=function(e){var t=e.block,n=e.clickable,a=void 0===n||n,o=e.locales,i=Object(l.useState)({__html:""}),s=Object(c.a)(i,2),u=s[0],d=s[1],b=Object(v.c)(),j=b.getString,f=(0,b.translateBlock)(t,o,j("placeholder_headline_empty"));Object(l.useEffect)((function(){var e=Object(h.a)(f,{linkify:!1});d({__html:e})}),[f,d]);var O="";t&&t.properties&&t.properties.url&&(O=t.properties.url);var m=Object(g.getBlockColor)(t),x=m.color,y=m.contrastingColor,_={};return x&&(_["--button-background"]=x,_["--button-color"]=y),!0===a&&""!==O?Object(p.jsx)("a",{href:O,target:"_blank",rel:"noreferrer",children:Object(p.jsx)("button",{dir:"auto",dangerouslySetInnerHTML:u,className:"default square",style:Object(r.a)({margin:"0",whiteSpace:"pre-wrap"},_)})}):Object(p.jsx)("button",{dir:"auto",dangerouslySetInnerHTML:u,disabled:"disabled",className:"default square",style:Object(r.a)({margin:"0",whiteSpace:"pre-wrap"},_)})};function k(e){var t=e.block,n=Object(g.getBlockColor)(t).color,r={};return n&&(r["--on-background"]=n),Object(p.jsx)("hr",{style:r})}var w=n(15);var S=n(52),I=n(85),A=n.n(I),C=n(205);function B(e){return e.toISOString().replace("T"," ").replace(/(:[^:]*?)$/,"")}var N=function(e){var t=e.block,n=e.clickable,a=void 0===n||n,o=e.onClick,i=e.locales,s=e.forceId,u=e.pathSuffix,d=e.size,b=void 0===d?"line":d,j=Object(v.c)(),f=j.getString,O=j.translateBlock,h=j.userLocales,m=(null===t||void 0===t?void 0:t.type)||"unknown",x=t.properties||{},y=x.slug||"",_=function(e){var t=e.block,n=void 0===t?null:t,r=e.forceId,a=void 0!==r&&r,o=e.pathSuffix,i=void 0===o?"":o,s=Object(l.useState)(null),u=Object(c.a)(s,2),d=u[0],b=u[1],j=Object(l.useState)(null),p=Object(c.a)(j,2),f=p[0],O=p[1];return Object(l.useEffect)((function(){var e=null,t=null,r=i.trim().toLowerCase();"view"===r&&(r="");var c=r;if(c.length>0&&(c="/".concat(c)),null!==n){var o=n._id,s=n.type,l=n.properties||{},u=l.slug||"",d=l.url||"";"website"===s&&"string"===typeof d&&d.length>0&&""===r?(e=d,t=null):"redirect"===s&&"string"===typeof d&&d.length>0&&""===r?(e=u.length>0?!0===a?"".concat(window.domains.frontend).concat(u,"=").concat(o).concat(c):"".concat(window.domains.frontend).concat(u).concat(c):"".concat(window.domains.frontend).concat(o).concat(c),t=null):"string"===typeof u&&u.length>0?!0===a?(e="".concat(window.domains.frontend).concat(u,"=").concat(o).concat(c),t="/".concat(u,"=").concat(o).concat(c)):(e="".concat(window.domains.frontend).concat(u).concat(c),t="/".concat(u).concat(c)):(e="".concat(window.domains.frontend).concat(o).concat(c),t="/".concat(o).concat(c))}b(e),O(t)}),[n,a,i,b,O]),{link:d,path:f}}({block:t,forceId:s,pathSuffix:u}),k=_.link,I=_.path,N=O(t,i||h,""),E=[];if("page"===m||"redirect"===m||"person"===m)""===N&&"string"===typeof y&&""!==y&&E.push(Object(p.jsx)("div",{importance:"less",children:"/"+y},"slug"));else if("website"===m)x.hasOwnProperty("url")&&"string"===typeof x.url&&x.url.length>0&&E.push(Object(p.jsx)("div",{style:{fontSize:"calc(0.6 * var(--body-font-size))",margin:"var(--basis_x0_5) 0"},children:Object(p.jsx)("em",{children:x.url})},"url")),x.hasOwnProperty("description")&&"string"===typeof x.description&&x.description.length>0&&E.push(Object(p.jsx)("div",{importance:"less",children:x.description},"description"));else if("apikey"===m)if(x.hasOwnProperty("nbf")&&x.hasOwnProperty("exp")){var P=new Date(x.nbf),R=new Date(x.exp);E.push(Object(p.jsx)("div",{children:f("apikey_validity",{from:B(P),to:B(R)})},"nbf_and_exp"))}else if(x.hasOwnProperty("nbf")){var D=new Date(x.nbf);E.push(Object(p.jsx)("div",{children:f("apikey_validity_from",{from:B(D)})},"nbf"))}else if(x.hasOwnProperty("exp")){var T=new Date(x.exp);E.push(Object(p.jsx)("div",{children:f("apikey_validity_to",{to:B(T)})},"exp"))}if("website"===m&&x.hasOwnProperty("tags")&&Array.isArray(x.tags)){var $=Object(w.a)(new Set(x.tags)).filter((function(e){return"string"===typeof e&&e.length>0})).map((function(e){return Object(p.jsx)("span",{className:A.a.tag,children:e},e)}));E.push(Object(p.jsx)("div",{style:{margin:"var(--basis_x0_5) calc(-1 * var(--basis_x0_5))"},children:$},"tags"))}""===N&&0===E.length&&(N=f("placeholder_headline_empty")),"line"===b&&(""!==N?E=[]:0===E.length&&(E=[E[0]]));var L=Object(p.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[Object(p.jsx)(C.a,{block:t}),Object(p.jsxs)("div",{className:A.a.content,children:[Object(p.jsx)("div",{dir:"auto",className:A.a.title,children:N}),E.length>0?Object(p.jsx)("div",{dir:"auto",className:A.a.additionalInfos,children:E}):null]})]}),F=I||k,q=Object(g.getBlockColor)(t),V=q.color,M=void 0===V?"inherit":V,z=q.colorRGB,H=void 0===z?"--on-background-rgb":z,U={};return"function"===typeof o&&(U.onClick=o),!0===a&&"string"===typeof F&&F.length>0?F.includes(":")?Object(p.jsx)("a",Object(r.a)(Object(r.a)({href:F,target:"_blank",rel:"noreferrer",title:N,className:"clickable_card ".concat(A.a.root),style:{display:"block",cursor:"pointer",color:M,"--on-background-rgb":H}},U),{},{children:L})):Object(p.jsx)(S.b,Object(r.a)(Object(r.a)({to:F,title:N,className:"clickable_card ".concat(A.a.root),style:{display:"block",cursor:"pointer",color:M,"--on-background-rgb":H}},U),{},{children:L})):Object(p.jsx)("div",Object(r.a)(Object(r.a)({title:N,className:"clickable_card ".concat(A.a.root),style:{cursor:"auto",color:M,"--on-background-rgb":H}},U),{},{children:L}))};var E=function(e){var t=e.block,n=e.locales,r=Object(l.useState)({__html:""}),a=Object(c.a)(r,2),o=a[0],i=a[1],s=(0,Object(v.c)().translateBlock)(t,n,"");Object(l.useEffect)((function(){var e=Object(h.a)(s,{linkify:!1});i({__html:e})}),[s,i]);var u="";return t&&t.properties&&t.properties.coverphoto&&t.properties.coverphoto.type&&("url"===t.properties.coverphoto.type?"string"===typeof t.properties.coverphoto.url&&t.properties.coverphoto.url.length>0&&(u="".concat(window.domains.storage,"download_url?f=").concat(window.imageFormat||"jpg","&w=1000&h=1000&url=").concat(encodeURIComponent(t.properties.coverphoto.url))):"file"===t.properties.coverphoto.type&&"string"===typeof t.properties.coverphoto.fileId&&t.properties.coverphoto.fileId.length>0&&(u="".concat(window.domains.storage,"download_file/?f=").concat(window.imageFormat||"jpg","&w=1000&h=1000&id=").concat(encodeURIComponent(t.properties.coverphoto.fileId)))),""!==u?Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:u,alt:s,title:s,style:{maxWidth:"100%",margin:"0 auto",display:"block",boxShadow:"inset 0 0 0 1px rgba(var(--on-background-rgb), var(--alpha-less))"}}),Object(p.jsx)("div",{dir:"auto",dangerouslySetInnerHTML:o,className:"type_caption",style:{textAlign:"center",marginTop:"var(--basis_x0_5)"}})]}):null},P=n(221),R=n.n(P),D=n(47),T=n(138),$=n(87),L=n(53),F=n(84);var q=function(){var e=Object(v.c)().getString,t=Object($.a)(),n=Object(F.b)(),r=n.enqueueSnackbar,c=n.closeSnackbar,o=Object(l.useCallback)((function(n){return new Promise((function(o){var i=null;if(n&&""!==n){var l=new Promise((function(e){var l=null;"object"!==typeof window.SERVER_DATA||null===window.SERVER_DATA||Array.isArray(window.SERVER_DATA)||(l=window.SERVER_DATA.preloaded_block||null),"object"===typeof l&&null!==l&&l.hasOwnProperty("_id")&&l._id===n?(window.SERVER_DATA={preloaded_block:null},e("got-preloaded-data"),o(l)):t.query({query:L.b,variables:{_id:n}}).then(function(){var t=Object(a.a)(s.a.mark((function t(n){var a,l,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n.errors,l=n.data,e("got-data"),null!==i&&c(i),Array.isArray(a)?(r(a.map((function(e){return e.message})).join("\n"),{variant:"error",preventDuplicate:!0,autoHideDuration:5e3}),o(null)):null===l.block?(r("Could not load the content.",{variant:"error",preventDuplicate:!0,autoHideDuration:5e3}),o(null)):(u=l.block,o(u));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=Object(a.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.error("error",n),e("got-error"),null!==i&&c(i),r("[could not load data] "+n.message,{variant:"error",preventDuplicate:!0,autoHideDuration:2e3});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));Promise.race([new Promise((function(e){setTimeout((function(){e("show-loading")}),300)})),l]).then((function(t){"show-loading"===t&&(i=r(e("path_editor_status_started_loading"),{persist:!0,preventDuplicate:!0}))})).catch((function(e){return console.error}))}else o({type:"text"})}))}),[r,c,t,e]);return o},V=n(80),M=["blockId","block","clickable","size","dragable","parentProps"];function z(e,t){for(var n in(e=JSON.parse(JSON.stringify(e))).hasOwnProperty(t)&&delete e[t],e)e.hasOwnProperty(n)&&"object"==typeof e[n]&&null!==e[n]&&z(e[n],t);return e}t.a=function(e){var t=e.blockId,n=void 0===t?null:t,i=e.block,u=void 0===i?{}:i,d=(e.clickable,e.size),b=void 0===d?"line":d,j=e.dragable,f=void 0!==j&&j,h=e.parentProps,v=void 0===h?{}:h,g=Object(o.a)(e,M),m=null,x=Object(l.useState)(u||{}),w=Object(c.a)(x,2),S=w[0],I=w[1],A=Object(l.useRef)(!1),C=Object(V.a)().userroles,B=function(e){var t=e.keys,n=void 0===t?[]:t,r=Object(l.useRef)(new Set);return Object(l.useEffect)((function(){function e(e){var t=e.key.toLowerCase();n.includes(t)&&r.current.add(t)}function t(e){var t=e.key.toLowerCase();r.current.delete(t)}return window.addEventListener("keydown",e),window.addEventListener("keyup",t),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}}),[n]),{getPressedKeys:function(){return r.current}}}({keys:["shift"]}).getPressedKeys,P=q();switch(Object(l.useEffect)((function(){JSON.stringify(u)!==JSON.stringify(S)&&I(u||{})}),[S,u]),Object(l.useEffect)((function(){!n||S.hasOwnProperty("_id")&&n===S._id||!1!==A.current||(A.current=!0,P(n).then(function(){var e=Object(a.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof t&&null!==t){e.next=4;break}throw new Error("ViewerAuto: loadBlock returned no object");case 4:null!==t.type&&I(t);case 5:A.current=!1;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e),A.current=!1})))}),[n,S,P,I]),S.type||null){case"text":m=Object(p.jsx)(y,Object(r.a)({block:S},g),S._id);break;case"button":m=Object(p.jsx)(_,Object(r.a)({block:S},g),S._id);break;case"divider":m=Object(p.jsx)(k,Object(r.a)({block:S},g),S._id);break;case"page":case"person":case"redirect":case"website":case"apikey":case"poster":m=Object(p.jsx)(N,Object(r.a)({block:S,size:b},g),S._id);break;case"image":m=Object(p.jsx)(E,Object(r.a)({block:S},g),S._id);break;default:m=null}var $=Object(T.a)(),L=Object(l.useCallback)(function(){var e=Object(a.a)(s.a.mark((function e(t){var n,r,a,c,o,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,"object"!==typeof(r=((void 0===n?{}:n)||{})["application/json"])||null===r){e.next=23;break}if(a=z(a=r,"__typename"),c=S.computed.roles||[],o=a.computed.roles||[],a._id===S._id||!(C.includes("admin")||(c.includes("editor")||c.includes("owner"))&&(o.includes("editor")||o.includes("owner")))){e.next=23;break}return i=B(),l=!1,e.prev=10,e.next=13,$({mutation:D.b,variables:{movingBlockId:a._id,newParentId:S._id,newIndex:0}});case 13:if(!i.has("shift")){e.next=16;break}return e.next=16,$({mutation:D.c,variables:{block:{_id:a._id,properties:{active:!1}}}});case 16:l=!0,e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),console.error(e.t0);case 22:l&&console.log("TODO reload sidebar");case 23:case"end":return e.stop()}}),e,null,[[10,19]])})));return function(t){return e.apply(this,arguments)}}(),[$,S,B,C]),F=Object(l.useCallback)((function(e){var t=e.data,n=((void 0===t?{}:t)||{})["application/json"],r=!1;if("object"===typeof n&&null!==n&&n.hasOwnProperty("computed")&&n.computed.hasOwnProperty("roles")){var a=n.computed.roles||[];(C.includes("admin")||a.includes("editor")||a.includes("owner"))&&(r=!0)}return r}),[C]);return Object(p.jsx)(O,Object(r.a)(Object(r.a)({draggable:f,className:R.a.root,onTransmit:function(){return{data:{"text/plain":S.properties.text||"","application/json":S}}},onReceive:L,checkEntry:F},v),{},{children:m}),S._id)}},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(19),a=n(5),c=n(6),o=n(8),i=n.n(o),s=n(0),l=n(87),u=n(53),d={userroles:[]};function b(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(s.useRef)(!1);Object(s.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]);var n=Object(s.useState)(d),o=Object(c.a)(n,2),b=o[0],j=o[1],p=Object(s.useState)(!1),f=Object(c.a)(p,2),O=f[0],h=f[1],v=Object(l.a)();return Object(s.useEffect)((function(){!0!==e&&window.hasOwnProperty("user")?(j(Object(a.a)(Object(a.a)({},window.user),{},{userroles:window.user.userroles||[]})),h(window.user.logged_in)):v.query({query:u.f}).then(function(){var e=Object(r.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.data,!0===t.current&&(r.hasOwnProperty("self")&&null!==r.self?(window.user=r.self,j(Object(a.a)(Object(a.a)({},r.self),{},{userroles:r.self.userroles||[]})),h(r.self.logged_in)):(j(d),h(!1)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e),!0===t.current&&(j(d),h(!1))}))}),[e,j,h,v]),Object(a.a)(Object(a.a)({},b),{},{loggedIn:O})}},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(5),a=n(218),c=n.n(a),o=n(219),i=n.n(o),s=n(220),l=n.n(s),u=n(139);function d(e){var t=c()(Object(r.a)({html:!1,xhtmlOut:!1,linkify:!0,typographer:!0,breaks:!1},e));return t.use(i.a),t.use(l.a),t}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=(e=e||"").replace(/\(TM\)/gi,"\u2122").replace(/\(SM\)/gi,"\u2120").replace(/\(C\)/gi,"\xa9").replace(/\(R\)/gi,"\xae");var n=d(t);return e=n.renderInline(e),e=u.a.parse(e,{folder:"svg",ext:".svg",base:"/public/twemoji/assets/"})}},85:function(e,t,n){e.exports={content:"ViewerLineAndCard_content__1lFI-",title:"ViewerLineAndCard_title__2hfbo",additionalInfos:"ViewerLineAndCard_additionalInfos__2CGI1",tag:"ViewerLineAndCard_tag__XiCzV"}},94:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return v}));var r=n(13),a=n(6),c=n(0),o=n(465),i=n(21),s=function(e){var t=Object(c.useState)(!1),n=Object(a.a)(t,2),r=n[0],o=n[1];return Object(c.useEffect)((function(){var t=window.matchMedia(e);t.matches!==r&&o(t.matches);var n=function(){return o(t.matches)};return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[r,e]),r},l=n(161),u=n.n(l),d=n(1),b=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(7),n.e(8)]).then(n.bind(null,532))})),j=Object(c.createContext)({});function p(){return Object(c.useContext)(j)}function f(e){var t=e.children,n=Object(c.useState)(!1),r=Object(a.a)(n,2),o=r[0],s=r[1],l=!Object(i.f)("/")&&o,u=Object(c.useCallback)((function(){s((function(e){return!e}))}),[s]);return Object(d.jsx)(j.Provider,{value:{open:l,setOpen:s,toggleSidebar:u},children:t})}function O(){var e=p(),t=e.open,n=e.toggleSidebar,a="undefined"!==typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent),i=s("(min-width: 960px)");return t?Object(d.jsx)(o.a,{variant:i?"permanent":"temporary",anchor:"left",open:t,onOpen:n,onClose:n,disableBackdropTransition:!a,disableDiscovery:a,sx:Object(r.a)({width:320,flexShrink:0},"& .MuiDrawer-paper",{width:320,boxSizing:"border-box",backgroundColor:"var(--background-contrast)",color:"var(--on-background)",border:"none"}),PaperProps:{sx:{background:"var(--background-contrast)",color:"var(--on-background)"}},children:Object(d.jsx)(c.Suspense,{children:Object(d.jsx)(h,{})})}):null}function h(){return Object(d.jsx)(c.Suspense,{children:Object(d.jsx)(b,{})})}function v(e){var t=e.children,n=p().open;return Object(d.jsx)("main",{className:"".concat(u.a.main," ").concat(n?u.a.open:""),style:{"--sidebarWidth":"320px"},children:t})}},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(5),a=n(24),c=n(373),o=n(371),i=n(349),s=n(232),l=n(229),u=n(231),d=n(350),b=n(17),j=n(187),p=n(1),f=["closePopover","open"],O=["sx"];function h(e){var t=e.trigger,n=e.children,h=e.onToogle,v=e.paperProps,g=void 0===v?{}:v;return Object(p.jsx)(j.a,{trigger:t,onToogle:h,children:function(e){var t=e.closePopover,j=e.open,h=Object(a.a)(e,f),v=g||{},m=v.sx,x=void 0===m?{}:m,y=Object(a.a)(v,O);return Object(p.jsx)(c.a,Object(r.a)(Object(r.a)(Object(r.a)({},h),{},{sx:Object(r.a)({maxWidth:380,maxHeight:"calc(100vh - 32px)",overflow:"auto",background:"var(--background-contrast)",color:"var(--on-background)",borderRadius:"var(--basis_x2)"},x),elevation:8},y),{},{children:Object(p.jsx)(o.a,{autoFocus:!0,style:{width:"100%",maxWidth:"100%",marginTop:"-8px"},children:Object(p.jsxs)("div",{children:["function"===typeof n?n({isOpen:j,close:t}):n,Object(p.jsx)(i.a,{style:{opacity:.2,marginBottom:"8px"}}),Object(p.jsxs)(s.a,{className:"roundMenuItem",onClick:t,children:[Object(p.jsx)(l.a,{children:Object(p.jsx)(d.a,{})}),Object(p.jsx)(u.a,{children:Object(p.jsx)(b.a,{id:"block_menu_close_menu"})})]})]})})}))}})}}},[[342,3,4]]]);
//# sourceMappingURL=main.bf66b356.chunk.js.map
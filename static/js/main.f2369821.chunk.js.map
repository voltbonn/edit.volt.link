{"version":3,"sources":["locales lazy /^/.//.*/.ftl$/ groupOptions: {} namespace object","pages/App.js","fluent/l10n.js","index.js","Snackbar.module.css","hooks/useMediaQuery.js","components/Sidebar.js","pages/App.module.css","components/Sidebar.module.css"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","Viewer","lazy","Editor","App","matchesStartpage","useMatch","location","useLocation","useState","customLocation","setCustomLocation","useEffect","slugAndIdMatch","pathname","match","slugOrId","suffix","newPathname","className","classes","app","isStartpage","Sidebar","path","element","Helmet","locales","de","en","fr","_supportedLocales_","_defaultLocale_","fetchMessages","locale","a","fetch","default","response","text","messages","FluentResource","createMessagesGenerator","currentLocales","all","fetched","reduce","obj","cur","assign","generateBundles","bundle","FluentBundle","addResource","f","AppLocalizationProvider","userLocales","children","onLocaleChange","ReactLocalization","getDefaultBundles","bundles","setBundles","negotiateLanguages","defaultLocale","new_bundles","supportedLocales","loadBundles","l10n","window","process","env","domains","frontend","backend","client","ApolloClient","uri","cache","InMemoryCache","credentials","defaultOptions","watchQuery","fetchPolicy","errorPolicy","query","Start","navigator","languages","setUserLocales","currentLocale","setCurrentLocale","umami","systemLocales","Array","isArray","language","toLowerCase","split","trackEvent","handleLanguageChange","useCallback","event","target","dataset","handleCurrentLocalesChange","length","prefersDarkMode","useMediaQuery","theme","React","useMemo","createTheme","palette","mode","style","zIndex","ApolloProvider","ThemeProvider","anchorOrigin","vertical","horizontal","minWidth","variantSuccess","snackbarClasses","snackbar","success","variantError","error","variantWarning","warning","variantInfo","info","domRoot","document","getElementById","onLanguageChange","container","createRoot","render","matches","setMatches","media","matchMedia","listener","addEventListener","removeEventListener","LazySidebarContent","SidebarContext","createContext","useSidebarContext","useContext","SidebarProvider","open","setOpen","realOpen","toggleSidebar","oldOpen","Provider","value","iOS","test","userAgent","isDesktop","SwipeableDrawer","variant","anchor","onOpen","onClose","disableBackdropTransition","disableDiscovery","sx","width","flexShrink","boxSizing","backgroundColor","color","border","PaperProps","background","SidebarContent","Main","main","sidebarWidth"],"mappings":"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","file":"static/js/main.f2369821.chunk.js","sourcesContent":["var map = {\n\t\"./de.ftl\": [\n\t\t173,\n\t\t12\n\t],\n\t\"./en.ftl\": [\n\t\t174,\n\t\t13\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 154;\nmodule.exports = webpackAsyncContext;","import React, { Suspense, lazy, useState, useEffect } from 'react'\n\nimport classes from './App.module.css'\n\nimport {\n  Routes,\n  Route,\n  useLocation,\n  useMatch,\n  // useNavigate,\n} from 'react-router-dom'\n\nimport { SidebarProvider, Sidebar, SidebarContent, Main } from '../components/Sidebar.js'\n// import Shortcode from './Shortcode.js'\nimport { Helmet } from 'react-helmet'\n\nconst Viewer = lazy(() => import('./Viewer.js'))\nconst Editor = lazy(() => import('./Editor.js'))\n\n// function useScrollMemory() {\n//   // const navigate = useNavigate()\n//   const location = useLocation()\n//\n//   const pathRef = useRef(null)\n//\n//   useEffect(() => {\n//     console.log('location', location)\n//     pathRef.current = location.pathname\n//   }, [location])\n//\n//   useEffect(() => {\n//     // Listen for location changes and set the scroll position accordingly.\n//     const setFromHistoryState = state => {\n//       console.log('popstate-state', state)\n//       let scrollY = 0\n//       if (state && state.scrollY) {\n//         scrollY = state.scrollY\n//       }\n//       console.log('A-popstate-scrollY', scrollY)\n//       if (scrollY < 100) {\n//         scrollY = 0\n//       }\n//\n//       console.log('B-popstate-scrollY', scrollY)\n//       window.scrollTo(0, scrollY)\n//       setTimeout(()=>{\n//         window.scrollTo(0, scrollY)\n//       }, 500)\n//     }\n//\n//     setFromHistoryState(window.history.state)\n//     const popstateListener = event => {\n//       if (event.type === 'popstate') {\n//         setFromHistoryState(event.state)\n//       }\n//     }\n//     window.addEventListener('popstate', popstateListener)\n//\n//     const scrollListener = () => {\n//       const newScrollY = window.scrollY\n//       console.log(' ')\n//       console.log('scrollListener-window.history.state', window.history.state)\n//       console.log('scrollListener-newScrollY', newScrollY)\n//       console.log('pathRef.current', pathRef.current)\n//\n//       if (typeof pathRef.current === 'string') {\n//         window.history.replaceState(\n//           {\n//             ...(window.history.state || {}),\n//             scrollY: newScrollY,\n//           },\n//           '',\n//           pathRef.current\n//         )\n//         console.log('window.history.state', window.history.state)\n//\n//         // navigate(pathRef.current, {\n//         //   replace: true,\n//         //   state: {\n//         //     // ...(window.history.state || {}),\n//         //     scrollY: newScrollY,\n//         //   },\n//         // })\n//       }\n//     }\n//     window.addEventListener('scroll', scrollListener)\n//\n//     // Unregister listener when component unmounts.\n//     return () => {\n//       console.log('Unregister')\n//       window.removeEventListener('popstate', popstateListener)\n//       window.removeEventListener('scroll', scrollListener)\n//     }\n//   }, [])\n// }\n\nfunction App() {\n  // useScrollMemory()\n\n  const matchesStartpage = useMatch('/')\n  const location = useLocation()\n\n  const [customLocation, setCustomLocation] = useState({})\n\n  useEffect(() => {\n    //    /slug=id/suffix\n    //    /slugOrId/suffix\n\n    const slugAndIdRegex = /^\\/([^=/]*)(?:=?)([^=/]*)(.*)/\n\n    const slugAndIdMatch = location.pathname.match(slugAndIdRegex)\n    const slugOrId = slugAndIdMatch[1]\n    let id = slugAndIdMatch[2]\n    let suffix = slugAndIdMatch[3]\n\n    if (!id && slugOrId) {\n      id = slugOrId\n    }\n\n    if (\n      id !== ''\n      && suffix !== '/edit'\n      && suffix !== '/view'\n    ) {\n      suffix = '/view'\n    }\n\n    const newPathname = `/${id}${suffix}`\n    if (customLocation.pathname !== newPathname) {\n      // TODO: save scroll position\n      \n\n\n      setCustomLocation({\n        pathname: newPathname,\n      })\n    }\n  }, [ location, customLocation, setCustomLocation ])\n\n  return (<>\n    <div className={`${classes.app} ${matchesStartpage ? classes.isStartpage : ''}`}>\n      <SidebarProvider>\n        {\n          matchesStartpage\n          ? null\n          : <Sidebar />\n        }\n        <Main>\n          <Routes location={customLocation}>\n            <Route path=\"/:id/view\" element={\n              <Suspense>\n                <Viewer />\n              </Suspense>\n            } />\n            <Route path=\"/:id/edit\" element={\n              <Suspense>\n                <Editor />\n              </Suspense>\n            } />\n            {/* <Route path=\"/shortcode\" element={<Shortcode />} /> */}\n            <Route path=\"/\" element={<>\n              <Helmet>\n                <title>VoltLink</title>\n              </Helmet>\n              <SidebarContent />\n            </>} />\n          </Routes>\n        </Main>\n      </SidebarProvider>\n    </div>\n  </>)\n}\n\nexport default App\n","import React, { useEffect, useState } from 'react'\n\n// https://projectfluent.org/play/\n\n// import { LocalizationProvider, Localized } from '@fluent/react' // '@fluent/react/compat'\nimport { ReactLocalization, LocalizationProvider } from '@fluent/react'\nimport { FluentBundle, FluentResource } from '@fluent/bundle'\nimport { negotiateLanguages } from '@fluent/langneg'\n\n\nexport const locales = {\n  de: 'Deutsch',\n  en: 'English',\n  // es: 'Español',\n  // pt: 'Português',\n  fr: 'Français',\n  // it: 'Italiano',\n  // nl: 'Dutch',\n  // pl: 'Polska',\n  // ru: 'Pусский',\n}\n\nconst _supportedLocales_ = Object.keys(locales)\nconst _defaultLocale_ = 'en'\n\n\nasync function fetchMessages(locale) {\n  const path = await import('../locales/' + locale + '.ftl')\n\n  const response = await fetch(path.default)\n  const messages = await response.text()\n\n  return { [locale]: new FluentResource(messages) }\n}\n\nfunction getDefaultBundles() {\n  const bundle = new FluentBundle('')\n  bundle.addResource(new FluentResource(''))\n  return new ReactLocalization([bundle])\n}\n\nasync function createMessagesGenerator(currentLocales) {\n  const fetched = await Promise.all(\n    currentLocales.map(fetchMessages)\n  )\n  const messages = fetched.reduce(\n    (obj, cur) => Object.assign(obj, cur)\n  )\n\n  return function* generateBundles() {\n    for (const locale of currentLocales) {\n      const bundle = new FluentBundle(locale)\n      bundle.addResource(messages[locale])\n      yield bundle\n    }\n  }\n}\n\nexport function AppLocalizationProvider({ userLocales, children, onLocaleChange }) {\n  const [bundles, setBundles] = useState(getDefaultBundles())\n\n  useEffect(() => {\n    async function loadBundles() {\n      const currentLocales = negotiateLanguages(\n        userLocales,\n        _supportedLocales_,\n        { defaultLocale: _defaultLocale_ }\n      )\n\n      if (!!onLocaleChange) {\n        onLocaleChange(currentLocales)\n      }\n\n      const generateBundles = await createMessagesGenerator(currentLocales)\n\n      const new_bundles = new ReactLocalization(generateBundles())\n      new_bundles.userLocales = userLocales\n      new_bundles.defaultLocale = _defaultLocale_\n      new_bundles.supportedLocales = _supportedLocales_\n      setBundles(new_bundles)\n    }\n    loadBundles()\n  }, [userLocales, onLocaleChange])\n\n  if (!bundles) {\n    // Show a loader.\n    return <div>Loading texts…</div>\n  }\n\n  return <LocalizationProvider l10n={bundles}>\n    {children}\n  </LocalizationProvider>\n}\n\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { createRoot } from 'react-dom/client'\n\nimport './index.css'\n\nimport snackbarClasses from './Snackbar.module.css'\n\nimport App from './pages/App.js'\n// import reportWebVitals from './reportWebVitals'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nimport 'intl-pluralrules'\nimport { AppLocalizationProvider, locales } from './fluent/l10n.js'\n// import { TranslatedInputProvider } from './components/edit/TranslatedInput.js'\n\nimport useMediaQuery from '@mui/material/useMediaQuery'\nimport { createTheme, ThemeProvider } from '@mui/material/styles'\n\nimport { SnackbarProvider } from 'notistack'\n\nimport {\n  ApolloClient,\n  InMemoryCache,\n  ApolloProvider,\n} from '@apollo/client'\n\nwindow.process = {} // BUGFIX for CRA4 error-page after hot-reloading.\n\nwindow.env = 'prod' // dev / prod\nwindow.domains = {\n  frontend: 'https://volt.link/',\n  backend: 'https://api.volt.link/',\n  // frontend: 'http://localhost:4003/',\n  // backend: 'http://localhost:4004/',\n}\n\nconst client = new ApolloClient({\n  uri: window.domains.backend+'graphql/v1/',\n  cache: new InMemoryCache(),\n  credentials: 'include',\n  defaultOptions: {\n    watchQuery: {\n      // fetchPolicy: 'cache-and-network',\n      fetchPolicy: 'no-cache',\n      errorPolicy: 'ignore',\n    },\n    query: {\n      fetchPolicy: 'no-cache',\n      errorPolicy: 'all',\n    },\n  },\n})\n\n// client\n//   .query({\n//     query: gql`\n//       query GetRates {\n//         rates(currency: \"USD\") {\n//           currency\n//         }\n//       }\n//     `\n//   })\n//   .then(result => console.info(result));\n\nfunction Start() {\n  // const [userLocales, setUserLocales] = useState(['de'])\n  const [userLocales, setUserLocales] = useState(navigator.languages)\n  const [currentLocale, setCurrentLocale] = useState(null)\n\n  useEffect(() => {\n    if (!!window.umami) {\n      let systemLocales = navigator.languages\n      if (!!systemLocales || Array.isArray(systemLocales)) {\n        for (let locale of systemLocales) {\n          locale = locale.toLowerCase() // Not really correct but the system locales sadly don't conform to the standard.\n\n          const language = locale.split('-')[0]\n          if (language !== locale) {\n            window.umami.trackEvent('L: ' + language) // Log just the language.\n          }\n          window.umami.trackEvent('L: ' + locale) // Log the full locale.\n        }\n      }\n    }\n  }, [])\n\n  const handleLanguageChange = useCallback(event => {\n    setUserLocales([event.target.dataset.locale])\n  }, [setUserLocales])\n\n  const handleCurrentLocalesChange = useCallback(currentLocales => {\n    setCurrentLocale(currentLocales.length > 0 ? currentLocales[0] : '')\n  }, [setCurrentLocale])\n\n\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)')\n\n  const theme = React.useMemo(\n    () =>\n      createTheme({\n        palette: {\n          mode: prefersDarkMode ? 'dark' : 'light',\n        },\n      }),\n    [prefersDarkMode],\n  )\n\n  return <>\n  <div\n    id=\"react-notification\"\n    key=\"react-notification\"\n    style={{zIndex: '10000'}}\n  ></div>\n\n  <AppLocalizationProvider\n    key=\"AppLocalizationProvider\"\n    userLocales={userLocales}\n    onLocaleChange={handleCurrentLocalesChange}\n  >\n    <ApolloProvider client={client}>\n      <ThemeProvider theme={theme}>\n        <SnackbarProvider\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'right',\n          }}\n          style={{ minWidth: 'unset' }}\n          classes={{\n            variantSuccess: `${snackbarClasses.snackbar} ${snackbarClasses.success}`,\n            variantError: `${snackbarClasses.snackbar} ${snackbarClasses.error}`,\n            variantWarning: `${snackbarClasses.snackbar} ${snackbarClasses.warning}`,\n            variantInfo: `${snackbarClasses.snackbar} ${snackbarClasses.info}`,\n          }}\n          domRoot={document.getElementById('react-notification')}\n        >\n          {/* <TranslatedInputProvider> */}\n            <Router>\n              <App locales={locales} currentLocale={currentLocale} onLanguageChange={handleLanguageChange} />\n            </Router>\n          {/* </TranslatedInputProvider> */}\n        </SnackbarProvider>\n      </ThemeProvider>\n    </ApolloProvider>\n  </AppLocalizationProvider>\n  </>\n}\n\nconst container = document.getElementById('root')\nconst root = createRoot(container)\nroot.render(<Start />)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.info))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"snackbar\":\"Snackbar_snackbar__119_w\",\"default\":\"Snackbar_default__31-eU\",\"success\":\"Snackbar_success__zvTW8\",\"error\":\"Snackbar_error__3XeD6\",\"warning\":\"Snackbar_warning__2CBXt\",\"info\":\"Snackbar_info__EuVSN\"};","import { useState, useEffect } from \"react\";\n\nconst useMediaQuery = (query) => {\n  const [matches, setMatches] = useState(false);\n\n  useEffect(() => {\n    const media = window.matchMedia(query);\n    if (media.matches !== matches) {\n      setMatches(media.matches);\n    }\n    const listener = () => setMatches(media.matches);\n    window.addEventListener(\"resize\", listener);\n    return () => window.removeEventListener(\"resize\", listener);\n  }, [matches, query]);\n\n  return matches;\n}\n\nexport default useMediaQuery;\n","import React, {\n  Suspense,\n  lazy,\n  useState,\n  useCallback,\n  createContext,\n  useContext,\n} from 'react'\n\nimport {\n  SwipeableDrawer,\n} from '@mui/material'\n\nimport { useMatch } from 'react-router-dom'\n\nimport useMediaQuery from '../hooks/useMediaQuery.js'\n\nimport classes from './Sidebar.module.css'\n\nconst LazySidebarContent = lazy(() => import('./SidebarContent.js'))\n\nconst SidebarContext = createContext({})\n\nfunction useSidebarContext() {\n  return useContext(SidebarContext)\n}\n\nfunction SidebarProvider({ children }) {\n  const [open, setOpen] = useState(false)\n\n  const matchesStartpage = useMatch('/')\n  const realOpen = matchesStartpage ? false : open\n\n  const toggleSidebar = useCallback(() => {\n    setOpen(oldOpen => !oldOpen)\n  }, [ setOpen ])\n\n  return (\n    <SidebarContext.Provider value={{\n      open: realOpen,\n      setOpen,\n      toggleSidebar,\n    }}>\n      {children}\n    </SidebarContext.Provider>\n  )\n}\n\nconst sidebarWidth = 320\n\nfunction Sidebar() {\n  const { open, toggleSidebar } = useSidebarContext()\n\n  const iOS = (typeof navigator !== 'undefined' && /iPad|iPhone|iPod/.test(navigator.userAgent))\n  const isDesktop = useMediaQuery('(min-width: 960px)')\n\n  if (open) {\n    return <SwipeableDrawer\n      variant={isDesktop ? 'permanent' : 'temporary'}\n      anchor=\"left\"\n      open={open}\n      onOpen={toggleSidebar}\n      onClose={toggleSidebar}\n      disableBackdropTransition={!iOS}\n      disableDiscovery={iOS}\n      sx={{\n        width: sidebarWidth,\n        flexShrink: 0,\n        [`& .MuiDrawer-paper`]: {\n          width: sidebarWidth,\n          boxSizing: 'border-box',\n          backgroundColor: 'var(--background-contrast)',\n          color: 'var(--on-background)',\n          border: 'none',\n        },\n      }}\n      PaperProps={{\n        sx: {\n          background: 'var(--background-contrast)',\n          color: 'var(--on-background)',\n        }\n      }}\n    >\n      <Suspense>\n        <SidebarContent />\n      </Suspense>\n    </SwipeableDrawer>\n  }\n\n  return null\n}\n\nfunction SidebarContent() {\n  return <Suspense>\n    <LazySidebarContent />\n  </Suspense>\n}\nfunction Main({ children }) {\n  const { open } = useSidebarContext()\n\n  return <main\n    className={`${classes.main} ${open ? classes.open : ''}`}\n    style={{\n      '--sidebarWidth': sidebarWidth+'px',\n    }}\n  >\n    {children}\n  </main>\n}\n\nexport {\n  SidebarContext,\n  useSidebarContext,\n  SidebarProvider,\n  SidebarContent,\n  Sidebar,\n  Main,\n}\n\n/*\n      <Drawer\n        variant={isDesktop ? 'permanent' : ''}\n        anchor=\"left\"\n        open={open}\n        sx={{\n          width: drawerWidth,\n          flexShrink: 0,\n          [`& .MuiDrawer-paper`]: {\n            width: drawerWidth,\n            boxSizing: 'border-box',\n            backgroundColor: 'var(--background)',\n            color: 'var(--on-background)',\n          },\n        }}\n        PaperProps={{\n          sx: {\n            background: 'var(--background-contrast)',\n            color: 'var(--on-background)',\n          }\n        }}\n      >\n        <Sidebar />\n      </Drawer>\n      */\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3hbGO\",\"isStartpage\":\"App_isStartpage__1Q6rs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Sidebar_main__1MCX5\",\"open\":\"Sidebar_open__gnBQb\"};"],"sourceRoot":""}
(this["webpackJsonpedit.volt.link"]=this["webpackJsonpedit.volt.link"]||[]).push([[5,17],{393:function(e,t,n){"use strict";var r=n(18),a=n(6),o=n(11),c=n.n(o),i=n(0),l=n(31),s=n(104),u=n(125),d=n(81);function b(e,t){for(var n in(e=JSON.parse(JSON.stringify(e))).hasOwnProperty(t)&&delete e[t],e)e.hasOwnProperty(n)&&"object"==typeof e[n]&&null!==e[n]&&b(e[n],t);return e}t.a=function(){var e=Object(l.c)().getString,t=Object(s.a)(),n=Object(d.b)(),o=n.enqueueSnackbar,j=n.closeSnackbar,p=Object(i.useCallback)((function(n){return new Promise((function(i){var l=null,s=Object(a.a)({},n);(s=b(s,"__typename")).hasOwnProperty("content")&&Array.isArray(s.content)&&(s.content=s.content.map((function(e){return{blockId:e.blockId}})));var d=new Promise((function(n){t.mutate({mutation:u.c,variables:{block:s}}).then(function(){var t=Object(r.a)(c.a.mark((function t(r){var a,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=r.data,n("got-data"),null!==l&&j(l),"string"===typeof a.error?"no_edit_permission"===a.error?o(e("path_editor_edit_permission_error"),{variant:"error",preventDuplicate:!0,autoHideDuration:2e3}):o(""+a.error,{variant:"error",preventDuplicate:!0,autoHideDuration:2e3}):(s=a.saveBlock,i(s),o(e("path_editor_status_saved"),{variant:"success",preventDuplicate:!1,autoHideDuration:2e3}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=Object(r.a)(c.a.mark((function t(r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.error(r),n("got-error"),null!==l&&j(l),o(e("path_editor_status_error_while_saving",{error:r.message}),{variant:"error",preventDuplicate:!0,autoHideDuration:2e3});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));Promise.race([new Promise((function(e){setTimeout((function(){e("show-loading")}),300)})),d]).then((function(t){"show-loading"===t&&(l=o(e("path_editor_status_started_saving"),{persist:!0,preventDuplicate:!0}))})).catch(console.error)}))}),[o,j,t,e]);return p}},394:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return _}));var r=n(319),a=n(305),o=n(316),c=n(442),i=n(443),l=n(444),s=n(445),u=n(446),d=n(447),b=n(448),j=n(379),p=n(449),O=n(106),h=n(124),f=n(31),x=n(1),v={button:Object(x.jsx)(c.a,{}),text:Object(x.jsx)(i.a,{}),code:Object(x.jsx)(l.a,{}),divider:Object(x.jsx)(s.a,{}),checkbox:Object(x.jsx)(u.a,{}),page:Object(x.jsx)(d.a,{}),person:Object(x.jsx)(b.a,{}),redirect:Object(x.jsx)(j.a,{}),image:Object(x.jsx)(p.a,{})},m=["page","redirect"];function g(e){var t=e.createBlock,n=e.types,c=e.close,i=void 0===c?null:c;return n&&Array.isArray(n)||(n=m),Object(x.jsx)(x.Fragment,{children:n.map((function(e){return Object(x.jsxs)(r.a,{className:"roundMenuItem",onClick:function(){return t({type:e,close:i})},children:[Object(x.jsx)(a.a,{children:v[e]}),Object(x.jsx)(o.a,{children:Object(x.jsx)(f.a,{id:"block_menu_type_label_"+e})})]},e)}))})}function _(e){var t=e.trigger,n=e.createBlock,r=e.types;return Object(O.a)().loggedIn?Object(x.jsx)(h.a,{trigger:t,children:function(e){var t=e.close;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{style:{marginTop:"8px"}}),Object(x.jsx)(g,{createBlock:n,types:r,close:t})]})}}):null}},395:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(5),o=n(0),c=n(319),i=n(124),l=n(396),s=n.n(l),u=n(398),d=n(1),b={_:"??",en:"English",de:"Deutsch",es:"Espa\xf1ol",pt:"Portugu\xeas",fr:"Fran\xe7ais",it:"Italiano",nl:"Nederlands",da:"Dansk",sv:"Svenska",nb:"Norsk bokm\xe5l",fi:"Suomi",se:"Davvis\xe1megiella (Northern Sami)",mt:"Malti",pl:"J\u0119zyk polski",ru:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",tr:"T\xfcrk\xe7e",ar:"\u0627\u064e\u0644\u0652\u0639\u064e\u0631\u064e\u0628\u0650\u064a\u064e\u0651\u0629",el:"\u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",ro:"limba rom\xe2n\u0103",sl:"sloven\u0161\u010dina"},j=Object.entries(b).map((function(e){var t=Object(a.a)(e,2);return{code:t[0],nativeName:t[1]}})),p=Object.keys(b);t.default=function(e){var t=e.defaultValue,n=e.onChange,l=e.options,O=void 0===l?p:l;null!==t&&void 0!==t&&""!==t&&!1!==b.hasOwnProperty(t)||(t=O.length>0?O[0]:"_");var h=Object(o.useState)(t),f=Object(a.a)(h,2),x=f[0],v=f[1],m=Object(o.useCallback)((function(e){v(e),"_"===e&&(e=null),n&&n(e)}),[v,n]);return Object(d.jsx)(i.a,{trigger:function(e,t){var n=t.isOpen;return Object(d.jsxs)("button",Object(r.a)(Object(r.a)({},e),{},{className:"default hasIcon",style:{margin:"0",flexShrink:"0"},children:[Object(d.jsx)("span",{style:{width:"100%",textAlign:"start"},children:"_"===x?Object(d.jsx)(s.a,{path:u.d,className:"icon"}):x.toUpperCase()}),Object(d.jsx)("span",{style:{marginLeft:"var(--basis)",lineHeight:"1",verticalAlign:"text-top"},children:n?"\u25b4":"\u25be"})]}))},paperProps:{sx:{maxHeight:"300px"}},children:function(e){var t=e.close;return Object(d.jsx)("div",{style:{padding:"var(--basis_x2) 0"},children:j.filter((function(e){var t=e.code;return O.includes(t)})).map((function(e){var n=e.code,r=e.nativeName;return Object(d.jsx)(c.a,{onClick:function(){m(n),t()},className:"roundMenuItem",selected:n===x,children:"_"===n?r:"".concat(n.toUpperCase()," \u2014 ").concat(r)},n)}))})}})}},397:function(e,t,n){"use strict";var r=n(0),a=n(104),o=n(125);t.a=function(){var e=Object(a.a)();return Object(r.useCallback)((function(t){var n=t._id,r=t.archive;return e.mutate({mutation:r?o.a:o.d,variables:{_id:n}})}),[e])}},399:function(e,t,n){"use strict";var r=n(22),a=n(18),o=n(5),c=n(11),i=n.n(c),l=n(0),s=n(14),u=n(54),d=n(305),b=n(319),j=n(304),p=n(316),O=n(481),h=n(442),f=n(443),x=n(449),v=n(445),m=n(447),g=n(379),_=n(450),y=n(451),k=n(452),C=n(453),w=n(454),I=n(455),N=n(456),F=n(457),S=n(458),B=n(459),P=n(460),E=n(381),R=n(461),T=n(31),A=n(42),D=n(397),M=n(106),L=n(124),V=n(6),G=n(483),W=n(486),H=n(440),z=n(306),U=n(1);function Z(e){var t=e.disabled,n=void 0!==t&&t,r=e.parentMenuIsOpen,a=void 0===r||r,c=e.label,i=void 0===c?"":c,s=e.triggerProps,u=void 0===s?{}:s,p=e.header,O=void 0===p?null:p,h=e.MenuListProps,f=void 0===h?{}:h,x=e.position,v=void 0===x?"right":x,m=e.onOpen,g=void 0===m?function(){}:m,_=e.children,y=Object(l.useRef)(null),k=Object(l.useState)(!1),C=Object(o.a)(k,2),w=C[0],I=C[1],N=w&&a,F=Object(l.useCallback)((function(){if(!0!==n){var e=!N;I(e),!0===e&&g()}}),[I,N,g,n]),S=Object(l.useCallback)((function(){I(!1)}),[I]);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(b.a,Object(V.a)(Object(V.a)({},u),{},{disabled:n,ref:y,onClick:F,className:"roundMenuItem",style:Object(V.a)({display:"flex",justifyContent:"space-between"},u.style),children:[Object(U.jsx)("div",{style:{display:"flex"},children:i}),Object(U.jsx)(H.a,{style:{marginRight:"-10px"}})]})),Object(U.jsx)(G.a,{style:{pointerEvents:"none"},anchorEl:y.current,anchorOrigin:{vertical:"top",horizontal:"right"===v?"right":"left"},transformOrigin:{vertical:"top",horizontal:"right"===v?"left":"right"},open:N,autoFocus:!1,disableAutoFocus:!0,disableEnforceFocus:!0,onClose:S,sx:{marginTop:"-8px"},MenuListProps:Object(V.a)(Object(V.a)({},f),{},{sx:Object(V.a)({maxWidth:380,maxHeight:"calc(100vh - 32px)",overflow:"auto",background:"var(--background-contrast)",color:"var(--on-background)"},f.sx)}),children:Object(U.jsxs)("div",{style:{pointerEvents:"auto"},children:[null!==O?Object(U.jsx)(W.a,{style:{whiteSpace:"nowrap",lineHeight:"1",margin:"0",padding:"4px 16px 12px",backgroundColor:"var(--background-contrast)",color:"var(--on-background)"},children:O}):null,_,Object(U.jsx)(j.a,{style:{opacity:.2}}),Object(U.jsxs)(b.a,{className:"roundMenuItem",style:{marginTop:"8px"},onClick:S,children:[Object(U.jsx)(d.a,{children:Object(U.jsx)(z.a,{})}),Object(U.jsx)(T.a,{id:"block_menu_close_menu"})]})]})})]})}var q=n(394),J=n(125),Y=n(153),K={button:Object(U.jsx)(h.a,{}),text:Object(U.jsx)(f.a,{}),image:Object(U.jsx)(x.a,{}),divider:Object(U.jsx)(v.a,{}),page:Object(U.jsx)(m.a,{}),redirect:Object(U.jsx)(g.a,{})},X=["button","text","image","divider","page","redirect"],Q={default:"var(--on-background)",yellow:"var(--yellow)",green:"var(--green)",red:"var(--red)",blue:"var(--blue)"},$=Object.keys(Q);function ee(e){if(Q.hasOwnProperty(e))return Q[e];var t=Object(A.getBlockColor)({properties:{color:e}}).color;return t||e}t.a=Object(T.d)((function(e){var t=e.block,n=void 0===t?{}:t,c=e.getString,h=e.trigger,f=e.onToogle,x=e.saveType,v=e.saveProperty,m=e.typeOptions,g=void 0===m?X:m,V=(e.onRemoveRow,e.addRowBefore,e.onArchivedToggle),G=void 0===V?null:V,W=e.onReloadContext,H=void 0===W?null:W,z=Object(M.a)(),Q=z.loggedIn,te=z.userroles;n.hasOwnProperty("properties")&&"object"===typeof n.properties&&null!==n.properties&&!Array.isArray(n.properties)||(n.properties={});var ne=n._id,re=void 0===ne?"":ne,ae=n.type,oe=void 0===ae?"":ae,ce=n.properties,ie=void 0===ce?{}:ce,le=n.computed,se=void 0===le?{}:le,ue=ie.active,de=void 0===ue||ue,be=ie.text_style,je=void 0===be?null:be,pe=ie.text_decorations,Oe=void 0===pe?[]:pe,he=ie.color,fe=void 0===he?null:he;Array.isArray(Oe)||(Oe=[]);var xe=(null===se?{}:se).roles,ve=void 0===xe?[]:xe,me=Q&&(te.includes("admin")||ve.includes("owner")||ve.includes("editor")),ge=Object(l.useState)(!0===ie.archived),_e=Object(o.a)(ge,2),ye=_e[0],ke=_e[1],Ce=Object(D.a)(),we=Object(Y.a)(),Ie=Object(s.g)(),Ne=Object(l.useCallback)(function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.type,e.prev=1,!("string"===typeof n&&n.length>0)){e.next=12;break}return e.next=5,we({mutation:J.c,variables:{block:{type:n}}});case 5:if(r=e.sent,null===(a=r.saveBlock)){e.next=12;break}return e.next=10,we({mutation:J.b,variables:{movingBlockId:a,newParentId:re,newIndex:0}});case 10:"function"===typeof H&&H(),Ie("/".concat(a,"/edit"));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),[we,re,H,Ie]),Fe=Object(l.useCallback)((function(){var e=!ye;Ce({_id:n._id,archive:e}).then((function(){ke(e),"function"===typeof G&&G(e),"function"===typeof H&&H()})).catch(console.error)}),[Ce,ke,ye,n,G,H]),Se=Object(l.useCallback)((function(){"function"===typeof v&&v("active",!de)}),[de,v]),Be=n.metadata||{},Pe=Object(A.getBlockColor)(n).color;Pe||(Pe="transparent");var Ee=Object(l.useCallback)((function(e){var t=Object(r.a)(new Set(Oe));Oe.includes(e)?t=t.filter((function(t){return t!==e})):t.push(e),v("text_decorations",t)}),[Oe,v]);return Object(U.jsx)(L.a,{trigger:h,onToogle:f,children:function(e){var t=e.open;return Object(U.jsxs)("div",{children:[Object(U.jsx)("div",{style:{height:"8px"}}),me&&"function"===typeof x&&Array.isArray(g)&&g.length>0&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Z,{disabled:"person"===oe,parentMenuIsOpen:t,label:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(d.a,{children:Object(U.jsx)(_.a,{})}),Object(U.jsx)(T.a,{id:"block_menu_choose_type_label"})]}),header:Object(U.jsx)(T.a,{id:"block_menu_choose_type_label"}),children:g.map((function(e){return Object(U.jsxs)(b.a,{selected:e===oe,onClick:function(){return x(e)},className:"roundMenuItem",children:[Object(U.jsx)(d.a,{children:K[e]}),c("block_menu_type_label_".concat(e),e)]},e)}))}),Object(U.jsx)(j.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}})]}),me&&"function"===typeof v&&Object(U.jsxs)(Z,{parentMenuIsOpen:t,label:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(d.a,{children:Object(U.jsx)(y.a,{style:{color:ee(fe)}})}),Object(U.jsx)(T.a,{id:"block_menu_choose_color_label"})]}),header:Object(U.jsx)(T.a,{id:"block_menu_choose_color_label"}),children:[$.map((function(e){return Object(U.jsxs)(b.a,{selected:"default"===e?null===fe:fe===e,onClick:function(){return v("color","default"===e?null:e)},className:"roundMenuItem",children:[Object(U.jsx)(d.a,{children:Object(U.jsx)(k.a,{style:{color:ee(e)}})}),e]},e)})),Object(U.jsxs)(b.a,{className:"roundMenuItem",selected:null!==fe&&!$.includes(fe),children:[Object(U.jsx)(d.a,{children:Object(U.jsx)(k.a,{style:{color:Pe}})}),Object(U.jsx)("input",{type:"text",placeholder:"#FFFFFF",defaultValue:fe,onBlur:function(e){return v("color",e.target.value)},style:{width:"160px",margin:"0 calc(-1 * var(--basis)) 0 0"}},$.includes(fe)?fe:"custom")]})]}),me&&"function"===typeof v&&"text"===oe&&Object(U.jsx)(Z,{parentMenuIsOpen:t,label:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(d.a,{children:Object(U.jsx)(C.a,{})}),Object(U.jsx)(T.a,{id:"block_menu_choose_text_style_label"})]}),header:Object(U.jsx)(T.a,{id:"block_menu_choose_text_style_label"}),children:["h2","h3","body"].map((function(e){return Object(U.jsx)(b.a,{selected:"body"===e?null===je:je===e,onClick:function(){return v("text_style","body"===e?null:e)},className:"roundMenuItem",children:c("block_menu_text_style_label_".concat(e),e)},e)}))}),me&&"function"===typeof v&&"text"===oe&&Object(U.jsx)(Z,{parentMenuIsOpen:t,label:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(d.a,{children:Object(U.jsx)(w.a,{})}),Object(U.jsx)(T.a,{id:"block_menu_choose_text_decorations_label"})]}),header:Object(U.jsx)(T.a,{id:"block_menu_choose_text_decorations_label"}),children:["checkbox"].map((function(e){var t=Oe.includes(e);return Object(U.jsxs)(b.a,{selected:t,onClick:function(){return Ee(e)},className:"roundMenuItem",children:[Object(U.jsx)(d.a,{children:t?Object(U.jsx)(I.a,{}):Object(U.jsx)(I.a,{style:{opacity:0}})}),c("block_menu_text_decoration_label_".concat(e),e)]},e)}))}),me&&"function"===typeof v&&Object(U.jsx)(j.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}}),me&&Object(U.jsx)(Z,{parentMenuIsOpen:t,label:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(d.a,{children:Object(U.jsx)(N.a,{})}),Object(U.jsx)(T.a,{id:"block_menu_create_child_block"})]}),children:Object(U.jsx)(q.a,{createBlock:Ne})}),me&&"function"===typeof v&&Object(U.jsxs)(b.a,{className:"roundMenuItem",onClick:Se,children:[Object(U.jsx)(d.a,{children:de?Object(U.jsx)(F.a,{}):Object(U.jsx)(S.a,{})}),Object(U.jsx)(p.a,{primary:Object(U.jsx)("span",{children:de?Object(U.jsx)(T.a,{id:"block_menu_hide"}):Object(U.jsx)(T.a,{id:"block_menu_show"})}),secondary:Object(U.jsx)("span",{style:{whiteSpace:"normal"},children:Object(U.jsx)(T.a,{id:"block_menu_hide_show_description"})})})]}),me&&"function"===typeof G&&Object(U.jsxs)(b.a,{className:"roundMenuItem",onClick:Fe,children:[Object(U.jsx)(d.a,{children:!0===ye?Object(U.jsx)(B.a,{}):Object(U.jsx)(P.a,{})}),!0===ye?Object(U.jsx)(T.a,{id:"block_menu_unarchive"}):Object(U.jsx)(T.a,{id:"block_menu_archive"})]}),me&&Object(U.jsx)(j.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}}),"string"===typeof re&&""!==re&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(b.a,{component:u.b,to:"/".concat(re,"/view"),className:"roundMenuItem",style:{marginTop:"8px"},children:[Object(U.jsx)(d.a,{children:Object(U.jsx)(E.a,{})}),Object(U.jsx)(T.a,{id:"view_block"})]}),me&&Object(U.jsxs)(b.a,{component:u.b,to:"/".concat(re,"/edit"),className:"roundMenuItem",children:[Object(U.jsx)(d.a,{children:Object(U.jsx)(R.a,{})}),Object(U.jsx)(T.a,{id:"edit_block"})]}),Object(U.jsx)(j.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}})]}),Object(U.jsx)(O.a,{sx:{paddingTop:"0",paddingBottom:"0"},children:Object(U.jsx)(p.a,{primary:Object(U.jsx)("span",{children:Object(U.jsx)(T.a,{id:"block_menu_info_modified"})}),secondary:Object(U.jsx)("span",{children:(Be.modified||"").replace(/[TZ]/g," ")})})}),Object(U.jsx)(O.a,{sx:{paddingTop:"0",paddingBottom:"0"},children:Object(U.jsx)(p.a,{primary:Object(U.jsx)("span",{children:Object(U.jsx)(T.a,{id:"block_menu_info_id"})}),secondary:Object(U.jsx)("span",{children:re})})})]})}})}))},404:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(410),a=n(31),o=n(1);function c(e){var t=e.errorName,n="Unknown Error",c="",i="";return"no_access"===t?(n="You don't have access to this page!",c=Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h2",{children:"If you are not logged in:"}),"You propably need to login with a Volt Europa account to view this page. Contact your local community lead if you are unsure about your Volt Europa account.",Object(o.jsx)("br",{}),Object(o.jsx)("h2",{children:"If you are logged in:"}),"You propably don't have access to this page."]}),i=Object(o.jsx)("a",{href:"".concat(window.domains.backend,"login?redirect_to=").concat(encodeURIComponent(window.location.toString())),children:Object(o.jsxs)("button",{className:"text hasIcon",style:{margin:"var(--basis_x4) 0 0 0"},children:[Object(o.jsx)(r.a,{className:"icon"}),Object(o.jsx)("span",{children:Object(o.jsx)(a.b,{id:"login"})})]})})):"not_found"===t&&(n="We could not find the requested URL\u2026",c="The URL you requested does currently not exist. Did you type the URL correctly?",i=Object(o.jsx)("a",{href:"".concat(window.domains.backend,"login?redirect_to=").concat(encodeURIComponent(window.location.toString())),children:Object(o.jsxs)("button",{className:"text hasIcon",style:{margin:"var(--basis_x4) 0 0 0"},children:[Object(o.jsx)(r.a,{className:"icon"}),Object(o.jsx)("span",{children:Object(o.jsx)(a.b,{id:"login"})})]})})),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{children:n}),Object(o.jsx)("div",{className:"type_p",children:c}),i,Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsxs)("p",{children:["Please contact ",Object(o.jsx)("a",{href:"mailto:thomas.rosen@volteuropa.org",children:"thomas.rosen@volteuropa.org"})," if you think this is a bug.",Object(o.jsx)("br",{}),"Go to ",Object(o.jsx)("a",{href:"https://volteuropa.org",children:"volteuropa.org"})," for information about the Pan-European Political Movement."]})]})}},409:function(e,t,n){e.exports={app:"Editor_app__3WzMm",spine_aligned:"Editor_spine_aligned__1h8Ra",contentWrapper:"Editor_contentWrapper__1cY6-",editor:"Editor_editor__2hX0g",loadingContent:"Editor_loadingContent__2fqdK",editor_form_row:"Editor_editor_form_row__17Pul"}},411:function(e,t,n){e.exports={app:"PageEditor_app__26Zo3",spine_aligned:"PageEditor_spine_aligned__2i6Wu",contentWrapper:"PageEditor_contentWrapper__WlUIr",editor:"PageEditor_editor__U1pPN",type_redirect:"PageEditor_type_redirect__2KPht",loadingContent:"PageEditor_loadingContent__1YK7g",editor_form_row:"PageEditor_editor_form_row__j4vjp"}},412:function(e,t,n){e.exports={dialog:"SharingEditor_dialog__22jfY",backdrop:"SharingEditor_backdrop__1Gra9",inputWrapper:"SharingEditor_inputWrapper__1UyBD",input:"SharingEditor_input__brkXK",actions:"SharingEditor_actions__2zz6x"}},414:function(e,t,n){e.exports={rebuild_textarea:"HtmlInput_rebuild_textarea__ZfRzZ",show_placeholder:"HtmlInput_show_placeholder__hM8g2"}},415:function(e,t,n){e.exports={dialog:"TranslationEditor_dialog__YL0sv",backdrop:"TranslationEditor_backdrop__hfIzh",inputWrapper:"TranslationEditor_inputWrapper__3aVMH",input:"TranslationEditor_input__3U2bK",actions:"TranslationEditor_actions__3dTaz"}},416:function(e,t,n){e.exports={input_with_local:"InputWithLocal_input_with_local__3qqYa"}},417:function(e,t,n){e.exports={row:"Repeater_row__1ODoF",middleActions:"Repeater_middleActions__3nRoT",trigger:"Repeater_trigger__1VtG5",content:"Repeater_content__110R9",form:"Repeater_form__2N6kw",item:"Repeater_item__2OI78",inlineRowButton:"Repeater_inlineRowButton__uqk8Y",dragHandleButton:"Repeater_dragHandleButton__2eLww",addRowButton:"Repeater_addRowButton__3huSP"}},420:function(e,t,n){e.exports={error:"FancyInput_error__2DFWE"}},421:function(e,t,n){e.exports={dialog:"PermissionsEditor_dialog__2rpyk",backdrop:"PermissionsEditor_backdrop__1dRPN",inputWrapper:"PermissionsEditor_inputWrapper__4DGsr",input:"PermissionsEditor_input__1HyOC",actions:"PermissionsEditor_actions__k4oBn",permissionRow:"PermissionsEditor_permissionRow__2HaWO",menuButton:"PermissionsEditor_menuButton__2jIMI",ownerInfo:"PermissionsEditor_ownerInfo__EEKXP"}},422:function(e,t,n){e.exports={main_headline:"PropertiesEditor_main_headline__3wy7R",propertiesFrame:"PropertiesEditor_propertiesFrame__1uBEz",properties_row:"PropertiesEditor_properties_row__2tX7M"}},423:function(e,t,n){e.exports={coverphoto:"CoverphotoPicker_coverphoto__1mWB4",root:"CoverphotoPicker_root__3T8t9",coverphotoIsNotSet:"CoverphotoPicker_coverphotoIsNotSet__1O3-S",button_wrapper:"CoverphotoPicker_button_wrapper__2oEjh",coverphotoIsSet:"CoverphotoPicker_coverphotoIsSet__2o24A",iconIsSet:"CoverphotoPicker_iconIsSet__D_4uA",changeCoverphotoButton:"CoverphotoPicker_changeCoverphotoButton__2GnZD"}},425:function(e,t,n){e.exports={root:"IconPicker_root__2okyv",iconIsSet:"IconPicker_iconIsSet__SnQwA",coverphotoIsSet:"IconPicker_coverphotoIsSet__3m9Dw",icon:"IconPicker_icon__JWgfX",icon_type_url:"IconPicker_icon_type_url__3YBBH",iconWrapper:"IconPicker_iconWrapper__1zo6g",sizing_pixel:"IconPicker_sizing_pixel__3TeE0",iconIsNotSet:"IconPicker_iconIsNotSet__1T0Zd",emojiWrapper:"IconPicker_emojiWrapper__2b_Qv",changeIconButton:"IconPicker_changeIconButton__TxsdG"}},426:function(e,t,n){e.exports={block:"InlineEditorBlock_block__14-zd",block_input:"InlineEditorBlock_block_input__2I1iu",form_deactivated:"InlineEditorBlock_form_deactivated__2oktp",form_active:"InlineEditorBlock_form_active__hi5HC",reorderHandle:"InlineEditorBlock_reorderHandle__2_s23"}},427:function(e,t,n){e.exports={row:"ContentEditor_row__JonRI",form:"ContentEditor_form__wtoB9",item:"ContentEditor_item__3U0XE",inlineRowButton:"ContentEditor_inlineRowButton__2pw6r",dragHandleButton:"ContentEditor_dragHandleButton__1Y_RP"}},480:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n(0),o=n.n(a),c=n(14),i=n(409),l=n.n(i),s=n(177),u=n(18),d=n(11),b=n.n(d),j=n(104),p=n(48);var O=n(129),h=n(404),f=n(13),x=n(6),v=n(393),m=n(110),g=n(471),_=n(472),y=n(473),k=n(396),C=n.n(k),w=n(398),I=n(411),N=n.n(I),F=n(31),S=n(399),B=n(388),P=n(462),E=n(463),R=n(464),T=n(412),A=n.n(T),D=n(20),M=n(17),L=n(413),V=n(414),G=n.n(V),W=n(1),H=["type","defaultValue","children","className","onChange","onBlur","onError","linebreaks","style","placeholder","onInputRef","onGoToPrevInput","onGoToNextInput","onSplitText","onMergeToPrevInput","onMergeFromNextInput"];function z(e,t){if(e.normalize(),!window.getSelection)return 0;var n=window.getSelection(),r=n.rangeCount>0?n.getRangeAt(0):null;if(!r)return 0;var a=r.cloneRange();a.selectNodeContents(e),a.setEnd(r.endContainer,r.endOffset);var o=a.cloneContents(),c=0;return o.childNodes.length>0&&("first"===t?c=3===o.childNodes[0].nodeType?o.childNodes[0].length:0:"last"===t&&(c=3===o.childNodes[o.childNodes.length-1].nodeType?o.childNodes[o.childNodes.length-1].length:o.childNodes.length>1&&3===o.childNodes[o.childNodes.length-2].nodeType?o.childNodes[o.childNodes.length-2].length:0)),a.detach(),c}function U(e){var t=getComputedStyle(e),n=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),r=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),a=e.offsetHeight-n-r,o=Object(L.a)(e),c=Object(L.b)(e);c.top=c.top-o.top,c.left=c.left-o.left;var i=c.top<c.height,l=a-c.top<c.height,s=function(e){if(e.normalize(),!window.getSelection)return 0;var t=window.getSelection(),n=t.rangeCount>0?t.getRangeAt(0):null;if(!n)return 0;var r=n.cloneRange();r.selectNodeContents(e),r.setEnd(n.endContainer,n.endOffset);var a,o=r.cloneContents(),c=0,i=Object(M.a)(o.childNodes);try{for(i.s();!(a=i.n()).done;){var l=a.value;3===l.nodeType?c+=l.textContent.length:1===l.nodeType&&"BR"===l.nodeName&&(c+=1)}}catch(s){i.e(s)}finally{i.f()}return r.detach(),c}(e),u=e.innerText.length||0;u<0&&(u=0);var d=u-s;return{inFirstLine:i,inLastLine:l,left:c.left,top:c.top,height:c.height,positionFromLineStart:z(e,i?"first":"last"),positionFromStart:s,positionFromEnd:d}}var Z=function(e){var t=e.type,n=void 0===t?"text":t,o=e.defaultValue,c=void 0===o?"":o,i=(e.children,e.className),l=e.onChange,s=e.onBlur,u=(e.onError,e.linebreaks),d=e.style,b=e.placeholder,j=void 0===b?"":b,p=e.onInputRef,O=e.onGoToPrevInput,h=e.onGoToNextInput,f=e.onSplitText,x=e.onMergeToPrevInput,v=e.onMergeFromNextInput,m=(Object(D.a)(e,H),Object(a.useRef)(null)),g=Object(a.useRef)(""),_=g.current,y=Object(a.useState)({__html:""}),k=Object(r.a)(y,2),C=k[0],w=k[1],I=Object(a.useCallback)((function(e){var t=function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}(e);if(g.current=e,C.__html!==t)return w({__html:t})}),[C,w]);Object(a.useEffect)((function(){_!==c&&I(c)}),[_,c,I]);var N=Object(a.useCallback)((function(e){var t=e.target.innerHTML||"";t=(t=!1===u?t.replace(/<\/? ?br ?\/?>/g," "):t.replace(/<\/? ?br ?\/?>/g,"\n")).trim(),g.current=t,l&&l(t)}),[l,u]),F=Object(a.useCallback)((function(){s&&s(_)}),[s,_]),S=Object(a.useCallback)((function(e){if("Enter"===e.key&&!0===e.shiftKey)!1!==u&&document.execCommand("insertLineBreak"),e.preventDefault();else if("Tab"===e.key)document.execCommand("insertText",!1,"\t"),e.preventDefault();else if("ArrowUp"===e.key){if(O){var t=U(m.current);t.inFirstLine&&(O({caret:t}),e.preventDefault())}}else if("ArrowLeft"===e.key){if(O){var r=U(m.current);r.inFirstLine&&r.positionFromStart<=0&&(r.positionFromLineStart=-1,O({caret:r}),e.preventDefault())}}else if("ArrowDown"===e.key){if(h){var a=U(m.current);a.inLastLine&&(h({caret:a}),e.preventDefault())}}else if("ArrowRight"===e.key){if(h){var o=U(m.current);o.inLastLine&&0===o.positionFromEnd&&(o.positionFromLineStart=0,h({caret:o}),e.preventDefault())}}else if("Enter"===e.key){if("code"===n)!1!==u&&document.execCommand("insertLineBreak"),e.preventDefault();else if(f){var c=U(m.current),i=m.current.innerText,l=i.slice(0,c.positionFromStart),s=i.slice(c.positionFromStart);f({texts:[l,s]}),e.preventDefault()}}else if("Backspace"===e.key){if(x){var d=U(m.current);0===d.positionFromStart&&d.inFirstLine&&(x({caret:d,text:m.current.innerText}),e.preventDefault())}}else if("Delete"===e.key&&v){var b=U(m.current);0===b.positionFromEnd&&b.inLastLine&&(v({caret:b,text:m.current.innerText}),e.preventDefault())}}),[m,u,O,h,f,x,v,n]);Object(a.useEffect)((function(){p&&p(m)}),[p,m]);var B=Object(a.useCallback)((function(e){e.preventDefault();var t=(e.originalEvent||e).clipboardData.getData("text/plain");!1===u&&(t=t.replace(/\n/g," ")),document.execCommand("insertText",!1,t)}),[u]);return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("div",{ref:m,onKeyDown:S,onInput:N,onBlur:F,onPaste:B,className:"".concat(G.a.rebuild_textarea," ").concat(0===_.length?G.a.show_placeholder:""," ").concat(i),contentEditable:!0,dangerouslySetInnerHTML:C,style:d,placeholder:j})})};function q(e){navigator.clipboard?navigator.clipboard.writeText(e).then((function(){console.info("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)})):function(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var n=document.execCommand("copy")?"successful":"unsuccessful";console.info("Fallback: Copying text command was "+n)}catch(r){console.error("Fallback: Oops, unable to copy",r)}document.body.removeChild(t)}(e)}var J=function(e){var t=e.defaultBlock,n=void 0===t?{}:t,o=e.open,c=void 0!==o&&o,i=e.onChange,l=e.onClose,s=Object(a.useState)(""),u=Object(r.a)(s,2),d=u[0],b=u[1];Object(a.useEffect)((function(){var e=(n.properties||{}).slug||"";b(e)}),[n,b]);var j=Object(a.useCallback)((function(e){var t=Object(x.a)({},n.properties||{});""===e?t.hasOwnProperty("slug")&&delete t.slug:t.slug=e,b(e),i(t)}),[n,i,b]);return c?Object(W.jsx)(B.a,{open:c,onClose:l,hideBackdrop:!0,children:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{className:A.a.backdrop,onClick:l}),Object(W.jsxs)("div",{className:A.a.dialog,children:[Object(W.jsx)("h1",{style:{margin:"0 0 var(--basis_x4) 0"},children:"Share the link"}),Object(W.jsxs)("div",{className:A.a.inputWrapper,children:[Object(W.jsx)("span",{style:{paddingRight:"var(--basis)"},children:"volt.link/"}),Object(W.jsx)(Z,{defaultValue:d,onBlur:j,linebreak:!1,className:A.a.input,style:{margin:"0"}})]}),Object(W.jsx)("hr",{style:{opacity:.2}}),Object(W.jsxs)("div",{className:A.a.actions,children:[""!==d?Object(W.jsxs)("div",{children:[Object(W.jsxs)("button",{className:"text hasIcon",onClick:function(){var e=document.createElement("a");e.href="https://qrcode.volt.link/?c=volt.link/".concat(d),e.target="_blank",e.rel="noreferrer",e.click()},style:{marginInlineStart:"0"},children:[Object(W.jsx)(P.a,{className:"icon"}),Object(W.jsx)("span",{className:"hideOnSmallScreen",children:Object(W.jsx)(F.a,{id:"sharing_qrcode"})})]}),Object(W.jsxs)("button",{className:"text hasIcon",onClick:function(){var e=document.createElement("a");e.href="https://umami.qiekub.org/share/s0ZHBZbb/volt.link?url=%2F".concat(d),e.target="_blank",e.rel="noreferrer",e.click()},children:[Object(W.jsx)(E.a,{className:"icon"}),Object(W.jsx)("span",{className:"hideOnSmallScreen",children:Object(W.jsx)(F.a,{id:"sharing_statistics"})})]}),Object(W.jsxs)("button",{className:"text hasIcon",onClick:function(){q("https://volt.link/".concat(d)),alert("Copied to clipboard \ud83d\udc4d")},children:[Object(W.jsx)(R.a,{className:"icon"}),Object(W.jsx)("span",{className:"hideOnSmallScreen",children:Object(W.jsx)(F.a,{id:"sharing_copy_url"})})]})]}):Object(W.jsx)("div",{}),Object(W.jsx)("button",{onClick:l,className:"green",style:{marginInlineEnd:"0"},children:Object(W.jsx)(F.a,{id:"dialog_done"})})]})]})]})}):null},Y=n(22),K=n(415),X=n.n(K),Q=n(416),$=n.n(Q),ee=n(395),te=["reorderHandle","actionButton","locale","defaultValue","children","style","onChange","onBlur","className","dataset"];var ne=function(e){e.reorderHandle,e.actionButton;var t=e.locale,n=e.defaultValue,o=e.children,c=e.style,i=e.onChange,l=e.onBlur,s=e.className,u=e.dataset,d=void 0===u?{}:u,b=(Object(D.a)(e,te),Object(a.useState)(t)),j=Object(r.a)(b,2),p=j[0],O=j[1],h=Object(a.useState)(n),f=Object(r.a)(h,2),x=f[0],v=f[1],m=Object(a.useCallback)((function(){l&&l({value:{locale:p,text:x},dataset:d})}),[l,p,x,d]),g=Object(a.useCallback)((function(e){O(e);var t={value:{locale:e,text:x},dataset:d};i&&i(t),l&&l(t)}),[O,i,x,d,l]),_=Object(a.useCallback)((function(e){var t=e;e&&e.target&&e.target.value&&(t=e.target.value),v(t),i&&i({value:{locale:p,text:t},dataset:d})}),[v,i,p,d]);return Object(W.jsxs)("div",{className:$.a.input_with_local+" "+s,style:c,children:[Object(W.jsx)(ee.default,{onChange:g,defaultValue:t}),o?o({onChange:_,onBlur:m,defaultValue:n,style:{flexGrow:"1"}}):null]})},re=n(82),ae=n(407),oe=n(482),ce=n(417),ie=n.n(ce),le=n(406),se=n.n(le);function ue(e){var t=e.subDefaultValue,n=e.index,r=e.render,o=e.handleRowChange,c=e.isReorderable,i=e.handleAddRow,l=e.handleRemoveRow,s=e.showReorderControls,u=e.reorderLabel,d=e.showActionButton,b=e.hasOnlyOneRow,j=e.addRowByIndex;return Object(W.jsx)(ae.b,{draggableId:t.tmp_id,index:n,isDragDisabled:!0!==c,disableInteractiveElementBlocking:!0,shouldRespectForcePress:!0,children:function(e){return Object(a.createElement)("div",Object(x.a)(Object(x.a)({ref:e.innerRef},e.draggableProps),{},{key:t.tmp_id,className:ie.a.row}),Object(W.jsxs)("div",{className:ie.a.form,children:[!0===c&&!0===s?Object(W.jsx)("button",Object(x.a)(Object(x.a)({"aria-label":u,className:"text ".concat(ie.a.inlineRowButton," ").concat(ie.a.dragHandleButton)},e.dragHandleProps),{},{children:Object(W.jsx)(se.a,{})})):null,r({key:t.tmp_id,defaultValue:t,className:ie.a.item,dataset:{"data-index":n,"data-id":t.tmp_id},onChange:o,onRemoveRow:function(){return l(n)},addRowBefore:function(e){return j(n,0,e)},addRowAfter:function(e){return j(n,1,e)},reorderHandle:Object(W.jsx)("button",Object(x.a)(Object(x.a)({"aria-label":u,className:"text ".concat(ie.a.inlineRowButton," ").concat(ie.a.dragHandleButton)},e.dragHandleProps),{},{children:Object(W.jsx)(se.a,{})})),actionButton:b?Object(W.jsx)("button",{className:"green ".concat(ie.a.inlineRowButton),onClick:i,children:"+"}):Object(W.jsx)("button",{className:"red ".concat(ie.a.inlineRowButton),"data-index":n,onClick:l,children:"\u2013"})}),!0===d?b?Object(W.jsx)("button",{className:"green ".concat(ie.a.inlineRowButton),onClick:i,children:"+"}):Object(W.jsx)("button",{className:"red ".concat(ie.a.inlineRowButton),"data-index":n,onClick:l,children:"\u2013"}):null]}))}},t.tmp_id)}function de(e){var t=e;return"object"===typeof e&&(e.target&&(e=e.target),e.dataset&&e.dataset.index&&(t=parseInt(e.dataset.index),isNaN(t)&&(t=null))),t}var be=function(e){var t=e.defaultValue,n=e.addDefaultValue,o=e.addButtonText,c=e.hideAddButton,i=void 0!==c&&c,l=e.reorderLabel,s=void 0===l?"Reorder":l,u=e.render,d=e.style,b=e.onChange,j=e.prependNewItems,p=e.showReorderControls,O=void 0!==p&&p,h=e.showActionButton,f=void 0===h||h,v=e.isReorderable,m=void 0!==v&&v;o||(o="Add Row");var g=Object(a.useState)([]),_=Object(r.a)(g,2),y=_[0],k=_[1],C=Object(a.useCallback)((function(){var e={};if("function"===typeof n){var t=n();"object"===typeof t&&null!==t&&("string"===typeof(e=t).tmp_id&&""!==e.tmp_id||(e.tmp_id=Object(oe.a)()))}return e}),[n]);Object(a.useEffect)((function(){var e=t;Array.isArray(t)&&0!==t.length||(e=[C()]),e=e.map((function(e){return e.tmp_id?e:Object(x.a)(Object(x.a)({},e),{},{tmp_id:Object(oe.a)()})})),k(e)}),[t,C,k]);var w=Object(a.useCallback)((function(e){var t=de(e),n=Object(Y.a)(y);n.splice(t,1);var r=b(n);Array.isArray(r)&&(n=r),k(n)}),[y,k,b]),I=Object(a.useCallback)((function(e){var t=e.dataset.index||e.dataset["data-index"],n=e.dataset.id||e.dataset["data-id"],r=e.value,a=Object(Y.a)(y);"object"!==typeof r||null===r||Array.isArray(r)?a[t]={tmp_id:n,value:r}:"object"===typeof r&&(a[t]=Object(x.a)({tmp_id:n},r)),k(a),b(a)}),[y,k,b]),N=Object(a.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;n="object"===typeof n?Object(x.a)(Object(x.a)({},C()),n):n||C();var r=null;null!==e&&e>=0&&(r=Object(Y.a)(y)).splice(e+t,0,n),k(r),b(r)}),[y,C,k,b]),F=Object(a.useCallback)((function(e){var t=C(),n=de(e),r=null;null!==n&&n>=0?(r=Object(Y.a)(y)).splice(n,0,t):r=!0===j?[t].concat(Object(Y.a)(y)):[].concat(Object(Y.a)(y),[t]),k(r),b(r)}),[y,C,k,b,j]),S=1===y.length,B=Object(W.jsx)("div",{style:{textAlign:"right"},children:Object(W.jsx)("button",{className:"green ".concat(ie.a.addRowButton),onClick:F,children:o})});return Object(W.jsxs)("div",{style:d,children:[!1===i&&!S&&j?Object(W.jsx)("div",{style:{marginBottom:"var(--basis)"},children:B}):null,Object(W.jsx)(ae.a,{onDragEnd:function(e){if(e.destination&&e.destination.index!==e.source.index){var t=function(e,t,n){var a=Array.from(e),o=a.splice(t,1),c=Object(r.a)(o,1)[0];return a.splice(n,0,c),a}(y,e.source.index,e.destination.index);k(t),b(t)}},children:Object(W.jsx)(ae.c,{droppableId:"list",isDropDisabled:!0!==m,children:function(e){return Object(W.jsxs)("div",Object(x.a)(Object(x.a)({ref:e.innerRef},e.droppableProps),{},{children:[y.filter((function(e){return e.tmp_id})).map((function(e,t){return Object(W.jsx)(ue,{subDefaultValue:e,index:t,render:u,handleRowChange:I,isReorderable:m,handleAddRow:F,handleRemoveRow:w,showReorderControls:O,reorderLabel:s,showActionButton:f,hasOnlyOneRow:S,addRowByIndex:N},e.tmp_id)})),e.placeholder]}))}})}),!1!==i||S||j?null:B]})},je=n(150),pe=["defaultValue"],Oe=["onChange"];function he(e){var t=e.onSaveProperty,n=e.block,r=e.isFirst,o=function(){return{locale:null,text:""}},c=n.properties.translations||[];0===c.length&&(c=[o]);var i=Object(a.useCallback)((function(e){e=e.map((function(e){return{locale:e.locale||null,text:e.text||""}})),t("translations",e)}),[t]),l=Object(a.useCallback)((function(e){t("locale",e)}),[t]),s=Object(x.a)({},n);return!0===r&&"page"===s.type&&(s.type="text",s.properties.text_style="h1"),Object(W.jsxs)("div",{style:{width:"100%"},children:[Object(W.jsxs)("div",{style:{display:"flex",alignItems:"flex-end",marginBottom:"var(--basis)",gap:"var(--basis)"},children:[Object(W.jsx)(ee.default,{onChange:l,defaultValue:n.properties.locale||null}),Object(W.jsx)(re.a,{block:s,style:{margin:"0",minHeight:"30px"},actions:{click:!1}})]}),Object(W.jsx)(be,{onChange:i,defaultValue:c,addDefaultValue:o,addButtonText:"+",render:function(e){var t=e.defaultValue,n=Object(D.a)(e,pe),r=n.onChange,a=Object(D.a)(n,Oe),o=t.locale,c=t.text;return Object(W.jsx)(ne,Object(x.a)(Object(x.a)({onBlur:r,locale:o,defaultValue:c,style:{marginBottom:"var(--basis)"}},a),{},{children:function(e){return Object(W.jsx)(Z,Object(x.a)(Object(x.a)({},e),{},{style:Object(x.a)(Object(x.a)({},e.style),{},{margin:"0"})}))}}))}})]})}var fe=function(e){var t=e.defaultBlock,n=void 0===t?{}:t,o=e.open,c=void 0!==o&&o,i=e.onSaveProperty,l=e.onClose,s=Object(a.useState)([]),d=Object(r.a)(s,2),j=d[0],p=d[1],O=Object(je.a)();Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(b.a.mark((function e(){var t,r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(Y.a)(n.content.filter((function(e){return e.hasOwnProperty("blockId")&&e.hasOwnProperty("block")})).map((function(e){return e.blockId||e.block._id}))),r=[],!(t.length>0)){e.next=6;break}return e.next=5,O({ids:t});case 5:r=e.sent;case 6:return a=t.map((function(e){var t=r.find((function(t){return t._id===e}));return t&&"divider"!==t.type&&t.properties.text?t:null})).filter(Boolean),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}0===j.length?function(){return e.apply(this,arguments)}().then((function(e){var t=[n].concat(Object(Y.a)(e));p(t)})):JSON.stringify(n)!==JSON.stringify(j[0])&&p([n].concat(Object(Y.a)(j.slice(1))))}),[n,O,p,j]);var h=Object(v.a)(),m=Object(a.useCallback)((function(e,t,n){var r=Object(x.a)(Object(x.a)({},e),{},{properties:Object(x.a)(Object(x.a)({},e.properties),{},Object(f.a)({},t,n))});h(r).then((function(e){var t=r._id,n=j.findIndex((function(e){return e._id===t})),a=[].concat(Object(Y.a)(j.slice(0,n)),[r],Object(Y.a)(j.slice(n+1)));p(a)}))}),[h,j,p]);return c?Object(W.jsx)(B.a,{open:c,onClose:l,hideBackdrop:!0,style:{zIndex:"1000"},children:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{className:X.a.backdrop,onClick:l}),Object(W.jsxs)("div",{className:X.a.dialog,children:[Object(W.jsxs)("div",{className:X.a.actions,children:[Object(W.jsx)("h1",{style:{margin:"0 0 var(--basis_x4) 0"},children:Object(W.jsx)(F.a,{id:"translate_dialog_title"})}),Object(W.jsx)("button",{onClick:l,className:"green",style:{marginInlineEnd:"0"},children:Object(W.jsx)(F.a,{id:"dialog_done"})})]}),Object(W.jsx)("p",{children:Object(W.jsx)(F.a,{id:"translate_dialog_description"})}),Object(W.jsx)("hr",{style:{opacity:.2}}),j.flatMap((function(e,t){return[Object(W.jsx)("hr",{style:{opacity:0}},"hr-"+t),Object(W.jsx)("div",{style:{margin:"var(--basis_x4) 0"},children:Object(W.jsx)(he,{onSaveProperty:e._id===n._id?i:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m.apply(void 0,[e].concat(n))},block:e,isFirst:0===t})},"div-"+t)]})),Object(W.jsx)("hr",{style:{opacity:.2}}),Object(W.jsxs)("div",{className:X.a.actions,children:[Object(W.jsx)("div",{}),Object(W.jsx)("button",{onClick:l,className:"green",style:{marginInlineEnd:"0"},children:Object(W.jsx)(F.a,{id:"dialog_done"})})]})]})]})}):null},xe=n(483),ve=n(319),me=n(305),ge=n(316),_e=n(304),ye=n(458),ke=n(465),Ce=n(466),we=n(467),Ie=n(306),Ne=n(468),Fe=n(106),Se=n(420),Be=n.n(Se),Pe=["children","className","style"];var Ee=function(e){var t=e.children,n=e.className,o=e.style,c=(Object(D.a)(e,Pe),Object(a.useState)("")),i=Object(r.a)(c,2),l=i[0],s=i[1];return Object(W.jsxs)("div",{className:n,style:o,children:[t({setError:s}),l?Object(W.jsx)("div",{className:Be.a.error,children:l.split("\n").map((function(e){return Object(W.jsx)("p",{children:e},e)}))}):null]})},Re=["multiple","onChange","onError"],Te=/^(?:(?:(?:(?![\t-\r "\(\),\.:-<>@\[-\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])+(?:\.(?:(?![\t-\r "\(\),\.:-<>@\[-\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])+)*)|(?:"(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+"))@(?:(?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|(?:(?:[\x2D0-9A-Za-z\u017F\u212A]+\.)+[A-Za-z\u017F\u212A]{2,})\.?)$/gi,Ae=/((?:(?:(?:(?![\t-\r "\(\),\.:-<>@\[-\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])+(?:\.(?:(?![\t-\r "\(\),\.:-<>@\[-\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])+)*)|(?:"(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+"))@(?:(?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|(?:(?:[\x2D0-9A-Za-z\u017F\u212A]+\.)+[A-Za-z\u017F\u212A]{2,})\.?))/gi;var De=function(e){var t=e.multiple,n=void 0!==t&&t,r=e.onChange,o=e.onError,c=Object(D.a)(e,Re),i=Object(a.useCallback)((function(e){if(r||o){var t=e.target.value||"",a=!1,c="";if(""!==t)if(!0===n){var i=t.match(Ae);i?(t=i,a=!0):c="Invalid email(s) format"}else t.match(Te)?a=!0:c="invalid_email";r&&r(a?t:!0===n?[]:""),o&&o(c)}}),[n,r,o]);return Object(W.jsx)("input",Object(x.a)({type:"email",onChange:i},c))},Me=n(421),Le=n.n(Me);function Ve(e){var t=e.role;return Object(W.jsx)(F.a,{id:"role_"+t})}function Ge(e){var t=e.role,n=e.trigger,a=e.changeRole,c=e.removePermission,i=o.a.useState(null),l=Object(r.a)(i,2),s=l[0],u=l[1],d=Boolean(s),b=function(){u(null)};return Object(W.jsxs)(W.Fragment,{children:[n({onClick:function(e){u(e.currentTarget)}}),Object(W.jsxs)(xe.a,{anchorEl:s,open:d,onClose:b,MenuListProps:{style:{maxWidth:"100%",background:"var(--background-contrast)",color:"var(--on-background)"}},children:[Object(W.jsxs)(ve.a,{disabled:"viewer"===t,onClick:function(){return a("viewer")},className:"roundMenuItem",children:[Object(W.jsx)(me.a,{children:Object(W.jsx)(ye.a,{})}),Object(W.jsx)(ge.a,{children:Object(W.jsx)(Ve,{role:"viewer"})})]}),Object(W.jsxs)(ve.a,{disabled:"editor"===t,onClick:function(){return a("editor")},className:"roundMenuItem",children:[Object(W.jsx)(me.a,{children:Object(W.jsx)(ke.a,{})}),Object(W.jsx)(ge.a,{children:Object(W.jsx)(Ve,{role:"editor"})})]}),Object(W.jsxs)(ve.a,{disabled:"no_access"===t,onClick:function(){return a("no_access")},className:"roundMenuItem",children:[Object(W.jsx)(me.a,{children:Object(W.jsx)(Ce.a,{})}),Object(W.jsx)(ge.a,{children:Object(W.jsx)(Ve,{role:"no_access"})})]}),"function"===typeof c?Object(W.jsxs)("div",{children:[Object(W.jsx)(_e.a,{style:{opacity:.2}}),Object(W.jsxs)(ve.a,{onClick:c,className:"roundMenuItem",children:[Object(W.jsx)(me.a,{children:Object(W.jsx)(we.a,{})}),Object(W.jsx)(ge.a,{children:"Remove"})]})]}):null,Object(W.jsx)(_e.a,{style:{opacity:.2}}),Object(W.jsxs)(ve.a,{onClick:b,className:"roundMenuItem",children:[Object(W.jsx)(me.a,{children:Object(W.jsx)(Ie.a,{})}),Object(W.jsx)(ge.a,{children:"Close"})]})]})]})}function We(e){var t=e.filter((function(e){return"owner"===e.role})).sort((function(e,t){return e.email.localeCompare(t.email)})),n=e.filter((function(e){return"@volteuropa.org"===e.email||"@public"===e.email})).sort((function(e,t){return e.email.localeCompare(t.email)})),r=e.filter((function(e){return"owner"!==e.role&&"@volteuropa.org"!==e.email&&"@public"!==e.email})).sort((function(e,t){return e.email.localeCompare(t.email)}));return[].concat(Object(Y.a)(t),Object(Y.a)(n),Object(Y.a)(r))}var He=function(e){var t=e.defaultPermissions,n=e.open,o=void 0!==n&&n,c=e.onChange,i=e.onClose,l=Object(F.c)().getString,s=Object(Fe.a)(),u="";s&&s.user&&s.user.email&&(u=s.user.email);var d=Object(a.useState)(0),b=Object(r.a)(d,2),j=b[0],p=b[1],O=Object(a.useState)([]),h=Object(r.a)(O,2),f=h[0],v=h[1],m=Object(a.useState)([]),g=Object(r.a)(m,2),_=g[0],y=g[1],k=Object(a.useState)("editor"),C=Object(r.a)(k,2),w=C[0],I=C[1],N=Object(a.useCallback)((function(e){var t;(t=e||[],e=Object(Y.a)(t).map((function(e){var t=Object(x.a)({},e);return t.tmp_id=Object(oe.a)(),t})),""!==u)&&(0===e.filter((function(e){return"owner"===e.role})).length&&e.unshift({tmp_id:Object(oe.a)(),email:u,role:"owner"}));v(e)}),[u,v]);Object(a.useEffect)((function(){var e=t["/"];Array.isArray(e)?N(e):N([])}),[N,t]);var S=Object(a.useCallback)((function(e){var t=f.filter((function(t){return t.email!==e}));"@volteuropa.org"===e&&(t=t.filter((function(e){return"@public"!==e.email}))),0===t.filter((function(e){return"owner"===e.role})).length&&(t=t.filter((function(e){return e.email!==u}))).unshift({tmp_id:Object(oe.a)(),email:u,role:"owner"}),v(t),c({"/":t})}),[f,u,v,c]),P=Object(a.useCallback)((function(e,t){var n=f.map((function(n){return n.email===e?Object(x.a)(Object(x.a)({},n),{},{role:t}):n}));v(n),c({"/":n})}),[f,v,c]),E=Object(a.useCallback)((function(e,t){e.includes("@public")&&e.push("@volteuropa.org");var n,r=f.filter((function(t){return!e.includes(t.email)})),a=Object(M.a)(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;r.unshift({tmp_id:Object(oe.a)(),email:o,role:t})}}catch(i){a.e(i)}finally{a.f()}0===r.filter((function(e){return"owner"===e.role})).length&&(r=r.filter((function(e){return e.email!==u}))).unshift({tmp_id:Object(oe.a)(),email:u,role:"owner"}),v(r),c({"/":r})}),[f,u,v,c]),R=Object(a.useCallback)((function(){E(_,w),y([]),p((function(e){return e+1}))}),[_,w,E]);if(!o)return null;var T=0===f.filter((function(e){return"@volteuropa.org"===e.email})).length,A=0===f.filter((function(e){return"@public"===e.email})).length;return Object(W.jsx)(B.a,{open:o,onClose:i,hideBackdrop:!0,children:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{className:Le.a.backdrop,onClick:i}),Object(W.jsxs)("div",{className:Le.a.dialog,children:[Object(W.jsx)("h1",{style:{margin:"0 0 var(--basis_x4) 0"},children:Object(W.jsx)(F.a,{id:"permissions_dialog_title"})}),Object(W.jsx)("p",{children:Object(W.jsx)(F.a,{id:"permissions_dialog_description"})}),Object(W.jsxs)("div",{className:Le.a.inputWrapper,children:[Object(W.jsx)(Ee,{className:Le.a.input,children:function(e){var t=e.setError;return Object(W.jsx)(De,{multiple:!0,onError:t,defaultValue:"",onChange:y,"aria-label":l("path_editor_permissions_edit_label"),placeholder:l("path_editor_permissions_edit_placeholder"),style:{flexGrow:"1",margin:"var(--basis) 0",width:"calc(100% - var(--basis_x2))"}})}}),Object(W.jsx)(Ge,{role:w,changeRole:I,trigger:function(e){return Object(W.jsxs)("button",Object(x.a)(Object(x.a)({className:Le.a.menuButton},e),{},{children:[Object(W.jsx)(Ve,{role:w})," ",Object(W.jsx)(Ne.a,{})]}))}})]},j),_.length>0&&_[0].length>0?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("hr",{}),Object(W.jsxs)("div",{className:Le.a.actions,children:[Object(W.jsx)("div",{}),Object(W.jsx)("button",{onClick:R,className:"green",style:{margin:"0"},children:_.length>1?"Add People":"Add Person"})]})]}):Object(W.jsxs)(W.Fragment,{children:[T||A?Object(W.jsxs)("div",{style:{marginTop:"var(--basis_x2)"},children:["Make visible for\u2026",T?Object(W.jsx)("button",{onClick:function(){return E(["@volteuropa.org"],"viewer")},children:"Volt Europa"}):null,A?Object(W.jsx)("button",{onClick:function(){return E(["@public"],"viewer")},children:"Public"}):null]}):null,0===f.length?null:Object(W.jsx)("hr",{style:{opacity:.2}}),We(f).map((function(e){return Object(W.jsxs)("div",{className:Le.a.permissionRow,children:["@public"===e.email?Object(W.jsx)("strong",{children:"Public"}):"@volteuropa.org"===e.email?Object(W.jsx)("strong",{children:"Volt Europa"}):Object(W.jsx)("span",{children:e.email}),"owner"===e.role?Object(W.jsx)("strong",{className:"type_button ".concat(Le.a.ownerInfo),children:Object(W.jsx)(Ve,{role:e.role})}):Object(W.jsx)(Ge,{role:e.role,removePermission:function(){return S(e.email)},changeRole:function(t){return P(e.email,t)},trigger:function(t){return Object(W.jsxs)("button",Object(x.a)(Object(x.a)({className:Le.a.menuButton},t),{},{children:[Object(W.jsx)(Ve,{role:e.role})," ",Object(W.jsx)(Ne.a,{})]}))}})]},e.tmp_id)})),Object(W.jsx)("hr",{style:{opacity:.2}}),Object(W.jsxs)("div",{className:Le.a.actions,children:[Object(W.jsx)("div",{}),Object(W.jsx)("button",{onClick:i,className:"green",style:{margin:"0"},children:Object(W.jsx)(F.a,{id:"dialog_done"})})]})]})]})]})})},ze=n(422),Ue=n.n(ze),Ze=n(423),qe=n.n(Ze),Je=n(154),Ye=n(318),Ke=n(469);var Xe=function(e){var t=e.ariaLabel,n=e.items,o=e.defaultValue,c=e.onChange,i=e.style,l=e.className,s=Object(a.useState)(),u=Object(r.a)(s,2),d=u[0],b=u[1];Object(a.useEffect)((function(){return b(o)}),[o,b]);var j=Object(a.useCallback)((function(e){var t=e.target.dataset.value;b(t),c&&c(t)}),[b,c]);return Object(W.jsx)("div",{"aria-label":t,className:"buttonRow "+(l||""),style:Object(x.a)({display:"inline-block"},i),children:n.map((function(e){var t=e.value,n=e.title,r=e.icon||null;return Object(W.jsx)("button",{className:"default ".concat(d===t?"choosen":""," ").concat(r?"hasIcon":""),onClick:j,"data-value":t,children:Object(W.jsxs)("span",{style:{pointerEvents:"none"},children:[r||null,n?Object(W.jsx)("span",{style:{verticalAlign:"middle"},children:n}):null]})},t+"_"+n)}))})},Qe=/^([\+-\.0-9A-Z\u017F\u212A]+:(?:\/\/)?)[\x2D\.0-9A-Z_a-z\xC0-\xFF\u017F\u1E9E\u212A\u212B]+(?:\.[\x2D\.0-9A-Z_a-z\xC0-\xFF\u017F\u1E9E\u212A\u212B]+)+[!#-;=\?-\[\]_a-z~\xC0-\xFF\u017F\u1E9E\u212A\u212B]+$/gi,$e=/^(?:(?:(?:(?![\t-\r "\(\),\.:-<>@\[-\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])+(?:\.(?:(?![\t-\r "\(\),\.:-<>@\[-\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])+)*)|(?:"(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+"))@(?:(?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|(?:(?:[\x2D0-9A-Za-z\u017F\u212A]+\.)+[A-Za-z\u017F\u212A]{2,})\.?)$/gi,et=/^(?:(?![\/:])[\s\S])+@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/gi;var tt=function(e){var t=e.defaultValue,n=void 0===t?"":t,o=e.onChange,c=e.onBlur,i=e.onError,l=e.placeholder,s=void 0===l?"https://":l,u=e.style,d=e.className,b=Object(a.useState)(n),j=Object(r.a)(b,2),p=j[0],O=j[1],h=Object(a.useCallback)((function(e){var t=e.target.value||"",n="";if(""!==t){var r=t.split(":"),a=r.shift(),c=r.join(":");"tel"===a||("mailto"===a||t.match(et)?c.match($e)||(n="invalid_mailto_url"):t.match(Qe)||(n="invalid_url"))}o&&o(t),i&&i(n),O(t)}),[o,i]),f=Object(a.useCallback)((function(){c&&c(p)}),[c,p]);return Object(W.jsx)("input",{type:"url",onChange:h,onBlur:f,defaultValue:n,placeholder:s,style:u,className:d})},nt=n.p+"static/media/20200912_Plakatschlange_Koeln_Matteo Sant_Unione_011.3f9289d0.png",rt=n.p+"static/media/Aktion.89c1bcdf.png",at=n.p+"static/media/tYADz4UyUAAcV5WlmWLlkXD9LG8W02U9LbQd8rxzQ2bt99lxwK.6824f6ef.png",ot=n.p+"static/media/Welcome-to-Volt.39e04eca.png",ct=n.p+"static/media/portugal.682fc2e3.jpg",it=["closePopover"];var lt=Object(F.d)((function(e){var t=e.getString,n=e.coverphotoValue,r=e.iconValue,a=e.onChange,o=e.className,c=void 0===o?"":o,i=e.style,l=void 0===i?{}:i,s=function(e){a({type:"url",url:e})},u=new RegExp("^(?:[a-z]+:)?//","i"),d="",b=!1,j=!1;return"object"!==typeof n||null===n||Array.isArray(n)||"url"===n.type&&"string"===typeof n.url&&u.test(n.url)&&(b=!0,d=n.url||""),"object"!==typeof r||null===r||Array.isArray(r)||("url"===r.type&&"string"===typeof r.url&&u.test(r.url)||"emoji"===r.type&&"string"===typeof r.emoji&&r.emoji.length>0)&&(j=!0),Object(W.jsx)("div",{className:"\n      ".concat(qe.a.root,"\n      ").concat(b?qe.a.coverphotoIsSet:qe.a.coverphotoIsNotSet,"\n      ").concat(j?qe.a.iconIsSet:qe.a.iconIsNotSet,"\n      ").concat(c,"\n    "),style:l,children:Object(W.jsx)(Je.a,{trigger:function(e){return Object(W.jsx)("div",{className:qe.a.coverphoto,style:{backgroundImage:b?"url(".concat(window.domains.backend,"download_url?f=jpg&w=1400&h=400&url=").concat(encodeURIComponent(n.url),")"):""},children:Object(W.jsx)("div",{className:qe.a.button_wrapper,children:Object(W.jsxs)("button",Object(x.a)(Object(x.a)({},e),{},{className:"hasIcon ".concat(b?"default":"text"," ").concat(qe.a.changeCoverphotoButton),children:[Object(W.jsx)(Ke.a,{className:"icon"}),Object(W.jsx)("span",{style:{marginInlineStart:"var(--basis_x2)",verticalAlign:"middle"},children:"Set Coverphoto"})]}))})})},children:function(e){var n=e.closePopover,r=Object(D.a)(e,it);return Object(W.jsxs)(Ye.a,Object(x.a)(Object(x.a)({},r),{},{sx:{maxWidth:"calc(calc(100vw - 32px) - var(--basis_x8))",maxHeight:"calc(calc(100vh - 32px) - var(--basis_x8))",overflow:"auto",padding:"var(--basis_x4)",background:"var(--background-contrast)",color:"var(--on-background)"},elevation:8,children:[Object(W.jsx)("h3",{style:{marginTop:"0"},children:Object(W.jsx)(F.a,{id:"path_editor_coverphoto_label"})}),Object(W.jsx)("em",{className:"body2",style:{display:"block",marginBottom:"var(--basis)"},children:Object(W.jsx)(F.a,{id:"path_editor_coverphoto_info"})}),Object(W.jsx)(Ee,{children:function(e){var t=e.setError;return Object(W.jsx)(tt,{onError:t,onChange:s,defaultValue:d,style:{marginRight:"0",marginLeft:"0",width:"100%"}})}}),Object(W.jsx)(Xe,{onChange:s,ariaLabel:t("path_editor_coverphoto_label"),defaultValue:d,items:[{value:"",title:t("path_editor_no_coverphoto")}].concat(Object(Y.a)([{value:"https://assets.volteuropa.org/styles/scale_2880x/public/inline-images/tYADz4UyUAAcV5WlmWLlkXD9LG8W02U9LbQd8rxzQ2bt99lxwK.jpg",icon:at},{value:"https://assets.volteuropa.org/styles/scale_1920x/public/2020-11/Welcome-to-Volt.jpg",icon:ot},{value:"https://assets.volteuropa.org/styles/scale_1920x/public/2021-07/20200912_Plakatschlange_Ko%CC%88ln_Matteo%20Sant_Unione_011.jpeg",icon:nt},{value:"https://assets.volteuropa.org/2021-11/portugal.jpg",icon:ct},{value:"https://assets.volteuropa.org/styles/scale_1920x/public/2021-05/Aktion.jpeg",icon:rt}].map((function(e){var t=e.value,n=void 0===t?"":t,r=e.icon,a=void 0===r?"":r;return{value:n,icon:Object(W.jsx)("img",{alt:"",src:a,className:"icon image"})}}))))}),Object(W.jsx)("hr",{}),Object(W.jsx)("button",{className:"text",onClick:n,style:{margin:0},children:"Close"})]}))}})})})),st=n(111),ut=n(424),dt=n.n(ut),bt=n(425),jt=n.n(bt),pt=n(452),Ot=["closePopover"],ht=new RegExp("^(?:[a-z]+:)?//","i");var ft=Object(F.d)((function(e){var t=e.coverphotoValue,n=e.iconValue,o=e.onChange,c=e.className,i=e.style,l=Object(a.useState)(!1),s=Object(r.a)(l,2),u=s[0],d=s[1],b=Object(a.useState)(null),j=Object(r.a)(b,2),p=j[0],O=j[1],h=Object(a.useState)(null),f=Object(r.a)(h,2),v=f[0],m=f[1],g=Object(a.useState)(null),_=Object(r.a)(g,2),y=_[0],k=_[1],C=Object(a.useCallback)((function(e,t){var n=t.emoji||null;k(n),o({type:p,url:v,emoji:n})}),[o,p,v]),w=Object(a.useCallback)((function(e){O(e),o({type:e,url:v,emoji:y})}),[o,v,y]),I=Object(a.useCallback)((function(e){m(e),o({type:p,url:e,emoji:y})}),[o,p,y]);Object(a.useEffect)((function(){if("object"===typeof n&&null!==n&&!Array.isArray(n)){var e=!1;"url"===n.type||"emoji"===n.type?O(n.type):O(null),"string"===typeof n.url&&ht.test(n.url)?(m(n.url||""),"url"===n.type&&(e=!0)):m(null),"string"===typeof n.emoji&&n.emoji.length>0?(k(n.emoji||""),"emoji"===n.type&&(e=!0)):k(null),d(e)}}),[n,O,m,k,d]);var N=!1;return"object"!==typeof t||null===t||Array.isArray(t)||"url"===t.type&&"string"===typeof t.url&&ht.test(t.url)&&(N=!0),Object(W.jsx)("div",{className:"\n      ".concat(jt.a.root,"\n      ").concat(u?jt.a.iconIsSet:jt.a.iconIsNotSet,"\n      ").concat(N?jt.a.coverphotoIsSet:jt.a.coverphotoIsNotSet,"\n      ").concat(jt.a["icon_type_".concat(p)],"\n      ").concat(c||"","\n    "),style:i,children:Object(W.jsx)(Je.a,{trigger:function(e){return Object(W.jsxs)("div",{className:jt.a.iconWrapper,children:["url"===p?Object(W.jsx)("div",{className:jt.a.icon,style:{backgroundImage:u&&v?"url(".concat(window.domains.backend,"download_url?f=").concat(window.imageFormat||"jpg","&w=400&h=400&url=").concat(encodeURIComponent(v),")"):""}}):null,"emoji"===p?Object(W.jsx)("div",{className:jt.a.icon,children:Object(W.jsx)(st.a,{emoji:y,className:jt.a.emojiWrapper})}):null,Object(W.jsxs)("button",Object(x.a)(Object(x.a)({},e),{},{className:"hasIcon ".concat(u?"default":"text"," ").concat(jt.a.changeIconButton),children:[Object(W.jsx)(pt.a,{className:"icon"}),Object(W.jsx)("span",{style:{marginInlineStart:"var(--basis_x2)",verticalAlign:"middle"},children:"Set Icon"})]}))]})},children:function(e){var t=e.closePopover,n=Object(D.a)(e,Ot);return Object(W.jsxs)(Ye.a,Object(x.a)(Object(x.a)({},n),{},{sx:{maxWidth:"calc(calc(100vw - 32px) - var(--basis_x8))",maxHeight:"calc(calc(100vh - 32px) - var(--basis_x8))",overflow:"auto",padding:"var(--basis_x4)",background:"var(--background-contrast)",color:"var(--on-background)"},elevation:8,children:[Object(W.jsxs)("div",{children:[Object(W.jsx)("button",{className:"emoji"!==p&&"url"!==p?"default":"text",onClick:function(){return w(null)},children:"No Icon"}),Object(W.jsx)("button",{className:"emoji"===p?"default":"text",onClick:function(){return w("emoji")},children:"Emoji"}),Object(W.jsx)("button",{className:"url"===p?"default":"text",onClick:function(){return w("url")},children:"Url"})]}),Object(W.jsxs)("div",{style:{display:"url"===p?"block":"none"},children:[Object(W.jsx)("hr",{}),Object(W.jsx)("em",{className:"body2",style:{display:"block",marginBottom:"var(--basis)"},children:Object(W.jsx)(F.a,{id:"path_editor_icon_info"})}),Object(W.jsx)(Ee,{children:function(e){var t=e.setError;return Object(W.jsx)(tt,{onError:t,onBlur:I,defaultValue:v,style:{marginRight:"0",marginLeft:"0",width:"100%"}})}}),Object(W.jsx)("hr",{})]}),Object(W.jsx)("div",{style:{display:"emoji"===p?"block":"none"},children:Object(W.jsx)(dt.a,{native:!0,onEmojiClick:C,searchPlaceholder:"Search for an emoji\u2026",disableAutoFocus:!0,pickerStyle:{boxShadow:"none",border:"0",borderRadius:"4px",margin:"var(--basis_x4) 0",width:"330px",height:"400px"}})}),"emoji"!==p&&"url"!==p?Object(W.jsx)("hr",{}):null,Object(W.jsx)("button",{className:"text",onClick:t,style:{margin:0},children:"Close"})]}))}})})}));var xt=["defaultValue","onChange","onBlur","onSubmit","onError","allowExisting","placeholder"];var vt=function(e){var t=e.defaultValue,n=void 0===t?"":t,o=e.onChange,c=e.onBlur,i=(e.onSubmit,e.onError),l=(e.allowExisting,e.placeholder),s=void 0===l?"de-bonn":l,d=Object(D.a)(e,xt),O=Object(a.useRef)(!1);Object(a.useEffect)((function(){return O.current=!0,function(){O.current=!1}}),[]);var h=function(){var e=Object(j.a)(),t=Object(a.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise((function(n){e.query({query:p.b,variables:{slug:t}}).then(function(){var e=Object(u.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=t.data).hasOwnProperty("checkSlug")?n(r.checkSlug):n(null);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(u.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("error",t),n(null);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}),[e]);return t}(),f=Object(a.useState)(""),v=Object(r.a)(f,2),m=v[0],g=v[1];Object(a.useEffect)((function(){O.current&&g(n)}),[g,n]);var _=Object(a.useCallback)(function(){var e=Object(u.a)(b.a.mark((function e(t){var n,r,a,c,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=t.toLowerCase(),g(t),n=!0,r="",""===t){e.next=15;break}return e.next=7,h(t);case 7:if(e.t0=e.sent,e.t0){e.next=10;break}e.t0={};case 10:a=e.t0,c=a.isOkay,l=a.errors,n=c,r=l.join("\n");case 15:n&&o&&o(t),i&&i(r);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[g,h,o,i]),y=Object(a.useCallback)((function(){c&&c(m)}),[c,m]);return Object(W.jsx)(Z,Object(x.a)({onChange:_,onBlur:y,defaultValue:n,placeholder:s,linebreaks:!1},d))};var mt=Object(F.d)((function(e){var t=e.getString,n=e.type,o=e.defaultProperties,c=void 0===o?{}:o,i=e.onChange,l=Object(a.useState)({}),s=Object(r.a)(l,2),u=s[0],d=s[1],b=Object(a.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={text:"string",coverphoto:"string",icon:"string",imprint:"string",privacy_policy:"string",tags:"string",checked:"boolean",slug:"string",url:"string",pronouns:"string"},a=Object(x.a)({},u);if(r.hasOwnProperty(e))switch(r[e]){case"array":t.length>0?a[e]=t:a.hasOwnProperty(e)&&(a[e]=null);break;case"string":""!==t?a[e]=t:a.hasOwnProperty(e)&&(a[e]=null);break;case"boolean":!0===t?a[e]=!0:a.hasOwnProperty(e)&&(a[e]=null);break;case"object":"object"===typeof t&&null!==t&&Object.keys(t).length>0?a[e]=t:a.hasOwnProperty(e)&&(a[e]=null);break;default:a[e]=t}JSON.stringify(a)!==JSON.stringify(u)&&(d(a),!1===n&&i&&i(a))}),[u,d,i]),j=Object(a.useCallback)((function(){i&&i(u)}),[u,i]);Object(a.useEffect)((function(){d(Object(x.a)(Object(x.a)({},c),{},{text:c.text||""}))}),[c,d]);var p=null;return"button"!==n&&"redirect"!==n||(p=Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)("div",{className:Ue.a.properties_row,children:[Object(W.jsx)("h3",{children:Object(W.jsx)(F.a,{id:"properties_editor_action_url_label"})}),Object(W.jsx)(Ee,{style:{width:"100%"},children:function(e){var n=e.setError;return Object(W.jsx)(tt,{onError:n,onBlur:function(e){return b("url",e)},type:"text",defaultValue:u.url||"",placeholder:t("action_input_url_placeholder"),style:{marginRight:"0",marginLeft:"0",width:"100%"}})}})]})})),Object(W.jsxs)(W.Fragment,{children:["page"===n||"person"===n||"redirect"===n?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(lt,{coverphotoValue:u.coverphoto,iconValue:u.icon,onChange:function(e){return b("coverphoto",e)}}),Object(W.jsx)(ft,{iconValue:u.icon,coverphotoValue:u.coverphoto,onChange:function(e){return b("icon",e)}})]}):null,Object(W.jsx)("div",{className:Ue.a.main_headline,style:{paddingLeft:"calc(8 * var(--basis))"},children:Object(W.jsx)(Z,{defaultValue:u.text,onChange:function(e){return b("text",e,!0)},onBlur:j,placeholder:t("placeholder_main_headline"),style:{padding:"var(--basis) var(--basis_x2)"},linebreaks:!0,className:"type_h1"})}),Object(W.jsxs)("div",{className:Ue.a.propertiesFrame,children:[Object(W.jsxs)("div",{className:Ue.a.properties_row,children:[Object(W.jsx)("h3",{children:Object(W.jsx)(F.a,{id:"properties_editor_trigger_path_label"})}),Object(W.jsx)(Ee,{style:{flexGrow:"1"},children:function(e){var n=e.setError;return Object(W.jsx)(vt,{onError:n,placeholder:t("trigger_input_path_placeholder"),defaultValue:u.slug||"",onBlur:function(e){return b("slug",e)},style:{marginRight:"0",marginLeft:"0",width:"100%"}})}})]}),p]})]})})),gt=n(456),_t=n(485),yt=n(376),kt=n(377);var Ct=function(e){var t=e.defaultValue,n=void 0!==t&&t,o=e.onChange,c=e.onBlur,i=e.style,l=e.className,s=e.disabled,u=void 0!==s&&s,d=Object(a.useState)(Boolean(n)),b=Object(r.a)(d,2),j=b[0],p=b[1],O={className:l,onClick:Object(a.useCallback)((function(){if(!0!==u){var e=!j;p(e),o&&o(e),c&&c(e)}}),[u,j,p,o,c]),style:Object(x.a)({display:"inline-block",margin:"var(--basis)",cursor:!0===u?"default":"pointer",lineHeight:0,height:"var(--prefix-icon-size)",width:"var(--prefix-icon-size)"},i)};return j?Object(W.jsx)(yt.a,Object(x.a)({},O)):Object(W.jsx)(kt.a,Object(x.a)({},O))},wt=n(42);var It=Object(F.d)((function(e){var t=e.getString,n=e.block,o=void 0===n?{}:n,c=e.onChange,i=(e.onSaveBlock,e.saveProperty),l=e.onInputRef,s=e.onGoToPrevInput,u=e.onGoToNextInput,d=e.onSplitText,b=e.onMergeToPrevInput,j=e.onMergeFromNextInput,p=(e.onAddRowAfter,o.properties||{}),O=Object(a.useState)(""),h=Object(r.a)(O,2),f=h[0],v=h[1];Object(a.useEffect)((function(){v(p.text||"")}),[p.text,v]);var m=Object(a.useCallback)((function(){c&&c(Object(x.a)(Object(x.a)({},o),{},{properties:Object(x.a)(Object(x.a)({},o.properties),{},{text:f})}))}),[c,o,f]),g="type_p";p.hasOwnProperty("text_style")&&(g="text"===p.text_style?"type_p":"type_"+p.text_style);var _=Object(wt.getBlockColor)(o).color,y={};_&&(y.color=_);var k=Object(a.useCallback)((function(e){i("checked",e)}),[i]),C=p.text_decorations,w=void 0===C?[]:C,I=p.checked;Array.isArray(w)||(w=[]),"boolean"!==typeof I&&(I=!1);var N=[];if(w.includes("checkbox")){var F=Object(W.jsx)(Ct,{defaultValue:I,onChange:k,style:{margin:"var(--basis_x0_2) var(--basis) 0 0",height:"var(--prefix-icon-size)",width:"var(--prefix-icon-size)"}},"checkbox");N.push(F)}return Object(W.jsxs)("div",{className:g,style:{display:"flex"},children:[Object(W.jsx)("div",{children:N}),Object(W.jsx)(Z,{defaultValue:f,onChange:v,onBlur:m,placeholder:t("placeholder_text"),style:Object(x.a)(Object(x.a)({},y),{},{flexGrow:1,margin:"0",padding:"0",backgroundColor:"transparent"}),linebreaks:!0,className:"hide_border",onInputRef:l,onGoToPrevInput:s,onGoToNextInput:u,onMergeToPrevInput:function(){return b(o)},onMergeFromNextInput:function(){return j(o)},onSplitText:d})]})}));var Nt=Object(F.d)((function(e){var t=e.getString,n=e.block,o=void 0===n?{}:n,c=e.onChange,i=e.onInputRef,l=e.onGoToPrevInput,s=e.onGoToNextInput,u=e.onSplitText,d=e.onMergeToPrevInput,b=e.onMergeFromNextInput,j=o.properties||{},p=Object(a.useState)(j.text||""),O=Object(r.a)(p,2),h=O[0],f=O[1],v=j.url,m=void 0===v?"":v,g=Object(a.useState)(m),_=Object(r.a)(g,2),y=_[0],k=_[1],C=Object(a.useCallback)((function(){if(c){var e=Object(x.a)(Object(x.a)({},o),{},{properties:Object(x.a)(Object(x.a)({},o.properties),{},{text:h})});""===y?e.properties.hasOwnProperty("url")&&delete e.properties.url:e.properties.url=y,c(e)}}),[c,o,h,y]),w=Object(wt.getBlockColor)(o),I=w.color,N=w.colorRGB,F=w.contrastingColor,S={};return I&&(S["--on-background-rgb"]=N,S["--button-background"]=I,S["--button-color"]=F),Object(W.jsxs)("div",{style:Object(x.a)({margin:"0 0 var(--basis) 0",cursor:"auto"},S),className:"clickable_card active",children:[Object(W.jsx)(Z,{defaultValue:h,onChange:f,onBlur:C,placeholder:t("placeholder_button"),style:Object(x.a)({margin:"0"},S),linebreaks:!0,className:"hide_border type_button default",onInputRef:i,onGoToPrevInput:l,onGoToNextInput:s,onMergeToPrevInput:function(){return d(o)},onMergeFromNextInput:function(){return b(o)},onSplitText:u}),Object(W.jsx)(Ee,{children:function(e){var n=e.setError;return Object(W.jsx)(tt,{onError:n,onChange:k,onBlur:C,defaultValue:y,placeholder:t("action_input_url_placeholder"),style:{margin:"var(--basis) 0 0 0",width:"100%"}})}})]})})),Ft=n(379),St=n(470);var Bt=Object(F.d)((function(e){var t=e.getString,n=e.block,r=void 0===n?{}:n,o=e.onChange,c=e.onInputRef,i=e.onGoToPrevInput,l=e.onGoToNextInput,s=e.onSplitText,u=e.onMergeToPrevInput,d=e.onMergeFromNextInput,b=e.style,j=void 0===b?{}:b,p=r.properties||{},O=p.slug,h=void 0===O?"":O,f=p.url,v=void 0===f?"":f,m=Object(a.useRef)(p.text||""),g=m.current,_=Object(a.useRef)(h||""),y=_.current,k=function(e){return _.current=e},C=Object(a.useRef)(v||""),w=C.current,I=function(e){return C.current=e},N=Object(a.useCallback)((function(){if(o){var e=m.current,t=_.current,n=C.current,a=Object(x.a)(Object(x.a)({},r),{},{properties:Object(x.a)(Object(x.a)({},r.properties),{},{text:e})});""===t?a.properties.hasOwnProperty("slug")&&delete a.properties.slug:a.properties.slug=t,""===n?a.properties.hasOwnProperty("url")&&delete a.properties.url:a.properties.url=n,o(a)}}),[o,r]),F=Object(wt.getBlockColor)(r),S=F.color,B=void 0===S?"inherit":S,P=F.colorRGB,E=void 0===P?"--on-background-rgb":P;return Object(W.jsxs)("div",{style:Object(x.a)(Object(x.a)({},j),{},{margin:"0 0 var(--basis) 0",cursor:"auto","--on-background-rgb":E}),className:"clickable_card active",children:[Object(W.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",color:B},children:[Object(W.jsx)(Ft.a,{style:{margin:"var(--basis)"}}),Object(W.jsx)(Z,{defaultValue:g,onChange:function(e){return m.current=e},onBlur:N,placeholder:t("placeholder_headline_main"),style:{flexGrow:"1",width:"100%",margin:"0",fontWeight:"bold",backgroundColor:"transparent",color:B},linebreaks:!0,className:"hide_border type_text",onInputRef:c,onGoToPrevInput:i,onGoToNextInput:l,onMergeToPrevInput:function(){return u(r)},onMergeFromNextInput:function(){return d(r)},onSplitText:s})]}),Object(W.jsxs)("div",{style:{paddingInlineStart:"var(--basis_x8)",width:"100%",display:"flex",alignItems:"center"},children:["volt.link/",Object(W.jsx)(Ee,{style:{width:"100%",marginInlineStart:"var(--basis)"},children:function(e){var n=e.setError;return Object(W.jsx)(vt,{onError:n,onChange:k,onBlur:N,defaultValue:y,placeholder:t("trigger_input_path_placeholder"),style:{margin:"var(--basis) 0",width:"100%"}})}})]}),Object(W.jsxs)("div",{style:{paddingInlineStart:"var(--basis_x8)",width:"100%",display:"flex",alignItems:"center"},children:[Object(W.jsx)(St.a,{style:{flexShrink:0,margin:"0 var(--basis) 0 0"}}),Object(W.jsx)(Ee,{style:{width:"100%"},children:function(e){var n=e.setError;return Object(W.jsx)(tt,{onError:n,onChange:I,onBlur:N,defaultValue:w,placeholder:t("action_input_url_placeholder"),style:{margin:"var(--basis) 0",width:"100%"}})}})]})]})}));function Pt(e){var t=e.block,n=Object(wt.getBlockColor)(t).color,r={};return n&&(r["--on-background"]=n),Object(W.jsx)("hr",{style:r})}var Et=Object(F.d)((function(e){var t=e.getString,n=e.block,o=void 0===n?{}:n,c=e.onChange,i=e.onInputRef,l=e.onGoToPrevInput,s=e.onGoToNextInput,u=e.onSplitText,d=e.onMergeToPrevInput,b=e.onMergeFromNextInput,j=o.properties||{},p=Object(a.useState)(j.text||""),O=Object(r.a)(p,2),h=O[0],f=O[1],v=Object(a.useRef)(Boolean(j.checked)),m=Object(a.useCallback)((function(){c&&c(Object(x.a)(Object(x.a)({},o),{},{properties:Object(x.a)(Object(x.a)({},o.properties),{},{text:h,checked:v.current})}))}),[c,o,h]),g=Object(a.useCallback)((function(e){v.current=e,m()}),[m]);return Object(W.jsxs)("div",{style:{display:"flex"},children:[Object(W.jsx)(Ct,{checked:v.current,onChange:g}),Object(W.jsx)(Z,{defaultValue:h,onChange:f,onBlur:m,placeholder:t("placeholder_text"),style:{flexGrow:"1",width:"100%",margin:"0",backgroundColor:"transparent"},linebreaks:!0,className:"hide_border type_text",onInputRef:i,onGoToPrevInput:l,onGoToNextInput:s,onMergeToPrevInput:function(){return d(o)},onMergeFromNextInput:function(){return b(o)},onSplitText:u})]})})),Rt=n(378);var Tt=Object(F.d)((function(e){var t=e.getString,n=e.block,o=void 0===n?{}:n,c=e.onChange,i=e.onInputRef,l=e.onGoToPrevInput,s=e.onGoToNextInput,u=e.onSplitText,d=e.onMergeToPrevInput,b=e.onMergeFromNextInput,j=o.properties||{},p=Object(a.useState)(j.text||""),O=Object(r.a)(p,2),h=O[0],f=O[1],v=Object(a.useCallback)((function(){c&&c(Object(x.a)(Object(x.a)({},o),{},{properties:Object(x.a)(Object(x.a)({},o.properties),{},{text:h})}))}),[c,o,h]),m=Object(wt.getBlockColor)(o),g=m.color,_=void 0===g?"inherit":g,y=m.colorRGB,k=void 0===y?"--on-background-rgb":y;return Object(W.jsxs)("div",{style:{display:"flex",margin:"0 0 var(--basis) 0",cursor:"auto","--on-background-rgb":k,color:_},className:"clickable_card active",children:[Object(W.jsx)(Rt.a,{style:{margin:"var(--basis)"}}),Object(W.jsx)(Z,{defaultValue:h,onChange:f,onBlur:v,placeholder:t("placeholder_text"),style:{flexGrow:"1",width:"100%",margin:"0",fontWeight:"bold",backgroundColor:"transparent",color:_},linebreaks:!0,className:"hide_border type_text",onInputRef:i,onGoToPrevInput:l,onGoToNextInput:s,onMergeToPrevInput:function(){return d(o)},onMergeFromNextInput:function(){return b(o)},onSplitText:u})]})})),At=n(380);var Dt=Object(F.d)((function(e){var t=e.getString,n=e.block,o=void 0===n?{}:n,c=e.onChange,i=e.onInputRef,l=e.onGoToPrevInput,s=e.onGoToNextInput,u=e.onSplitText,d=e.onMergeToPrevInput,b=e.onMergeFromNextInput,j=o.properties||{},p=Object(a.useState)(j.text||""),O=Object(r.a)(p,2),h=O[0],f=O[1],v=Object(a.useCallback)((function(){c&&c(Object(x.a)(Object(x.a)({},o),{},{properties:Object(x.a)(Object(x.a)({},o.properties),{},{text:h})}))}),[c,o,h]),m=Object(wt.getBlockColor)(o),g=m.color,_=void 0===g?"inherit":g,y=m.colorRGB,k=void 0===y?"--on-background-rgb":y;return Object(W.jsxs)("div",{style:{display:"flex",margin:"0 0 var(--basis) 0",cursor:"auto","--on-background-rgb":k,color:_},className:"clickable_card active",children:[Object(W.jsx)(At.a,{style:{margin:"var(--basis)"}}),Object(W.jsx)(Z,{defaultValue:h,onChange:f,onBlur:v,placeholder:t("placeholder_headline_main"),style:{flexGrow:"1",width:"100%",margin:"0",fontWeight:"bold",backgroundColor:"transparent",color:_},linebreaks:!0,className:"hide_border type_text",onInputRef:i,onGoToPrevInput:l,onGoToNextInput:s,onMergeToPrevInput:function(){return d(o)},onMergeFromNextInput:function(){return b(o)},onSplitText:u})]})}));var Mt=Object(F.d)((function(e){var t=e.getString,n=e.block,o=void 0===n?{}:n,c=e.onChange,i=(e.onInputRef,e.onGoToPrevInput,e.onGoToNextInput,e.onSplitText,e.onMergeToPrevInput,e.onMergeFromNextInput,o.properties||{}),l=Object(a.useState)(i.text||""),s=Object(r.a)(l,2),u=s[0],d=s[1],b="";i.hasOwnProperty("coverphoto")&&i.coverphoto.hasOwnProperty("type")&&"url"===i.coverphoto.type&&i.coverphoto.hasOwnProperty("url")&&(b=i.coverphoto.url);var j=Object(a.useState)(b),p=Object(r.a)(j,2),O=p[0],h=p[1],f=Object(a.useCallback)((function(){if(c){var e=Object(x.a)(Object(x.a)({},o),{},{properties:Object(x.a)(Object(x.a)({},o.properties),{},{text:u})});""===O?e.properties.hasOwnProperty("coverphoto")&&delete e.properties.coverphoto:e.properties.coverphoto={type:"url",url:O},c(e)}}),[c,o,u,O]),v=Object(wt.getBlockColor)(o),m=v.color,g=v.colorRGB,_=v.contrastingColor,y={};m&&(y["--on-background-rgb"]=g,y["--button-background"]=m,y["--button-color"]=_);var k="";return"string"===typeof O&&O.length>0&&(k="".concat(window.domains.backend,"download_url?f=").concat(window.imageFormat||"jpg","&w=150&h=100&url=").concat(encodeURIComponent(O))),Object(W.jsxs)("div",{style:Object(x.a)({margin:"0 0 var(--basis) 0",cursor:"auto"},y),className:"clickable_card active",children:[Object(W.jsx)("div",{style:{marginBottom:"var(--basis)"},children:""!==k?Object(W.jsx)("img",{src:k,alt:u,title:u,style:{maxWidth:"150px",maxHeight:"100px",boxShadow:"inset 0 0 0 1px rgba(var(--on-background-rgb), var(--alpha-less))"}}):t("inline_editor_image_block_explainer_title")}),Object(W.jsx)(Ee,{children:function(e){var n=e.setError;return Object(W.jsx)(tt,{onError:n,onChange:h,onBlur:f,defaultValue:O,placeholder:t("placeholder_image_url"),style:{margin:"0",width:"100%"}})}}),Object(W.jsx)(Z,{defaultValue:u,onChange:d,onBlur:f,placeholder:t("placeholder_image_alt_text"),style:Object(x.a)({margin:"var(--basis) 0 0 0"},y),linebreaks:!0,className:"type_p default"})]})})),Lt=n(426),Vt=n.n(Lt),Gt=["type"];function Wt(e){var t=e.type,n=void 0===t?"text":t,r=Object(D.a)(e,Gt),a=null;switch(n){case"button":a=Object(W.jsx)(Nt,Object(x.a)({},r));break;case"redirect":a=Object(W.jsx)(Bt,Object(x.a)({},r));break;case"divider":a=Object(W.jsx)(Pt,Object(x.a)({},r));break;case"checkbox":a=Object(W.jsx)(Et,Object(x.a)({},r));break;case"person":a=Object(W.jsx)(Tt,Object(x.a)({},r));break;case"page":a=Object(W.jsx)(Dt,Object(x.a)({},r));break;case"image":a=Object(W.jsx)(Mt,Object(x.a)({},r));break;default:a=Object(W.jsx)(It,Object(x.a)({},r))}return a}var Ht=Object(F.d)((function(e){e.fluentByObject,e.getString;var t=e.contentConfig,n=void 0===t?{}:t,o=e.className,c=e.onChange,i=e.reorderHandle,l=e.onRemoveRow,s=(e.actionButton,e.dataset),u=void 0===s?{}:s,d=e.addRowBefore,b=e.addRowAfter,j=(e.permissions,e.onInputRef),p=e.onGoToPrevInput,O=e.onGoToNextInput,h=e.onSplitText,f=e.onMergeToPrevInput,m=e.onMergeFromNextInput,g=e.onRemoveSelf,_=Object(v.a)(),y=Object(a.useState)(Object(x.a)(Object(x.a)({},n.block||{type:"text"}),{},{_id:n.blockId||null})),k=Object(r.a)(y,2),C=k[0],w=k[1],I=C.properties||{},N="boolean"!==typeof I.active||I.active;Object(a.useEffect)((function(){n.block&&w(n.block)}),[n.block]);var F=Object(a.useCallback)((function(e){_(e).then((function(e){w(e),C._id&&C._id===e._id||c({blockId:e._id,block:e})}))}),[C,c,_]),B=Object(a.useCallback)((function(e){var t=Object(x.a)(Object(x.a)({},C),{},{type:e});F(t)}),[C,F]),P=Object(a.useCallback)((function(e,t){if("string"===typeof e){var n=Object(x.a)({},C.properties);if(n[e]=null===t||void 0===t?null:t,n!==C.properties){var r=Object(x.a)(Object(x.a)({},C),{},{properties:n});F(r)}}}),[C,F]),E=Object(a.useCallback)((function(e){JSON.stringify(e)!==JSON.stringify(C)&&_(e).then((function(e){w(e),C._id&&C._id===e._id||c({blockId:e._id,block:e})}))}),[_,C,c]),R=Object(a.useCallback)((function(e,t){_(e).then((function(e){t&&t(e)})).catch(console.error)}),[_]),T=Object(a.useCallback)((function(e){"function"===typeof g&&g()}),[g]);return Object(W.jsxs)("div",Object(x.a)(Object(x.a)({className:"".concat(Vt.a.block," ").concat(o)},u),{},{children:[Object(W.jsx)(S.a,{block:C,saveType:B,saveProperty:P,onRemoveRow:l,addRowBefore:d,addRowAfter:b,onArchivedToggle:T,trigger:function(e){return Object(W.jsx)("div",Object(x.a)(Object(x.a)({},e),{},{className:Vt.a.reorderHandle,children:i}))}}),Object(W.jsx)("div",{className:"".concat(Vt.a.block_input," ").concat(N?Vt.a.form_active:Vt.a.form_deactivated),children:Object(W.jsx)(Wt,{type:C.type,block:C,onChange:E,onSaveBlock:R,saveProperty:P,onInputRef:j,onGoToPrevInput:p,onGoToNextInput:O,onSplitText:h,onMergeToPrevInput:f,onMergeFromNextInput:m,onAddRowAfter:b})})]}))})),zt=n(397),Ut=n(394),Zt=n(427),qt=n.n(Zt);function Jt(e){return Object(Y.a)(e).map((function(e){var t=Object(x.a)({},e);return t.tmp_id=Object(oe.a)(),t}))}function Yt(e){e.normalize();var t=e.childNodes;return t.length>0?t[0]:e}function Kt(e){e.normalize();var t=Object(Y.a)(e.childNodes).reverse();if(t.length>0){var n=e;if(3===t[0].nodeType){var r,a=Object(M.a)(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(3===o.nodeType)n=o;else if(1===o.nodeType)break}}catch(u){a.e(u)}finally{a.f()}}else if(t.length>1&&3===t[1].nodeType){var c,i=t.slice(1),l=Object(M.a)(i);try{for(l.s();!(c=l.n()).done;){var s=c.value;if(3===s.nodeType)n=s;else if(1===s.nodeType)break}}catch(u){l.e(u)}finally{l.f()}}return n}return e}function Xt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.focus(),window.getSelection){var r=3===t.nodeType?t.length:t.innerText.length;(-1===n||n>r)&&(n=r);var a=document.createRange();a.setStart(t,0),a.setEnd(t,n),a.collapse(!1);var o=window.getSelection();o.removeAllRanges(),o.addRange(a)}}var Qt=function(e){var t=e.parentId,n=e.defaultValue,o=void 0===n?[]:n,c=e.onChange,i=Object(a.useRef)([]),l=i.current,s=Object(a.useRef)({}),d=s.current,j=Object(a.useState)(0),p=Object(r.a)(j,2),O=p[0],h=p[1],f=Object(je.a)(),m=Object(v.a)(),g=Object(zt.a)(),_=Object(a.useState)(null),y=Object(r.a)(_,2),k=y[0],C=y[1];Object(a.useEffect)((function(){if("object"===typeof k&&null!==k&&d.hasOwnProperty(k.tmp_id)){var e=d[k.tmp_id];if("object"===typeof e&&null!==e){if(!0===k.inFirstLine){var t=Yt(e.current);Xt(e.current,t,k.positionFromLineStart)}else if(!0===k.inLastLine){var n=Kt(e.current);Xt(e.current,n,k.positionFromLineStart)}C(null)}}}),[k,C,d]),Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(b.a.mark((function e(){var t,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(Y.a)(Jt(o)),n=t.filter((function(e){return!e.hasOwnProperty("block")})).map((function(e){return e.blockId})),r=[],!(n.length>0)){e.next=7;break}return e.next=6,f({ids:n});case 6:r=e.sent;case 7:t=t.map((function(e){return e.hasOwnProperty("block")||(e.block=r.find((function(t){return t._id===e.blockId}))),e})),i.current=t,h((function(e){return e+1}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}0===l.length&&o.length>0&&function(){e.apply(this,arguments)}()}),[l,o,f,i,h]);var w=Object(a.useCallback)((function(e,t){var n=Object(x.a)({},s.current);n.hasOwnProperty(e.tmp_id)&&n[e.tmp_id]===t||(n[e.tmp_id]=t,s.current=n)}),[s]),I=Object(a.useCallback)((function(e,t){for(var n=t.caret,r=e.index,a=null,o=l.length-1;o>=0;o--){var c=l[o].tmp_id;if(o<r&&d[c]&&d[c].current){a=d[c];break}}if(a){var i=Kt(a.current);Xt(a.current,i,n.positionFromLineStart)}}),[l,d]),N=Object(a.useCallback)((function(e,t){for(var n=t.caret,r=e.index,a=null,o=0;o<l.length;o++){var c=l[o].tmp_id;if(o>r&&d[c]&&d[c].current){a=d[c];break}}if(a){var i=Yt(a.current);Xt(a.current,i,n.positionFromLineStart)}}),[l,d]),S=Object(a.useCallback)((function(){for(var e=null,t=l.length-1;t>=0;t--){var n=l[t].tmp_id;if(d[n]&&d[n].current){e=d[n];break}}if(e){var r=Kt(e.current);Xt(e.current,r,-1)}}),[l,d]),B=Object(a.useCallback)((function(e,t){var n=Object(Y.a)(l);for(var r in n){var a=n[r];if(a.tmp_id===e.tmp_id){n[r]=Object(x.a)(Object(x.a)({},a),t);break}}return i.current=n,c(n),new Promise((function(e){e(n)}))}),[l,i,c]),P=Object(a.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=(n="object"===typeof n?Object(x.a)({tmp_id:Object(oe.a)()},n):n||{tmp_id:Object(oe.a)()}).block||null;null===r||"number"!==typeof e||isNaN(e)||m(r).then(function(){var r=Object(u.a)(b.a.mark((function r(a){var o,s,u;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f({ids:[a._id]});case 2:(o=r.sent).length>0&&(s=o[0],n.block=s,n.blockId=s._id,(u=Object(Y.a)(l)).splice(e+t,0,n),i.current=u,c(u));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch(console.error)}),[l,i,m,f,c]),E=Object(a.useCallback)((function(e){var n=e.type,r=e.close,a={type:n};"string"===typeof t&&t.length>0&&(a.parent=t),P(0,0,{block:a}),"function"===typeof r&&r()}),[P,t]),R=Object(a.useCallback)((function(e){var t=e.index,n=Object(Y.a)(l);if(t>0){var r=t-1,a=n[r],o=a.tmp_id,u=n[t].block,d=n[r].block,b="";d&&d.hasOwnProperty("properties")&&(b=d.properties.text||"");var j="";u&&u.hasOwnProperty("properties")&&(j=u.properties.text||"");var p={_id:d._id,properties:{text:b+j}},O=s.current[o].current.textContent.length;m(p).then((function(e){var n=Object(oe.a)();B({index:r,tmp_id:o},Object(x.a)(Object(x.a)({},a),{},{tmp_id:n,blockId:e._id,block:e})).then((function(e){var r=e[t].block;e.splice(t,1),g({_id:r._id,archive:!0}).then((function(){i.current=e,C({tmp_id:n,positionFromLineStart:O,inFirstLine:!1,inLastLine:!0}),c(e)}))}))})).catch(console.error)}}),[l,s,m,B,g,i,C,c]),T=Object(a.useCallback)((function(e){var t=e.index,n=e.tmp_id,r=Object(Y.a)(l);if(t<r.length-1){var a=t+1,o=r[t],u=r[t].block,d=r[a].block,b="";u&&u.hasOwnProperty("properties")&&(b=u.properties.text||"");var j="";d&&d.hasOwnProperty("properties")&&(j=d.properties.text||"");var p={_id:u._id,properties:{text:b+j}},O=s.current[n].current.textContent.length;m(p).then((function(t){var n=Object(oe.a)();B(e,Object(x.a)(Object(x.a)({},o),{},{tmp_id:n,blockId:t._id,block:t})).then((function(e){var t=e[a].block;e.splice(a,1),g({_id:t._id,archive:!0}).then((function(){i.current=e,C({tmp_id:n,positionFromLineStart:O,inFirstLine:!1,inLastLine:!0}),c(e)}))}))})).catch(console.error)}}),[l,s,m,B,g,i,C,c]),A=Object(a.useCallback)((function(e,t){var n=t.texts,r=e.index,a=e.tmp_id,o=Object(Y.a)(l),s=o.find((function(e){return e.tmp_id===a})).block||{},u=Object(x.a)(Object(x.a)({},s),{},{properties:Object(x.a)(Object(x.a)({},s.properties),{},{text:n[0]})}),d=Object(x.a)(Object(x.a)({},s),{},{properties:Object(x.a)(Object(x.a)({},s.properties),{},{text:n[1]})});delete d._id,m(u).then((function(e){m(d).then((function(t){o[r]=Object(x.a)(Object(x.a)({},o[r]),{},{tmp_id:Object(oe.a)(),blockId:e._id,block:e});var n={tmp_id:Object(oe.a)(),blockId:t._id,block:t};o.splice(r+1,0,n),i.current=o,c(o),C({tmp_id:n.tmp_id,positionFromLineStart:0,inFirstLine:!0,inLastLine:!1})})).catch(console.error)})).catch(console.error)}),[l,m,i,c,C]),D=Object(a.useCallback)((function(e){var t=e.index,n=Object(Y.a)(l);n.splice(t,1),i.current=n,c(n)}),[l,c]),M=l.filter(Boolean).filter((function(e){return e.tmp_id}));return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("div",{style:{position:"relative",width:"1000px",maxWidth:"100%",margin:"var(--basis_x8) auto 0 auto"},children:[Object(W.jsx)("div",{children:Object(W.jsx)(Ut.b,{types:["button","text","image","divider","page","redirect"],createBlock:E,trigger:function(e){return Object(W.jsx)("button",Object(x.a)(Object(x.a)({},e),{},{className:"text hasIcon",style:{margin:"0 0 var(--basis_x2) 0"},children:Object(W.jsxs)("span",{style:{pointerEvents:"none"},children:[Object(W.jsx)(gt.a,{className:"icon"}),Object(W.jsx)("span",{style:{marginInlineStart:"var(--basis_x2)",verticalAlign:"middle"},children:Object(W.jsx)(F.a,{id:"add_content_before"})})]})}))}})}),Object(W.jsx)(ae.a,{onDragEnd:function(e){if(e.destination&&e.destination.index!==e.source.index){var t=function(e,t,n){var a=Array.from(e),o=a.splice(t,1),c=Object(r.a)(o,1)[0];return a.splice(n,0,c),a}(l,e.source.index,e.destination.index);i.current=t,c(t)}},children:Object(W.jsx)(ae.c,{droppableId:"list",isDropDisabled:!1,children:function(e){return Object(W.jsxs)("div",Object(x.a)(Object(x.a)({ref:e.innerRef},e.droppableProps),{},{className:"inputBorder",style:{"--input-box-shadow":"inset var(--basis_x8) 0 0 0 var(--background), inset var(--basis_x8) 0 0 var(--basis_x0_2) var(--on-background-contrast), inset 0 0 0 var(--basis_x0_2) var(--on-background-contrast)",boxShadow:"var(--input-box-shadow)",paddingTop:M.length>0?"var(--basis)":"",paddingRight:"var(--basis)"},children:[M.map((function(e,t){var n=e.tmp_id,r={index:t,tmp_id:n};return Object(W.jsx)(ae.b,{draggableId:n,index:t,isDragDisabled:!1,disableInteractiveElementBlocking:!0,shouldRespectForcePress:!0,children:function(o){return Object(a.createElement)("div",Object(x.a)(Object(x.a)({ref:o.innerRef},o.draggableProps),{},{key:n,className:qt.a.row}),Object(W.jsx)("div",{className:qt.a.form,children:Object(W.jsx)(Ht,{className:qt.a.item,dataset:{"data-index":t,"data-id":n},contentConfig:e,reorderHandle:Object(W.jsx)(_t.a,{title:Object(W.jsxs)("div",{style:{textAlign:"center"},children:[Object(W.jsx)("strong",{children:"Drag"})," to move.",Object(W.jsx)("br",{}),Object(W.jsx)("strong",{children:"Click"})," to open menu."]}),children:Object(W.jsx)("button",Object(x.a)(Object(x.a)({className:"text ".concat(qt.a.inlineRowButton," ").concat(qt.a.dragHandleButton)},o.dragHandleProps),{},{children:Object(W.jsx)(se.a,{})}))}),onRemoveSelf:function(){return D(r)},addRowBefore:function(e){return P(t,0,e)},addRowAfter:function(e){return P(t,1,e)},onInputRef:function(e){return w(r,e)},onGoToPrevInput:function(e){return I(r,e)},onGoToNextInput:function(e){return N(r,e)},onSplitText:function(e){return A(r,e)},onChange:function(e){return B(r,e)},onMergeToPrevInput:function(e){return R(r,e)},onMergeFromNextInput:function(e){return T(r,e)}},n)}))}},n)})),e.placeholder]}))}})})]},O),Object(W.jsx)("div",{style:{position:"relative",height:"50vh",cursor:0===M.length?"default":"text"},onClick:0===M.length?null:S})]})};function $t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r in e){var a=t?t+"."+r:r;"object"!==typeof e[r]||Array.isArray(e[r])?n[a]=e[r]:$t(e[r],a,n)}return n}var en=function(e){var t=e.block,n=e.onSaveBlock,o=Object(F.c)().getString,c=Object(v.a)(),i=Object(a.useState)(!1),l=Object(r.a)(i,2),s=l[0],u=l[1],d=Object(a.useCallback)((function(){return u(!0)}),[u]),b=Object(a.useCallback)((function(){return u(!1)}),[u]),j=Object(a.useState)(!1),p=Object(r.a)(j,2),h=p[0],k=p[1],I=Object(a.useCallback)((function(){return k(!0)}),[k]),B=Object(a.useCallback)((function(){return k(!1)}),[k]),P=Object(a.useState)(!1),E=Object(r.a)(P,2),R=E[0],T=E[1],A=Object(a.useCallback)((function(){return T(!0)}),[T]),D=Object(a.useCallback)((function(){return T(!1)}),[T]),M=t.type,L=t.properties,V=t.content,G=t.permissions,H=Object(a.useCallback)((function(e){if(e!==t.type){var r=Object(x.a)(Object(x.a)({},t),{},{type:e});c(r).then((function(e){n(e)}))}}),[t,c,n]),z=Object(a.useCallback)((function(e){if(e!==t.properties){var r=$t(t.properties),a=$t(e),o={};for(var i in a)a.hasOwnProperty(i)&&r[i]!==a[i]&&(o[i]=a[i]);for(var l in r)!r.hasOwnProperty(l)||a.hasOwnProperty(l)||o.hasOwnProperty(l)||(o[l]=null);o=function(e){var t={},n=function(n){var r=n.split(".");r.reduce((function(t,a,o){return t[a]||(t[a]=r.length-1===o?e[n]:{})}),t)};for(var r in e)n(r);return t}(o),Object.keys(o).length>0&&c({_id:t._id,properties:o}).then((function(e){n(e)}))}}),[t,c,n]),U=Object(a.useCallback)((function(e,r){"string"===typeof e&&c({_id:t._id,properties:Object(f.a)({},e,r)}).then((function(e){n(e)}))}),[t,c,n]),Z=Object(a.useCallback)((function(e){if(e!==t.content){var r={_id:t._id,content:e};c(r).then((function(e){n(e)}))}}),[t,c,n]),q=Object(a.useCallback)((function(e){if(e!==t.permissions){var r={_id:t._id,permissions:e};c(r).then((function(e){n(e)}))}}),[t,c,n]),Y=Object(a.useCallback)((function(){c(t).then((function(e){e._id!==t._id&&n(e)}))}),[c,t,n]),K=w.c;if(t&&t.computed&&t.computed.inherited_block_permissions&&Array.isArray(t.computed.inherited_block_permissions)){var X=t.computed.inherited_block_permissions.reduce((function(e,t){return e[t.email]=t.role,e}),{});"viewer"===X["@public"]||"editor"===X["@public"]||"owner"===X["@public"]?K=w.b:"viewer"!==X["@volteuropa.org"]&&"editor"!==X["@volteuropa.org"]&&"owner"!==X["@volteuropa.org"]||(K=w.a)}var Q=Object(W.jsxs)("div",{className:"buttonRow",style:{whiteSpace:"nowrap"},children:[s?Object(W.jsx)(J,{defaultBlock:t,open:s,onClose:b,onChange:z}):null,Object(W.jsxs)("button",{className:"text hasIcon",onClick:d,children:[Object(W.jsx)(g.a,{className:"icon"}),Object(W.jsx)("span",{className:"hideOnSmallScreen",style:{verticalAlign:"middle"},children:Object(W.jsx)(F.a,{id:"path_editor_share"})})]}),"divider"!==M?Object(W.jsxs)(W.Fragment,{children:[h?Object(W.jsx)(fe,{defaultBlock:t,open:h,onClose:B,onSaveProperty:U}):null,Object(W.jsxs)("button",{className:"text hasIcon",onClick:I,children:[Object(W.jsx)(C.a,{path:w.d,className:"icon"}),Object(W.jsx)("span",{className:"hideOnSmallScreen",style:{verticalAlign:"middle"},children:Object(W.jsx)(F.a,{id:"path_editor_translate"})})]})]}):null,R?Object(W.jsx)(He,{defaultPermissions:G,open:R,onClose:D,onChange:q}):null,Object(W.jsxs)("button",{className:"red hasIcon",onClick:A,children:[Object(W.jsx)(C.a,{path:K,className:"icon"}),Object(W.jsx)("span",{className:"hideOnSmallScreen",style:{verticalAlign:"middle"},children:Object(W.jsx)(F.a,{id:"path_editor_permissions"})})]}),Object(W.jsxs)("button",{className:"text hasIcon",onClick:Y,children:[Object(W.jsx)(_.a,{className:"icon"}),Object(W.jsx)("span",{className:"hideOnSmallScreen",style:{verticalAlign:"middle"},children:Object(W.jsx)(F.a,{id:"path_editor_publish"})})]}),Object(W.jsx)(S.a,{block:t,saveType:H,saveProperty:U,typeOptions:["page","redirect"],trigger:function(e){return Object(W.jsx)("button",Object(x.a)(Object(x.a)({},e),{},{className:"default hasIcon",children:Object(W.jsx)(y.a,{className:"icon"})}))}})]}),$=t.properties.text||o("placeholder_main_headline"),ee="\u270d\ufe0f ".concat($);return Object(W.jsxs)("div",{className:"hasHeader ".concat(N.a.editor," ").concat("string"===typeof M&&""!==M?N.a["type_"+M]:""),children:[Object(W.jsxs)(m.a,{children:[Object(W.jsx)("title",{children:ee}),Object(W.jsx)("meta",{name:"title",content:ee}),Object(W.jsx)("meta",{name:"og:title",content:ee}),Object(W.jsx)("meta",{name:"twitter:title",content:ee}),Object(W.jsx)("meta",{name:"description",content:""}),Object(W.jsx)("meta",{property:"og:description",content:""}),Object(W.jsx)("meta",{name:"twitter:description",content:""}),Object(W.jsx)("meta",{property:"og:image",content:""}),Object(W.jsx)("meta",{name:"twitter:image",content:""}),Object(W.jsx)("meta",{property:"twitter:card",content:"summary"})]}),Object(W.jsx)(O.a,{block:t,title:$,rightActions:Q}),Object(W.jsx)(mt,{type:M,defaultProperties:L,onChange:z}),Object(W.jsx)(Qt,{parentId:t._id||null,onChange:Z,defaultValue:V})]},t._id)};t.default=function(){var e=Object(s.a)(),t=Object(a.useRef)(!1),n=Object(c.h)().id,o=void 0===n?"":n,i=Object(a.useState)({type:"page",properties:{},content:[]}),d=Object(r.a)(i,2),f=d[0],x=d[1],v=Object(a.useCallback)((function(e){x(e)}),[x]),m=Object(a.useState)(null),g=Object(r.a)(m,2),_=g[0],y=g[1],k=function(){var e=Object(j.a)(),t=Object(a.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise((function(r){t&&""!==t?e.query({query:p.a,variables:{_id:t,roles:n}}).then(function(){var e=Object(u.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.data).hasOwnProperty("blockMatchesRoles")?r(n.blockMatchesRoles):r(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(u.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("error",t),r(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):r(!1)}))}),[e]);return t}();return Object(a.useEffect)((function(){k(o,["editor","owner"]).then((function(e){y(e)})).catch((function(e){console.error(e),y(!1)}))}),[o,k,y]),Object(a.useEffect)((function(){!_||"string"!==typeof o||""===o||t.current&&o===f._id||e(o).then((function(e){"object"===typeof e&&null!==e&&(t.current=!0,v(e))})).catch((function(e){console.error(e)}))}),[_,o,f,e,v]),!1===_?Object(W.jsxs)("div",{className:l.a.editor,children:[Object(W.jsx)(O.a,{block:null,title:"Error",rightActions:null}),Object(W.jsx)("div",{className:"basis_x1 ".concat(l.a.app," ").concat(l.a.spine_aligned),dir:"auto",children:Object(W.jsx)("main",{className:"".concat(l.a.contentWrapper),children:Object(W.jsx)(h.default,{errorName:"no_access"})})})]}):!0===_?Object(W.jsx)(en,{block:f,onSaveBlock:v}):null}}}]);
//# sourceMappingURL=5.3c88af2b.chunk.js.map
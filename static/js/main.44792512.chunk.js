(this["webpackJsonpedit.volt.link"]=this["webpackJsonpedit.volt.link"]||[]).push([[2],{123:function(e,t,n){e.exports={drag_over:"DataTransmat_drag_over__3XVzh",drag_active:"DataTransmat_drag_active__2nwCM"}},130:function(e,t,n){"use strict";var r=n(6),a=n(5),c=n(0),o=n(137),i=n(1),s=function(e){var t=e.className,n=e.style,s=e.emoji,l=void 0===s?"":s,u=Object(c.useState)({__html:""}),d=Object(a.a)(u,2),b=d[0],j=d[1];return Object(c.useEffect)((function(){if("string"===typeof l&&l.length>0){var e=o.a.parse(l,{folder:"svg",ext:".svg",base:"/public/twemoji/assets/"});j({__html:e})}else j({__html:""})}),[l,j]),Object(i.jsx)("span",{className:t,style:Object(r.a)({fontSize:0},n),dangerouslySetInnerHTML:b})};t.a=Object(c.memo)(s)},136:function(e,t,n){"use strict";var r=n(0),a=n(108);t.a=function(){var e=Object(a.a)();return Object(r.useCallback)((function(t){return new Promise((function(n,r){e.mutate(t).then((function(e){var t=e.data;"string"===typeof t.error?r(t.error):n(t)})).catch(r)}))}),[e])}},144:function(e,t,n){e.exports={header:"Header_header__3mObx",headerBar:"Header_headerBar__2YU41",notificationBanner:"Header_notificationBanner__104SP"}},152:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(6),a=n(21),c=n(5),o=n(10),i=n.n(o),s=n(0),l=n(144),u=n.n(l),d=n(358),b=n(359),j=n(360),p=n(51),f=n(92),O=n(79),h=n(96),v=n(108),g=n(52),m=n(1);function x(e){e.title;var t=e.block,n=void 0===t?{}:t,o=e.rightActions,l=e.notificationBanner,x=Object(f.e)(),y=x.open,_=x.toggleSidebar,k=Object(v.a)(),w=n?n._id:null,S=n?n.parent:null,I=Object(s.useState)([]),A=Object(c.a)(I,2),C=A[0],B=A[1],E=Object(s.useCallback)((function(e){k.query({query:g.e,variables:{_id:e}}).then(function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"!==typeof(n=t.data).error&&n.blocks?(r=(n.blocks||[]).sort((function(e,t){return t.computed.sort-e.computed.sort})),B(r)):(console.error(n.error),B([]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("error",t),B([]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[k,B]);Object(s.useEffect)((function(){w&&E(w)}),[w,S,E]);var N=Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{style:{flexGrow:"1",display:"flex",alignItems:"center",height:"32px"},children:[y?Object(m.jsx)(p.b,{to:"/",children:Object(m.jsx)("button",{className:"text hasIcon",style:{margin:"0 calc(-2 * var(--basis)) 0 0"},children:Object(m.jsx)(d.a,{className:"icon"})})}):Object(m.jsx)("button",{onClick:_,className:"text hasIcon",style:{margin:"0 calc(-2 * var(--basis)) 0 0"},children:Object(m.jsx)(b.a,{className:"icon"})}),Object(m.jsx)("span",{style:{margin:"var(--basis_x2)",opacity:"var(--alpha)"},children:"/"}),w&&C.length>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(h.a,{trigger:function(e){return Object(m.jsx)("button",Object(r.a)(Object(r.a)({},e),{},{className:"text",style:{margin:"0 calc(-2 * var(--basis))"},children:Object(m.jsx)(j.a,{style:{verticalAlign:"middle"}})}))},children:Object(m.jsx)("div",{style:{padding:"var(--basis_x2)"},children:C.map((function(e){return Object(m.jsx)(O.a,{block:e,size:"line"},e._id)}))})}),Object(m.jsx)("span",{style:{margin:"var(--basis_x2)",opacity:"var(--alpha)"},children:"/"})]}):null,Object(m.jsx)(O.a,{block:n,size:"line",parentProps:{style:{flexGrow:"0",margin:"0 calc(-2 * var(--basis))"}}},n)]})});return Object(m.jsxs)("header",{className:u.a.header,children:[Object(m.jsxs)("div",{className:u.a.headerBar,children:[N,o]}),l?Object(m.jsx)("div",{className:u.a.notificationBanner,children:l}):null]})}},154:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return x}));var r=n(16),a=n(13),c=n(5),o=n(21),i=n(10),s=n.n(i),l=n(0),u=n(106),d=n(124),b=n(101),j=n(1),p={de:"Deutsch (German)",en:"English",it:"Italiano (Italian)",se:"Davvis\xe1megiella (Northern Sami)",fr:"Fran\xe7ais (French)",es:"Espa\xf1ol (Spanish)",nl:"Dutch (Nederlands)"},f=Object.keys(p),O="en";function h(e){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(s.a.mark((function e(t){var r,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(337)("./"+t+".ftl");case 2:return r=e.sent,e.next=5,fetch(r.default);case 5:return c=e.sent,e.next=8,c.text();case 8:return o=e.sent,e.abrupt("return",Object(a.a)({},t,new d.b(o)));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(h));case 2:return n=e.sent,a=n.reduce((function(e,t){return Object.assign(e,t)})),e.abrupt("return",s.a.mark((function e(){var n,c,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(r.a)(t),e.prev=1,n.s();case 3:if((c=n.n()).done){e.next=11;break}return o=c.value,(i=new d.a(o)).addResource(a[o]),e.next=9,i;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){var t=e.userLocales,n=e.children,r=e.onLocaleChange,a=Object(l.useState)(function(){var e=new d.a("");return e.addResource(new d.b("")),new u.c([e])}()),i=Object(c.a)(a,2),p=i[0],h=i[1];return Object(l.useEffect)((function(){function e(){return(e=Object(o.a)(s.a.mark((function e(){var n,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(b.negotiateLanguages)(t,f,{defaultLocale:O}),r&&r(n),e.next=4,g(n);case 4:a=e.sent,(c=new u.c(a())).userLocales=t,c.defaultLocale=O,c.supportedLocales=f,h(c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,r]),p?Object(j.jsx)(u.a,{l10n:p,children:n}):Object(j.jsx)("div",{children:"Loading texts\u2026"})}},157:function(e,t,n){e.exports={app:"App_app__3hbGO",isStartpage:"App_isStartpage__1Q6rs"}},158:function(e,t,n){e.exports={main:"Sidebar_main__1MCX5",open:"Sidebar_open__gnBQb"}},161:function(e,t,n){var r=n(101).negotiateLanguages;function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["en"],n=Object.keys(e);if(0===n.length)return null;var a=r(t,n,{defaultLocale:n[0],strategy:"lookup"});return 0===a.length?null:e[a[0]]}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["en"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"locale",a=e.map((function(e){return e[n]})).filter(Boolean);if(0===a.length)return null;var c=r(t,a,{defaultLocale:a[0],strategy:"lookup"});return 0===c.length?null:e.filter((function(e){return e[n]===c[0]}))}e.exports={fluentByObject:a,fluentByArray:c,fluentByAny:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["en"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(Array.isArray(e)){var r=c(e,t);Array.isArray(r)&&r.length>0&&(e=r[0].value)}else"object"===typeof e&&(e=a(e,t));return"string"!==typeof e&&(e=n),e}}},171:function(e,t,n){"use strict";var r=n(21),a=n(10),c=n.n(a),o=n(0),i=n(108),s=n(52);t.a=function(){var e=Object(i.a)(),t=Object(o.useCallback)((function(t){return new Promise((function(n){e.query({query:s.d,variables:t}).then(function(){var e=Object(r.a)(c.a.mark((function e(t){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.errors,a=t.data,!(Array.isArray(r)&&r.length>0)){e.next=5;break}throw r;case 5:if(!Array.isArray(a.blocks)){e.next=9;break}n(a.blocks),e.next=10;break;case 9:throw new Error("Unknown error while loading blocks.");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("error",t),n([]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}),[e]);return t}},172:function(e,t,n){"use strict";var r=n(15),a=n(21),c=n(5),o=n(10),i=n.n(o),s=n(0),l=n(20),u=n(51),d=n(225),b=n(228),j=n(345),p=n(227),f=n(460),O=n(347),h=n(348),v=n(354),g=n(350),m=n(352),x=n(226),y=n(430),_=n(431),k=n(432),w=n(433),S=n(434),I=n(435),A=n(436),C=n(437),B=n(438),E=n(439),N=n(440),P=n(441),R=n(18),T=n(40),L=n(185),D=n(80),$=n(96),F=n(6),q=n(368),V=n(463),M=n(429),z=n(1);function H(e){var t=e.name,n=void 0===t?"":t,r=e.disabled,a=void 0!==r&&r,c=e.label,o=void 0===c?"":c,i=e.triggerProps,l=void 0===i?{}:i,u=e.onToggle,d=void 0===u?null:u,j=e.open,p=void 0!==j&&j,f=e.children,O=Object(s.useCallback)((function(){!0!==a&&"function"===typeof d&&d({name:n})}),[a,d,n]),h={};return h=!0===p?{margin:"var(--basis)",boxShadow:"0 var(--basis_x0_5) var(--basis_x4) 0 rgba(var(--on-background-rgb), 0.4)",padding:"8px 0",background:"var(--background-contrast)"}:{margin:"0",boxShadow:"none",background:"transparent"},Object(z.jsxs)(q.a,{sx:Object(F.a)({color:"var(--on-background)",overflow:"hidden",transition:"padding 0.1s ease-in-out, margin 0.1s ease-in-out, box-shadow 0.1s ease-in-out",borderRadius:"var(--basis_x2)"},h),children:[null!==o?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(V.a,{onClick:O,style:{whiteSpace:"nowrap",lineHeight:"1",margin:"0",padding:"0",backgroundColor:"transparent",color:"var(--on-background)"},children:Object(z.jsxs)(b.a,Object(F.a)(Object(F.a)({},l),{},{disabled:a,className:"roundMenuItem",style:Object(F.a)({display:"flex",justifyContent:"space-between"},l.style),children:[Object(z.jsx)("div",{style:{display:"flex"},children:o}),Object(z.jsx)(M.a,{style:{marginRight:"-10px",transition:"transform 0.1s ease-in-out",transform:!0===p?"rotate(90deg)":""}})]}))}),!0===p?Object(z.jsx)("div",{style:{height:"12px"}}):null]}):null,!0===p?f:null]})}n(230);var U=n(58),W=n(136),G={button:Object(z.jsx)(O.a,{}),text:Object(z.jsx)(h.a,{}),image:Object(z.jsx)(v.a,{}),divider:Object(z.jsx)(g.a,{}),page:Object(z.jsx)(m.a,{}),redirect:Object(z.jsx)(x.a,{})},J=["button","text","image","divider","page","redirect"],K={default:"var(--on-background)",yellow:"var(--yellow)",green:"var(--green)",red:"var(--red)",blue:"var(--blue)"},X=Object.keys(K);function Q(e){if(K.hasOwnProperty(e))return K[e];var t=Object(T.getBlockColor)({properties:{color:e}}).color;return t||e}t.a=Object(R.d)((function(e){var t=e.block,n=void 0===t?{}:t,o=e.getString,O=e.trigger,h=e.onToogle,v=e.saveType,g=e.saveProperty,m=e.typeOptions,x=void 0===m?J:m,F=(e.onRemoveRow,e.addRowBefore,e.onArchivedToggle),q=void 0===F?null:F,V=e.onReloadContext,M=void 0===V?null:V,K=Object(D.a)(),Y=K.loggedIn,Z=K.userroles;n.hasOwnProperty("properties")&&"object"===typeof n.properties&&null!==n.properties&&!Array.isArray(n.properties)||(n.properties={});var ee=n._id,te=void 0===ee?"":ee,ne=n.type,re=void 0===ne?"":ne,ae=n.properties,ce=void 0===ae?{}:ae,oe=n.computed,ie=void 0===oe?{}:oe,se=ce.active,le=void 0===se||se,ue=ce.text_style,de=void 0===ue?null:ue,be=ce.text_decorations,je=void 0===be?[]:be,pe=ce.color,fe=void 0===pe?null:pe;Array.isArray(je)||(je=[]);var Oe=(null===ie?{}:ie).roles,he=void 0===Oe?[]:Oe,ve=Y&&(Z.includes("admin")||he.includes("owner")||he.includes("editor")),ge=Object(s.useState)(!0===ce.archived),me=Object(c.a)(ge,2),xe=me[0],ye=me[1],_e=Object(L.a)(),ke=Object(s.useState)(null),we=Object(c.a)(ke,2),Se=we[0],Ie=we[1],Ae=Object(s.useCallback)((function(e){Ie((function(t){return t===e?null:e}))}),[]),Ce=Object(W.a)(),Be=Object(l.g)(),Ee=(Object(s.useCallback)(function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.type,e.prev=1,!("string"===typeof n&&n.length>0)){e.next=12;break}return e.next=5,Ce({mutation:U.c,variables:{block:{type:n}}});case 5:if(r=e.sent,null===(a=r.saveBlock)){e.next=12;break}return e.next=10,Ce({mutation:U.b,variables:{movingBlockId:a,newParentId:te,newIndex:0}});case 10:"function"===typeof M&&M(),Be("/".concat(a,"/edit"));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),[Ce,te,M,Be]),Object(s.useCallback)((function(){var e=!xe;_e({_id:n._id,archive:e}).then((function(){ye(e),"function"===typeof q&&q(e),"function"===typeof M&&M()})).catch(console.error)}),[_e,ye,xe,n,q,M])),Ne=Object(s.useCallback)((function(){"function"===typeof g&&g("active",!le)}),[le,g]),Pe=n.metadata||{},Re=Object(T.getBlockColor)(n).color;Re||(Re="transparent");var Te=Object(s.useCallback)((function(e){var t=Object(r.a)(new Set(je));je.includes(e)?t=t.filter((function(t){return t!==e})):t.push(e),g("text_decorations",t)}),[je,g]);return Object(z.jsx)($.a,{trigger:O,onToogle:h,children:function(e){e.open;return Object(z.jsxs)("div",{children:[Object(z.jsx)("div",{style:{height:"8px"}}),ve&&"function"===typeof v&&Array.isArray(x)&&x.length>0&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(H,{disabled:"person"===re,name:"type",open:"type"===Se,onToggle:function(e){var t=e.name;return Ae(t)},label:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(d.a,{children:Object(z.jsx)(y.a,{})}),Object(z.jsx)(R.a,{id:"block_menu_choose_type_label"})]}),children:x.map((function(e){return Object(z.jsxs)(b.a,{selected:e===re,onClick:function(){return v(e)},className:"roundMenuItem",children:[Object(z.jsx)(d.a,{children:G[e]}),o("block_menu_type_label_".concat(e),e)]},e)}))}),Object(z.jsx)(j.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}})]}),ve&&"function"===typeof g&&Object(z.jsxs)(H,{name:"color",open:"color"===Se,onToggle:function(e){var t=e.name;return Ae(t)},label:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(d.a,{children:Object(z.jsx)(_.a,{style:{color:Q(fe)}})}),Object(z.jsx)(R.a,{id:"block_menu_choose_color_label"})]}),children:[X.map((function(e){return Object(z.jsxs)(b.a,{selected:"default"===e?null===fe:fe===e,onClick:function(){return g("color","default"===e?null:e)},className:"roundMenuItem",children:[Object(z.jsx)(d.a,{children:Object(z.jsx)(k.a,{style:{color:Q(e)}})}),e]},e)})),Object(z.jsxs)(b.a,{className:"roundMenuItem",selected:null!==fe&&!X.includes(fe),children:[Object(z.jsx)(d.a,{children:Object(z.jsx)(k.a,{style:{color:Re}})}),Object(z.jsx)("input",{type:"text",placeholder:"#FFFFFF",defaultValue:fe,onBlur:function(e){return g("color",e.target.value)},style:{width:"160px",margin:"0 calc(-1 * var(--basis)) 0 0"}},X.includes(fe)?fe:"custom")]})]}),ve&&"function"===typeof g&&"text"===re&&Object(z.jsx)(H,{name:"text_style",open:"text_style"===Se,onToggle:function(e){var t=e.name;return Ae(t)},label:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(d.a,{children:Object(z.jsx)(w.a,{})}),Object(z.jsx)(R.a,{id:"block_menu_choose_text_style_label"})]}),children:["h2","h3","body"].map((function(e){return Object(z.jsx)(b.a,{selected:"body"===e?null===de:de===e,onClick:function(){return g("text_style","body"===e?null:e)},className:"roundMenuItem",children:o("block_menu_text_style_label_".concat(e),e)},e)}))}),ve&&"function"===typeof g&&"text"===re&&Object(z.jsx)(H,{name:"text_decorations",open:"text_decorations"===Se,onToggle:function(e){var t=e.name;return Ae(t)},label:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(d.a,{children:Object(z.jsx)(S.a,{})}),Object(z.jsx)(R.a,{id:"block_menu_choose_text_decorations_label"})]}),children:["checkbox"].map((function(e){var t=je.includes(e);return Object(z.jsxs)(b.a,{selected:t,onClick:function(){return Te(e)},className:"roundMenuItem",children:[Object(z.jsx)(d.a,{children:t?Object(z.jsx)(I.a,{}):Object(z.jsx)(I.a,{style:{opacity:0}})}),o("block_menu_text_decoration_label_".concat(e),e)]},e)}))}),ve&&"function"===typeof g&&Object(z.jsx)(j.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}}),!1,ve&&"function"===typeof g&&Object(z.jsxs)(b.a,{className:"roundMenuItem",onClick:Ne,children:[Object(z.jsx)(d.a,{children:le?Object(z.jsx)(A.a,{}):Object(z.jsx)(C.a,{})}),Object(z.jsx)(p.a,{primary:Object(z.jsx)("span",{children:le?Object(z.jsx)(R.a,{id:"block_menu_hide"}):Object(z.jsx)(R.a,{id:"block_menu_show"})}),secondary:Object(z.jsx)("span",{style:{whiteSpace:"normal"},children:Object(z.jsx)(R.a,{id:"block_menu_hide_show_description"})})})]}),ve&&"function"===typeof q&&Object(z.jsxs)(b.a,{className:"roundMenuItem",onClick:Ee,children:[Object(z.jsx)(d.a,{children:!0===xe?Object(z.jsx)(B.a,{}):Object(z.jsx)(E.a,{})}),!0===xe?Object(z.jsx)(R.a,{id:"block_menu_unarchive"}):Object(z.jsx)(R.a,{id:"block_menu_archive"})]}),("function"===typeof g||"function"===typeof q)&&Object(z.jsx)(j.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}}),"string"===typeof te&&""!==te&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(b.a,{component:u.b,to:"/".concat(te,"/view"),className:"roundMenuItem",style:{marginTop:"8px"},children:[Object(z.jsx)(d.a,{children:Object(z.jsx)(N.a,{})}),Object(z.jsx)(R.a,{id:"view_block"})]}),ve&&Object(z.jsxs)(b.a,{component:u.b,to:"/".concat(te,"/edit"),className:"roundMenuItem",children:[Object(z.jsx)(d.a,{children:Object(z.jsx)(P.a,{})}),Object(z.jsx)(R.a,{id:"edit_block"})]}),Object(z.jsx)(j.a,{style:{opacity:.2,marginTop:"8px",marginBottom:"8px"}})]}),Object(z.jsx)(f.a,{sx:{paddingTop:"0",paddingBottom:"0"},children:Object(z.jsx)(p.a,{primary:Object(z.jsx)("span",{children:Object(z.jsx)(R.a,{id:"block_menu_info_modified"})}),secondary:Object(z.jsx)("span",{children:(Pe.modified||"").replace(/[TZ]/g," ")})})}),Object(z.jsx)(f.a,{sx:{paddingTop:"0",paddingBottom:"0"},children:Object(z.jsx)(p.a,{primary:Object(z.jsx)("span",{children:Object(z.jsx)(R.a,{id:"block_menu_info_id"})}),secondary:Object(z.jsx)("span",{children:te})})})]})}})}))},175:function(e,t,n){"use strict";var r=n(6),a=n(5),c=n(0),o=n(364),i=n(343),s=n(1);t.a=function(e){var t=e.trigger,n=e.children,l=void 0===n?function(){}:n,u=e.onToogle,d=void 0===u?function(){}:u,b=e.setOpenBlockMenuRef,j=Object(c.useRef)(null),p=Object(c.useState)(!1),f=Object(a.a)(p,2),O=f[0],h=f[1],v=Object(c.useCallback)((function(e){h(e)}),[h]);Object(c.useEffect)((function(){b&&(b.current=v)}),[v,b]);var g=function(){d(!1),h(!1)},m=O?"popover-"+(Math.random()+1).toString(36).substring(7):void 0;return Object(s.jsxs)(s.Fragment,{children:[t({ref:j,"aria-describedby":m,onClick:function(){h((function(e){return d(!e),!e}))},style:{pointerEvents:O?"none":"all"}},{isOpen:O}),Object(s.jsx)("div",{onClick:g,style:{display:O?"block":"none",position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:1299,cursor:"pointer"}}),Object(s.jsx)(o.a,{id:m,open:O,anchorEl:j.current,transition:!0,placement:"bottom-start",disablePortal:!1,modifiers:[{name:"flip",enabled:!0,options:{altBoundary:!0,rootBoundary:"viewport",padding:8}}],style:{zIndex:1300},children:function(e){var t=e.TransitionProps;return Object(s.jsx)(i.a,Object(r.a)(Object(r.a)({},t),{},{children:Object(s.jsx)("div",{children:l&&"function"===typeof l?l({open:O,style:{transformOrigin:"top left"},closePopover:g}):null})}))}})]})}},176:function(e,t,n){"use strict";var r=n(6),a=n(5),c=n(0),o=n(1);t.a=function(e){var t=e.ariaLabel,n=e.items,i=e.defaultValue,s=e.onChange,l=e.style,u=void 0===l?{}:l,d=e.buttonProps,b=void 0===d?{}:d,j=e.className,p=void 0===j?"":j,f=Object(c.useState)(),O=Object(a.a)(f,2),h=O[0],v=O[1];Object(c.useEffect)((function(){return v(i)}),[i,v]);var g=Object(c.useCallback)((function(e){var t=e.target.dataset.value;v(t),s&&s(t)}),[v,s]);return Object(o.jsx)("div",{"aria-label":t,className:"buttonRow "+(p||""),style:u,children:n.map((function(e){var t=e.value,n=e.title,a=e.icon||null;return Object(c.createElement)("button",Object(r.a)(Object(r.a)({},b),{},{key:t,className:"default ".concat(h===t?"choosen":""," ").concat(a?"hasIcon":""," ").concat((null===b||void 0===b?void 0:b.className)||""),onClick:g,"data-value":t}),Object(o.jsxs)("span",{style:{pointerEvents:"none"},children:[a||null,n?"object"===typeof n?n:Object(o.jsx)("span",{style:{verticalAlign:"middle"},children:n}):null]}))}))})}},18:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h}));var r=n(15),a=n(16),c=n(6),o=n(0),i=n.n(o),s=n(106),l=n(101),u=n(60),d=n(161),b=n.n(d),j=n(1),p=function(e){return Object(j.jsx)(s.b,Object(c.a)(Object(c.a)({},e),{},{elems:Object(c.a)({br:Object(j.jsx)("br",{})},e.elems),children:Object(j.jsx)(i.a.Fragment,{children:e.children})}),e.id)};function f(e){return function(t){var n=i.a.useContext(u.a);return i.a.createElement(e,Object(c.a)({fluentByObject:function(e,t){if(t||(t=null),e){var r,c=n.supportedLocales||[],o=Object.keys(e).filter((function(e){return c.includes(e)})),i=Object(l.negotiateLanguages)(n.userLocales,o,{defaultLocale:n.defaultLocale}),s=Object(a.a)(i);try{for(s.s();!(r=s.n()).done;){var u=r.value;if(e[u])return e[u]}}catch(d){s.e(d)}finally{s.f()}return t}return t},getString:function(e,t,r){return n.getString(e,t,r||"")}},t))}}function O(e,t,n){var a=e.properties||{},c=a.locale||"en",o=a.text||n||"";t&&Array.isArray(t)||(t=[c]);var i=a.translations||[];if(Array.isArray(i)){i=[{locale:c,text:o}].concat(Object(r.a)(i));var s=b.a.fluentByArray(i,t,"locale");s.length>0&&(o=s[0].text)}return o}function h(){var e=i.a.useContext(u.a);return Object(c.a)(Object(c.a)({},e),{},{userLocales:e.userLocales||[],getString:function(t,n,r){return e.getString(t,n,r||" ")},fluentByAny:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return b.a.fluentByAny(t,e.userLocales,n)},translateBlock:O})}},185:function(e,t,n){"use strict";var r=n(0),a=n(108),c=n(58);t.a=function(){var e=Object(a.a)();return Object(r.useCallback)((function(t){var n=t._id,r=t.archive;return e.mutate({mutation:r?c.a:c.d,variables:{_id:n}})}),[e])}},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(6),a=n(24),c=n(355),o=n(226),i=n(356),s=n(357),l=n(130),u=n(40),d=n(76),b=n.n(d),j=n(0),p=n(1),f=["block","style","className"];function O(e){var t=e.block,n=e.style,d=void 0===n?{}:n,O=e.className,h=void 0===O?"":O,v=Object(a.a)(e,f),g=t.properties||{},m=null;if(g.hasOwnProperty("icon")&&"object"===typeof g.icon&&null!==g.icon&&!Array.isArray(g.icon)&&g.icon.hasOwnProperty("type")&&"string"===typeof g.icon.type&&"emoji"===g.icon.type&&g.icon.hasOwnProperty("emoji")&&"string"===typeof g.icon.emoji&&0!==g.icon.emoji.length&&(m=Object(j.createElement)(l.a,Object(r.a)(Object(r.a)({},v),{},{style:d,key:g.icon.emoji,className:"".concat(b.a.icon," ").concat(h),emoji:g.icon.emoji}))),null===m){var x=!1,y=Object(u.getImageUrl)(g.icon);y||(x=!0,y=Object(u.getImageUrl)(g.coverphoto)),"string"===typeof y&&0!==y.length&&(m=Object(p.jsx)("div",Object(r.a)(Object(r.a)({},v),{},{className:"".concat(b.a.icon," ").concat(x?b.a.square:b.a.round," ").concat(h),style:Object(r.a)(Object(r.a)({},d),{},{backgroundImage:"url(".concat(window.domains.backend,"download_url?f=").concat(window.imageFormat||"jpg","&w=40&h=40&url=").concat(encodeURIComponent(y),")")}),alt:""})))}if(null===m)switch(t.type){case"person":m=Object(p.jsx)(c.a,Object(r.a)(Object(r.a)({},v),{},{style:d,className:"".concat(b.a.icon," ").concat(h)}));break;case"redirect":m=Object(p.jsx)(o.a,Object(r.a)(Object(r.a)({},v),{},{style:d,className:"".concat(b.a.icon," ").concat(h)}));break;case"website":m=Object(p.jsx)(i.a,Object(r.a)(Object(r.a)({},v),{},{style:d,className:"".concat(b.a.icon," ").concat(h)}));break;default:m=Object(p.jsx)(s.a,Object(r.a)(Object(r.a)({},v),{},{style:d,className:"".concat(b.a.icon," ").concat(h)}))}return m}},203:function(e,t,n){"use strict";var r=n(21),a=n(10),c=n.n(a),o=n(0),i=n(18),s=n(108),l=n(52),u=n(99);t.a=function(){var e=Object(i.c)().getString,t=Object(s.a)(),n=Object(u.b)(),a=n.enqueueSnackbar,d=n.closeSnackbar,b=Object(o.useCallback)((function(e){return new Promise((function(n){if(e&&""!==e){var r=[];"object"!==typeof window.SERVER_DATA||null===window.SERVER_DATA||Array.isArray(window.SERVER_DATA)||(r=window.SERVER_DATA.preloaded_blocks||[]),Array.isArray(r)||(r=[]),(r=r.filter((function(t){var n;return null!==(null===t||void 0===t?void 0:t._id)&&((null===t||void 0===t?void 0:t._id)===e||(null===t||void 0===t||null===(n=t.properties)||void 0===n?void 0:n.slug)===e)}))).length>0?(window.SERVER_DATA={preloaded_blocks:null},n(r)):t.query({query:l.c,variables:{slugs:[e],ids:[e].filter((function(e){return 24===e.length}))}}).then((function(e){var t=e.errors,r=e.data;if(Array.isArray(t))n(null);else if(Array.isArray(r.blocks)&&r.blocks.length>0){var a=r.blocks.filter((function(e){return null!==(null===e||void 0===e?void 0:e._id)}));a.length>0?n(a):n(null)}else n(null)})).catch((function(e){console.error("error",e),n(null)}))}else n(null)}))}),[t]),j=Object(o.useCallback)((function(e){return new Promise((function(n){e&&""!==e?t.query({query:l.a,variables:{slug:e}}).then((function(e){var t=e.errors,r=e.data;Array.isArray(t)?n(null):null!==r.block?n(r.block):n(null)})).catch((function(e){console.error("error",e),n(null)})):n(null)}))}),[t]),p=Object(o.useCallback)((function(t){return new Promise((function(n,o){var i=null;if(t&&""!==t){var s=new Promise(function(){var e=Object(r.a)(c.a.mark((function e(r){var s,l,u,p,f,O,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==(s=!1)||"string"!==typeof t||""===t){e.next=6;break}return e.next=4,b(t);case 4:l=e.sent,Array.isArray(l)&&(1===l.length?(s=!0,r("got-data"),null!==i&&d(i),n(l[0])):l.length>1&&(s=!0,r("got-error"),null!==i&&d(i),o({code:"300",blocks:l}),a("Error 300: Multiple blocks found..",{variant:"error",preventDuplicate:!0,autoHideDuration:2e3})));case 6:if(!1!==s||"string"!==typeof t||""===t){e.next=21;break}return e.next=9,j(t);case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0={};case 12:u=e.t0,p=u.existsAsSlug,f=void 0!==p&&p,O=u.existsAsId,h=void 0!==O&&O,s=!0,r("got-error"),null!==i&&d(i),!0===h||!0===f?(o({code:"403"}),a("Error 403: You are not allowed to view this page.",{variant:"error",preventDuplicate:!0,autoHideDuration:2e3})):(o({code:"404"}),a("Error 404: The page does not exist.",{variant:"error",preventDuplicate:!0,autoHideDuration:2e3}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.race([new Promise((function(e){setTimeout((function(){e("show-loading")}),300)})),s]).then((function(t){"show-loading"===t&&(i=a(e("path_editor_status_started_loading"),{persist:!0,preventDuplicate:!0}))})).catch((function(e){return console.error}))}else o({code:"404"})}))}),[b,j,a,d,e]);return p}},217:function(e,t,n){e.exports={root:"ViewerAuto_root__1p6KG"}},230:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(228),a=n(225),c=n(227),o=n(347),i=n(348),s=n(349),l=n(350),u=n(351),d=n(352),b=n(353),j=n(226),p=n(354),f=n(80),O=n(96),h=n(18),v=n(1),g={button:Object(v.jsx)(o.a,{}),text:Object(v.jsx)(i.a,{}),code:Object(v.jsx)(s.a,{}),divider:Object(v.jsx)(l.a,{}),checkbox:Object(v.jsx)(u.a,{}),page:Object(v.jsx)(d.a,{}),person:Object(v.jsx)(b.a,{}),redirect:Object(v.jsx)(j.a,{}),image:Object(v.jsx)(p.a,{})},m=["page","redirect"];function x(e){var t=e.createBlock,n=e.types,o=e.close,i=void 0===o?null:o;return n&&Array.isArray(n)||(n=m),Object(v.jsx)(v.Fragment,{children:n.map((function(e){return Object(v.jsxs)(r.a,{className:"roundMenuItem",onClick:function(){return t({type:e,close:i})},children:[Object(v.jsx)(a.a,{children:g[e]}),Object(v.jsx)(c.a,{children:Object(v.jsx)(h.a,{id:"block_menu_type_label_"+e})})]},e)}))})}function y(e){var t=e.trigger,n=e.createBlock,r=e.types;return Object(f.a)().loggedIn?Object(v.jsx)(O.a,{trigger:t,children:function(e){var t=e.close;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{marginTop:"8px"}}),Object(v.jsx)(x,{createBlock:n,types:r,close:t})]})}}):null}},247:function(e,t,n){},332:function(e,t){},337:function(e,t,n){var r={"./de.ftl":[372,9],"./en.ftl":[373,10],"./es.ftl":[374,11],"./fr.ftl":[375,12],"./it.ftl":[376,13],"./nl.ftl":[377,14],"./se.ftl":[378,15]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=337,e.exports=a},338:function(e,t,n){"use strict";n.r(t);var r=n(16),a=n(5),c=n(0),o=n.n(c),i=n(206),s=(n(247),n(75)),l=n.n(s),u=n(157),d=n.n(u),b=n(20),j=n(92),p=n(129),f=n(6),O=n(21),h=n(10),v=n.n(h),g=n(453),m=n(168),x=n(457),y=n(352),_=n(353),k=n(226),w=n(356),S=n(445),I=n(446),A=n(447),C=n(70),B=n.n(C),E=n(172),N=n(79),P=n(176),R=n(108),T=n(52),L=n(58),D=n(18),$=n(1),F={page:Object($.jsx)(y.a,{}),person:Object($.jsx)(_.a,{}),redirect:Object($.jsx)(k.a,{}),website:Object($.jsx)(w.a,{})},q=["everything","page","redirect","person","website"];var V=function(){var e=Object(R.a)(),t=Object(c.useState)(!1),n=Object(a.a)(t,2),r=n[0],o=n[1],i=Object(c.useState)([]),s=Object(a.a)(i,2),l=s[0],u=s[1],d=Object(c.useState)([]),b=Object(a.a)(d,2),j=b[0],p=b[1],h=Object(c.useRef)(""),y=Object(c.useState)(q[0]),_=Object(a.a)(y,2),k=_[0],w=_[1],C=Object(c.useState)(!1),V=Object(a.a)(C,2),M=V[0],z=V[1],H=Object(c.useState)(""),U=Object(a.a)(H,2),W=U[0],G=U[1];Object(m.a)("cmd+k, ctrl+k",(function(e){e.preventDefault(),o(!0)}),{}),Object(m.a)("esc",(function(e){e.preventDefault(),o(!1)}),{enableOnTags:["INPUT","SELECT","TEXTAREA"],enableOnContentEditable:!0}),Object(c.useEffect)((function(){}),[]);var J=Object(c.useCallback)((function(e){"Enter"===e.key&&e.target&&e.target.blur()}),[]);Object(c.useEffect)((function(){var e=function(){return o(!0)},t=function(){return o(!1)};return window.addEventListener("open_search",e),window.addEventListener("close_search",t),function(){window.removeEventListener("open_search",e),window.removeEventListener("close_search",t)}}),[o]);var K=Object(c.useCallback)(function(){var t=Object(O.a)(v.a.mark((function t(n,r,a){var c,o,i,s,l,d;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.length>0){c="";try{c=Object(g.a)(n)}catch(b){}(c=String(c)).length>0?G("".concat(n," = ").concat(c)):G("")}else G("");if(0!==n.length){t.next=6;break}u([]),p([]),t.next=30;break;case 6:if(!(n.length<2)){t.next=11;break}u([]),p(["Type more than one characters."]),t.next=30;break;case 11:return o={query:n,archived:a},"string"===typeof r&&r.length>0&&q.includes(r)&&"everything"!==r?o.types=[r]:o.types=q.filter((function(e){return"everything"!==e})),t.prev=13,t.next=16,e.query({query:T.g,variables:o});case 16:if(i=t.sent,s=i.errors,l=i.data,!(Array.isArray(s)&&s.length>0)){t.next=23;break}throw s;case 23:Array.isArray(l.blocks)?(d=l.blocks.filter((function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)})),u(d),0===d.length?p(["No results found."]):p([])):p(["Unknown error while loading blocks."]);case 24:t.next=30;break;case 26:t.prev=26,t.t0=t.catch(13),console.error("error",t.t0),u([]);case 30:case"end":return t.stop()}}),t,null,[[13,26]])})));return function(e,n,r){return t.apply(this,arguments)}}(),[e,u,p,G]),X=Object(c.useCallback)(function(){var e=Object(O.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"!==typeof(n=t.target.value||"")&&(n=""),h.current=n,K(n,k,M);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[K,k,M]);Object(c.useEffect)((function(){K(h.current,k,M)}),[K,k,M]);var Q=Object(c.useCallback)((function(){o(!1)}),[o]),Y=Object(c.useCallback)(function(){var t=Object(O.a)(v.a.mark((function t(n,r){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!1),a={type:"search",properties:{text:h.current,chosenResult:{index:r,blockId:n._id}}},t.prev=2,t.next=5,e.mutate({mutation:L.c,variables:{block:a}});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.error("error",t.t0);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}(),[o,e]);return Object($.jsx)(x.a,{open:r,onClose:Q,hideBackdrop:!0,BackdropProps:{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}}},children:Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:B.a.backdrop,onClick:Q}),Object($.jsxs)("div",{className:B.a.dialog,children:[Object($.jsxs)("div",{style:{position:"sticky",top:0,zIndex:2,background:"var(--background)"},children:[Object($.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object($.jsx)("input",{autoFocus:!0,onFocus:function(e){return e.currentTarget.select()},type:"search",placeholder:"Search\u2026",className:B.a.searchInput,defaultValue:h.current,onChange:X,onKeyDown:J,style:{}}),Object($.jsx)("button",{className:"hasIcon",onClick:Q,style:{margin:"0 var(--basis_x2) 0 calc(-4 * var(--basis))"},children:Object($.jsx)(S.a,{className:"icon"})})]}),Object($.jsx)(P.a,{defaultValue:k,items:q.map((function(e){return{value:e,title:Object($.jsx)(D.a,{id:"block_menu_type_label_plural_"+e}),icon:Object($.jsx)("span",{className:"icon",children:F[e]})}})),onChange:w,className:B.a.filters})]}),Object($.jsxs)("div",{className:B.a.searchResults,style:{display:"string"===typeof h.current&&h.current.length>1||Array.isArray(j)&&j.length>0||Array.isArray(l)&&l.length>0?"block":"none"},children:["string"===typeof W&&W.length>0?Object($.jsx)("div",{className:B.a.mathResult,children:W}):null,"string"===typeof h.current&&h.current.length>1?Object($.jsxs)("button",{onClick:function(){return z(!M)},className:!0===M?"default hasIcon":" hasIcon",style:{margin:"0"},children:[Object($.jsx)("span",{className:"icon",children:Object($.jsx)(I.a,{})}),!0===M?Object($.jsx)(D.a,{id:"filter_menu_showing_archiv"}):Object($.jsx)(D.a,{id:"filter_menu_show_archiv"})]}):null,"string"===typeof h.current&&h.current.length>1&&(Array.isArray(j)&&j.length>0||Array.isArray(l)&&l.length>0)?Object($.jsx)("hr",{}):null,Array.isArray(j)&&j.length>0?Object($.jsx)("div",{className:B.a.searchErrors,children:j.map((function(e){return Object($.jsx)("p",{children:e},e)}))}):null,Array.isArray(l)&&l.length>0?Object($.jsx)("div",{children:l.map((function(e,t){return Object($.jsxs)("div",{className:B.a.blockRow,style:{display:"flex",alignItems:"center",flexDirection:"row"},children:[Object($.jsx)(N.a,{size:"card",block:e,onClick:function(){return Y(e,t)}}),Object($.jsx)("div",{className:B.a.blockRowActions,children:Object($.jsx)(E.a,{block:e,trigger:function(e){return Object($.jsx)("button",Object(f.a)(Object(f.a)({},e),{},{className:"text hasIcon",style:{margin:"0",padding:"var(--basis) 0",flexShrink:"0"},children:Object($.jsx)(A.a,{className:"icon"})}))}})})]},e._id)}))}):null]})]})]})})},M=n(15),z=n(51),H=n(130),U=n(40),W=n(203),G=n(171),J=n(80),K=n(152),X=n(46),Q=n.n(X),Y=n(440),Z=n(448),ee=n(83),te=Object(c.lazy)((function(){return n.e(1).then(n.bind(null,525))})),ne=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,466))}));var re=function(){var e=Object(c.useRef)(!1),t=Object(D.c)(),n=t.getString,r=t.translateBlock,o=t.userLocales,i=Object(J.a)().loggedIn,s=Object(W.a)(),l=Object(G.a)(),u=Object(b.h)().id,d=void 0===u?"":u,j=d;if(d.includes("=")){var h=d.split("="),g=Object(a.a)(h,2)[1];j=g}var m=Object(c.useState)({type:"page",properties:{},content:[]}),x=Object(a.a)(m,2),y=x[0],_=x[1],k=y.properties||{},w=Object(c.useState)([]),S=Object(a.a)(w,2),I=S[0],A=S[1],C=Object(c.useState)([]),B=Object(a.a)(C,2),E=B[0],P=B[1],R=Object(c.useState)(k.locale||o||["en"]),T=Object(a.a)(R,2),L=T[0],F=T[1],q=Object(c.useCallback)((function(e){F([e])}),[F]),V=Object(c.useState)(null),X=Object(a.a)(V,2),re=X[0],ae=X[1],ce=Object(c.useCallback)((function(e){ae(e),window.umami&&"object"===typeof e&&null!==e&&e.hasOwnProperty("code")&&"string"===typeof e.code&&window.umami.trackEvent("E: "+e.code)}),[ae]);if(Object(c.useEffect)((function(){var t=y.properties||{};!1!==e.current||"string"!==typeof j||""===j||j===y._id||j===t.slug||null!==re&&re.for_slugOrId===j||(e.current=!0,s(j).then(function(){var t=Object(O.a)(v.a.mark((function t(n){var r,a,c,o,i,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("object"===typeof n&&null!==n){t.next=5;break}ce({code:"404",for_slugOrId:j}),e.current=!1,t.next=23;break;case 5:if(r=n,!(Array.isArray(n.content)&&n.content.length>0)){t.next=16;break}if(a=Object(M.a)(n.content),c=n.content.filter((function(e){return!e.hasOwnProperty("block")})).map((function(e){return e.blockId})),o=[],!(c.length>0)){t.next=14;break}return t.next=13,l({ids:c});case 13:o=t.sent;case 14:a=a.map((function(e){return e.hasOwnProperty("block")||(e.block=o.find((function(t){return t._id===e.blockId}))),e})),r=Object(f.a)(Object(f.a)({},r),{},{content:a});case 16:i=(r.content||[]).map((function(e){return e.block})),s=Object(M.a)(new Set([n].concat(Object(M.a)(i)).filter(Boolean).flatMap((function(e){var t=(null===e||void 0===e?void 0:e.properties)||{};return[t.locale||null].concat(Object(M.a)((t.translations||[]).filter((function(e){return e.text&&e.text.length>0})).map((function(e){return e.locale}))))})).filter(Boolean))),P(s),ce(null),_(r),A(i),e.current=!1;case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.error(t),ce(Object(f.a)(Object(f.a)({},t),{},{for_slugOrId:j})),e.current=!1})))}),[re,j,y,y._id,s,_,l,A,P,ce]),null!==re&&re.for_slugOrId===j)return Object($.jsxs)("div",{className:Q.a.viewer,children:[Object($.jsx)(K.a,{block:null,title:"Error",rightActions:null}),Object($.jsx)("div",{className:"basis_x1 ".concat(Q.a.app," ").concat(Q.a.spine_aligned),dir:"auto",children:Object($.jsxs)("main",{className:"".concat(Q.a.contentWrapper),children:["300"===re.code?Object($.jsxs)($.Fragment,{children:[Object($.jsx)("h1",{children:Object($.jsx)(D.a,{id:"error_300_title"})}),Object($.jsx)("br",{}),Object($.jsx)("p",{children:Object($.jsx)(D.a,{id:"error_300_description"})}),Object($.jsx)("br",{}),re.blocks.map((function(e){return Object($.jsx)(N.a,{block:e,forceId:!0,pathSuffix:"view"},e._id)}))]}):null,"403"===re.code?Object($.jsx)(c.Suspense,{children:Object($.jsx)(te,{errorName:"no_access"})}):null,"404"===re.code?Object($.jsx)(c.Suspense,{children:Object($.jsx)(te,{errorName:"not_found"})}):null]})})]});var oe=y.type||null,ie=r(y,L,n("placeholder_headline_empty")),se=Object(U.getImageUrl)(k.coverphoto),le=k.pronouns||"",ue=Object($.jsx)($.Fragment,{children:Object($.jsxs)("div",{className:"buttonRow",style:{whiteSpace:"nowrap"},children:[i&&!!y._id&&Object($.jsx)(z.b,{to:"/".concat(y._id,"/edit"),style:{marginRight:"var(--basis_x2)"},children:Object($.jsxs)("button",{className:"text hasIcon",children:[Object($.jsx)(Y.a,{className:"icon"}),Object($.jsx)("span",{className:"hideOnSmallScreen",style:{verticalAlign:"middle"},children:Object($.jsx)(D.a,{id:"edit_block"})})]})}),Object($.jsx)("button",{className:"default hasIcon",onClick:function(){var e=new CustomEvent("open_search");window.dispatchEvent(e)},title:"Search (\u2318K / Ctrl+K)",children:Object($.jsx)(Z.a,{className:"icon"})}),E.length>1?Object($.jsx)(c.Suspense,{children:Object($.jsx)(ne,{onChange:q,defaultValue:L[0]||o[0]||"en",options:E})}):null]})}),de={__html:Object(ee.a)(ie)},be="";"string"===typeof se&&se.length>0&&(be="".concat(window.domains.backend,"download_url?f=jpg&w=1000&h=1000&url=").concat(encodeURIComponent(se)));var je=null;if(k.hasOwnProperty("icon")&&"object"===typeof k.icon&&null!==k.icon&&!Array.isArray(k.icon)&&k.icon.hasOwnProperty("type")&&"string"===typeof k.icon.type&&"emoji"===k.icon.type&&k.icon.hasOwnProperty("emoji")&&"string"===typeof k.icon.emoji&&0!==k.icon.emoji.length&&(je=Object($.jsx)(H.a,{className:"".concat(Q.a.icon," ").concat(""===se?"":Q.a.coverphotoIsSet),emoji:k.icon.emoji})),null===je){var pe=Object(U.getImageUrl)(k.icon);"string"===typeof pe&&0!==pe.length&&(je=Object($.jsx)("div",{style:{backgroundImage:"url(".concat(window.domains.backend,"download_url?f=").concat(window.imageFormat||"jpg","&w=400&h=400&url=").concat(encodeURIComponent(pe),")")},className:"".concat(Q.a.icon," ").concat(""===se?"":Q.a.coverphotoIsSet)}))}return Object($.jsxs)("div",{className:Q.a.viewer,children:[Object($.jsxs)(p.a,{children:[Object($.jsx)("title",{children:ie}),Object($.jsx)("meta",{name:"title",content:ie}),Object($.jsx)("meta",{name:"og:title",content:ie}),Object($.jsx)("meta",{name:"twitter:title",content:ie}),Object($.jsx)("meta",{name:"description",content:""}),Object($.jsx)("meta",{property:"og:description",content:""}),Object($.jsx)("meta",{name:"twitter:description",content:""}),Object($.jsx)("meta",{property:"og:image",content:be}),Object($.jsx)("meta",{name:"twitter:image",content:be}),Object($.jsx)("meta",{property:"twitter:card",content:"summary"})]}),Object($.jsx)(K.a,{block:y,rightActions:ue}),Object($.jsxs)("div",{className:"basis_0_8 ".concat(Q.a.app," ").concat(Q.a.spine_aligned),dir:"auto",children:["page"!==oe&&"person"!==oe&&"redirect"!==oe||""===se?null:Object($.jsx)("div",{style:{backgroundImage:"url(".concat(window.domains.backend,"download_url?f=").concat(window.imageFormat||"jpg","&w=1400&h=400&url=").concat(encodeURIComponent(se),")")},className:Q.a.coverphoto}),Object($.jsxs)("main",{className:"".concat(Q.a.contentWrapper),children:["page"===oe||"person"===oe||"redirect"===oe?je:null,""!==ie?Object($.jsx)("h1",{dir:"auto",dangerouslySetInnerHTML:de,style:{whiteSpace:"pre-wrap"}}):null,"person"===oe&&""!==le?Object($.jsx)("p",{dir:"auto",children:Object($.jsx)("strong",{style:{padding:"var(--basis)",display:"inline-block",backgroundColor:"rgba(var(--on-background-rgb), var(--alpha-less))"},children:le})}):null,Object($.jsx)("div",{className:Q.a.items,children:I.filter((function(e){return!!e})).filter((function(e){return!1!==e.properties.active})).map((function(e){return Object($.jsx)(N.a,{block:e,locales:L},e._id)}))})]})]})]})},ae=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(5)]).then(n.bind(null,526))}));var ce=function(){var e=Object(b.f)("/"),t=Object(b.e)(),n=Object(c.useState)({}),r=Object(a.a)(n,2),o=r[0],i=r[1];Object(c.useEffect)((function(){var e="",n=t.pathname.split("/").filter((function(e){return e.length>0}));if(n.length>0){var r=n.pop(),a=r,c="view";("edit"===r||"view"===r)&&n.length>0&&(c=r,a=n.pop()),e="/".concat(a,"/").concat(c),"search"===a&&window.dispatchEvent(new CustomEvent("open_search"))}o.pathname!==e&&i({pathname:e})}),[t,o,i]);var s="VoltLink",l="VoltLink is an information-hub about Volt Europa.";return Object($.jsx)($.Fragment,{children:Object($.jsx)("div",{className:"".concat(d.a.app," ").concat(e?d.a.isStartpage:""),children:Object($.jsxs)(j.d,{children:[e?null:Object($.jsx)(j.b,{}),Object($.jsxs)(j.a,{children:[Object($.jsx)(V,{}),Object($.jsxs)(b.c,{location:o,children:[Object($.jsx)(b.a,{path:"/:id/view",element:Object($.jsx)(re,{})}),Object($.jsx)(b.a,{path:"/:id/edit",element:Object($.jsx)(c.Suspense,{children:Object($.jsx)(ae,{})})}),Object($.jsx)(b.a,{path:"/",element:Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(p.a,{children:[Object($.jsx)("title",{children:s}),Object($.jsx)("meta",{name:"title",content:s}),Object($.jsx)("meta",{name:"og:title",content:s}),Object($.jsx)("meta",{name:"twitter:title",content:s}),Object($.jsx)("meta",{name:"description",content:l}),Object($.jsx)("meta",{name:"og:description",content:l}),Object($.jsx)("meta",{name:"twitter:description",content:l})]}),Object($.jsx)(j.c,{})]})})]})]})]})})})},oe=(n(333),n(154)),ie=n(451),se=n(220),le=n(461),ue=n(99),de=n(454),be=n(455),je=n(452);window.process={},window.env="prod",window.domains={frontend:"https://volt.link/",backend:"https://api.volt.link/"};var pe=new de.a({uri:window.domains.backend+"graphql/v1/",cache:new be.a,credentials:"include",defaultOptions:{watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}}});function fe(){var e=Object(c.useState)(navigator.languages),t=Object(a.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(null),u=Object(a.a)(s,2),d=u[0],b=u[1];Object(c.useEffect)((function(){var e=window.localStorage.getItem("locale")||null;i("string"===typeof e&&""!==e?[e]:navigator.languages)}),[i]),Object(c.useEffect)((function(){if(window.umami){var e=navigator.languages;if(e||Array.isArray(e)){var t,n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,c=(a=a.toLowerCase()).split("-")[0];"string"===typeof c&&""!==c&&window.umami.trackEvent("L: "+c)}}catch(o){n.e(o)}finally{n.f()}}}}),[]);var j=Object(c.useCallback)((function(e){i([e.target.dataset.locale])}),[i]),p=Object(c.useCallback)((function(e){b(e.length>0?e[0]:"")}),[b]);Object(c.useEffect)((function(){var e=function(e){var t=(e.detail||{}).locale||null;null===t?n&&Array.isArray(n)&&n.length>0&&(i(navigator.languages),window.localStorage.removeItem("locale")):(i([t]),window.localStorage.setItem("locale",t))};return window.addEventListener("change_locale",e),function(){window.removeEventListener("change_locale",e)}}),[n,i]);var f=Object(ie.a)("(prefers-color-scheme: dark)"),O=o.a.useMemo((function(){return Object(se.a)({palette:{mode:f?"dark":"light"}})}),[f]);return Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{id:"react-notification",style:{zIndex:"10000"}},"react-notification"),Object($.jsx)(oe.a,{userLocales:n,onLocaleChange:p,children:Object($.jsx)(je.a,{client:pe,children:Object($.jsx)(le.a,{theme:O,children:Object($.jsx)(ue.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},style:{minWidth:"unset"},classes:{variantSuccess:"".concat(l.a.snackbar," ").concat(l.a.success),variantError:"".concat(l.a.snackbar," ").concat(l.a.error),variantWarning:"".concat(l.a.snackbar," ").concat(l.a.warning),variantInfo:"".concat(l.a.snackbar," ").concat(l.a.info)},domRoot:document.getElementById("react-notification"),children:Object($.jsx)(z.a,{children:Object($.jsx)(ce,{locales:oe.b,currentLocale:d,onLanguageChange:j})})})})})},"AppLocalizationProvider")]})}var Oe=document.getElementById("root");Object(i.createRoot)(Oe).render(Object($.jsx)(fe,{}))},40:function(e,t){function n(e){if(e.startsWith("#")&&(e=e.substring(1)),3===e.length)e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2);else if(6!==e.length)throw new Error("Invalid hex color: "+e);for(var t=[],n=0;n<=2;n++)t[n]=parseInt(e.substr(2*n,2),16);return t}function r(e){return function(e){var t="string"===typeof e?n(e):e;return.2126*t[0]+.7152*t[1]+.0722*t[2]}(e)>=165?"000":"fff"}function a(e){var t;return t=function(e){var t,n;return(t=document.createElement("canvas")).height=1,t.width=1,(n=t.getContext("2d")).fillStyle=e,n.fillRect(0,0,1,1),n.getImageData(0,0,1,1).data}(e),"#"+[0,1,2].map((function(e){return("0"+t[e].toString(16)).slice(-2)})).join("")}e.exports={getImageUrl:function(e){return"object"!==typeof e||null===e||Array.isArray(e)||"url"!==e.type?"":e.url||""},getBlockColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={color:null,colorRGB:null,contrastingColor:null,contrastingColorRGB:null};if(e.properties=e.properties||{},e.hasOwnProperty("properties")&&e.properties.hasOwnProperty("color")&&e.properties.color){var c=["purple","red","green","blue","yellow"],o=e.properties.color;if(c.includes(o))t.color="var(--".concat(o,")"),t.colorRGB="var(--".concat(o,"-rgb)"),t.contrastingColor="var(--on-".concat(o,")"),t.contrastingColorRGB="var(--on-".concat(o,"-rgb)");else{if(o.startsWith("#"))4!==o.length&&7!==o.length&&(o=null);else{var i=a(o);o="#000000"===i&&"black"!==o?null:i}if(o){t.color=o;var s=n(o);t.colorRGB=s.join(", "),t.contrastingColor="#"+r(o),t.contrastingColorRGB=n(t.contrastingColor)}}}return t}}},46:function(e,t,n){e.exports={app:"Viewer_app__1_jMF",spine_aligned:"Viewer_spine_aligned__2mJuq",items:"Viewer_items__2FgjF",coverphoto:"Viewer_coverphoto__16R-U",icon:"Viewer_icon__219E5",coverphotoIsSet:"Viewer_coverphotoIsSet__26PSP",contentWrapper:"Viewer_contentWrapper__1HLN8",type_p:"Viewer_type_p__O5DZS",viewer:"Viewer_viewer__JHrvB"}},52:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return m})),n.d(t,"g",(function(){return x}));var r,a,c,o,i,s,l,u,d,b,j=n(33),p=n(49),f=Object(p.a)(r||(r=Object(j.a)(["\n  query getBlock ($_id: ObjectID!) {\n    block (_id: $_id) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n        block {\n          _id\n          type\n          properties\n          content {\n            blockId\n          }\n          parent\n          metadata {\n            modified\n            modified_by\n          }\n          permissions\n          computed {\n            roles\n            inherited_block_permissions\n          }\n        }\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),O=Object(p.a)(a||(a=Object(j.a)(["\n  query getBlocks ($ids: [String], $slugs: [String], $types: [String], $archived: Boolean, $roots: [ObjectID], $roles: [String]) {\n    blocks (ids: $ids, slugs: $slugs, types: $types, archived: $archived, roots: $roots, roles: $roles) {\n      _id\n      type\n      properties\n      content {\n        blockId\n      }\n      parent\n      metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),h=Object(p.a)(c||(c=Object(j.a)(["\n  query getBlocks ($ids: [String], $slugs: [String], $types: [String], $archived: Boolean, $roots: [ObjectID] $roles: [String]) {\n    blocks (ids: $ids, slugs: $slugs, types: $types, archived: $archived, roots: $roots, roles: $roles) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n        block {\n          _id\n          type\n          properties\n          content {\n            blockId\n          }\n          parent\n          metadata {\n            modified\n            modified_by\n          }\n          permissions\n          computed {\n            roles\n            inherited_block_permissions\n          }\n        }\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),v=(Object(p.a)(o||(o=Object(j.a)(["\n  query getBlockBySlug ($slug: String!) {\n    block: blockBySlug (slug: $slug) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n        block {\n          _id\n          type\n          properties\n          content {\n            blockId\n          }\n          parent\n          metadata {\n            modified\n            modified_by\n          }\n          permissions\n          computed {\n            roles\n            inherited_block_permissions\n          }\n        }\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),Object(p.a)(i||(i=Object(j.a)(["\n  query getSelf {\n    self {\n\t\t  logged_in\n\t\t  user\n\t\t  blockId\n      userroles\n    }\n  }\n"])))),g=(Object(p.a)(s||(s=Object(j.a)(["\n  query getSiblingBlocks ($_id: ObjectID!, $types: [String]) {\n    blocks: siblingBlocks (_id: $_id, types: $types) {\n      _id\n      type\n      properties\n    }\n  }\n"]))),Object(p.a)(l||(l=Object(j.a)(["\n  query getParentBlocks ($_id: ObjectID!) {\n    blocks: parentBlocks (_id: $_id) {\n      _id\n      type\n      properties\n      computed {\n        sort\n      }\n    }\n  }\n"])))),m=(Object(p.a)(u||(u=Object(j.a)(["\n  query blockMatchesRoles ($_id: ObjectID!, $roles: [String]) {\n    blockMatchesRoles (_id: $_id, roles: $roles)\n  }\n"]))),Object(p.a)(d||(d=Object(j.a)(["\n  query checkSlug ($slug: String!) {\n    checkSlug (slug: $slug) {\n      isOkay\n      errors\n      existsAsSlug\n      existsAsId\n    }\n  }\n"])))),x=Object(p.a)(b||(b=Object(j.a)(["\n  query search ($query: String!, $types: [String], $archived: Boolean) {\n    blocks: search (query: $query, types: $types, archived: $archived) {\n      _id\n      type\n      properties\n      content {\n        blockId\n      }\n      parent\n      metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"])))},58:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return b}));var r,a,c,o,i=n(33),s=n(49),l=Object(s.a)(r||(r=Object(i.a)(["\n  mutation saveBlock ($block: InputBlock!) {\n    saveBlock (block: $block) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n        block {\n          _id\n          type\n          properties\n          content {\n            blockId\n          }\n          parent\n          metadata {\n            modified\n            modified_by\n          }\n          permissions\n          computed {\n            roles\n            inherited_block_permissions\n          }\n        }\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        modified_by\n      }\n      permissions\n      computed {\n        roles\n        inherited_block_permissions\n      }\n    }\n  }\n"]))),u=Object(s.a)(a||(a=Object(i.a)(["\n  mutation archiveBlock ($_id: ObjectID!) {\n    archiveBlock (_id: $_id)\n  }\n"]))),d=Object(s.a)(c||(c=Object(i.a)(["\n  mutation unarchiveBlock ($_id: ObjectID!) {\n    unarchiveBlock (_id: $_id)\n  }\n"]))),b=Object(s.a)(o||(o=Object(i.a)(["\n  mutation moveBlock ($movingBlockId: ObjectID!, $newParentId: ObjectID!, $newIndex: Int!) {\n    moveBlock(movingBlockId: $movingBlockId, newParentId: $newParentId, newIndex: $newIndex)\n  }\n"])))},70:function(e,t,n){e.exports={dialog:"SearchBox_dialog__1znAI",backdrop:"SearchBox_backdrop__2e5Wz",inputWrapper:"SearchBox_inputWrapper__24CrI",input:"SearchBox_input__1qb9w",actions:"SearchBox_actions__4Zrwb",searchInput:"SearchBox_searchInput__3M4FI",filters:"SearchBox_filters__1axwa",searchResults:"SearchBox_searchResults__3ySIT",searchErrors:"SearchBox_searchErrors__1Q8W1",mathResult:"SearchBox_mathResult__YFSbr",blockRow:"SearchBox_blockRow__13jhD",blockRowActions:"SearchBox_blockRowActions__1FRMH",fakeHover:"SearchBox_fakeHover__30G2t"}},75:function(e,t,n){e.exports={snackbar:"Snackbar_snackbar__119_w",default:"Snackbar_default__31-eU",success:"Snackbar_success__zvTW8",error:"Snackbar_error__3XeD6",warning:"Snackbar_warning__2CBXt",info:"Snackbar_info__EuVSN"}},76:function(e,t,n){e.exports={icon:"BlockIcon_icon__1wJFr",square:"BlockIcon_square__11KYn",round:"BlockIcon_round__1sKzE"}},79:function(e,t,n){"use strict";var r=n(6),a=n(21),c=n(5),o=n(24),i=n(10),s=n.n(i),l=n(0),u=n(16),d=n(55),b=n(123),j=n.n(b),p=n(1);function f(e,t){var n,r={},a=Object(u.a)(t);try{for(a.s();!(n=a.n()).done;){var c=n.value;e.hasType(c)&&(r[c]="application/json"===c?JSON.parse(e.getData(c)):e.getData(c))}}catch(o){a.e(o)}finally{a.f()}return{data:r,transmat:e}}function O(e){var t=e.onTransmit,n=e.onReceive,r=e.checkEntry,c=e.draggable,o=e.style,i=e.className,b=e.children,O=e.mimetypes,h=void 0===O?["application/json"]:O,v=Object(l.useRef)(null);return Object(l.useEffect)((function(){var e=Object(d.addListeners)(v.current,"transmit",function(){var e=Object(a.a)(s.a.mark((function e(n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new d.Transmat(n),"function"!==typeof t){e.next=6;break}return e.next=4,t(r);case 4:"object"!==typeof(a=e.sent)||null===a||Array.isArray(a.data)||"object"!==typeof a.data||null===a.data||r.setData(a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c=Object(d.addListeners)(v.current,"receive",(function(e){var t=new d.Transmat(e),a=f(t,h),c=!1;"function"===typeof r&&(c=r(a)),t.accept()&&(c&&"function"===typeof n&&n(a),e.preventDefault())})),o=new d.TransmatObserver((function(e){var t,n=Object(u.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,c=f(new d.Transmat(a.event),h),o=!1;"function"===typeof r&&(o=r(c)),o&&(a.target.classList.toggle(j.a.drag_over,a.isTarget),a.target.classList.toggle(j.a.drag_active,a.isActive))}}catch(i){n.e(i)}finally{n.f()}}));return o.observe(v.current),function(){e(),c(),o.disconnect()}}),[t,n,r,h]),Object(p.jsx)("div",{ref:v,style:o,className:i,draggable:c?"true":"false",tabIndex:"0",children:b})}var h=n(83),v=n(18),g=n(40),m=n(442),x=n(443);var y=function(e){var t=e.block,n=e.style,a=e.locales,o=Object(l.useState)({__html:""}),i=Object(c.a)(o,2),s=i[0],u=i[1],d=(0,Object(v.c)().translateBlock)(t,a,"");Object(l.useEffect)((function(){var e=Object(h.a)(d);u({__html:e})}),[d,u]);var b={dir:"auto",style:Object(r.a)({whiteSpace:"pre-wrap",display:"flex"},n)},j=Object(g.getBlockColor)(t).color;j&&(b.style.color=j);var f="body";t.properties.hasOwnProperty("text_style")&&(f=t.properties.text_style);var O=(t||{}).properties||{},y=O.text_decorations,_=void 0===y?[]:y,k=O.checked,w=[];if(_.includes("checkbox")){var S={key:"checkbox",style:{margin:"var(--basis_x0_2) var(--basis) 0 0",height:"var(--prefix-icon-size)",width:"var(--prefix-icon-size)"}};k?w.push(Object(p.jsx)(m.a,Object(r.a)({},S))):w.push(Object(p.jsx)(x.a,Object(r.a)({},S)))}var I=Object(p.jsx)("span",{dangerouslySetInnerHTML:s}),A=null;switch(f){case"h1":A=Object(p.jsxs)("h1",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}));break;case"h2":A=Object(p.jsxs)("h2",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}));break;case"h3":A=Object(p.jsxs)("h3",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}));break;case"caption":A=Object(p.jsxs)("caption",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}));break;default:A=Object(p.jsxs)("p",Object(r.a)(Object(r.a)({},b),{},{children:[w,I]}))}return Object(p.jsx)("div",{style:{display:"flex"},children:A})};var _=function(e){var t=e.block,n=e.clickable,a=void 0===n||n,o=e.locales,i=Object(l.useState)({__html:""}),s=Object(c.a)(i,2),u=s[0],d=s[1],b=Object(v.c)(),j=b.getString,f=(0,b.translateBlock)(t,o,j("placeholder_headline_empty"));Object(l.useEffect)((function(){var e=Object(h.a)(f,{linkify:!1});d({__html:e})}),[f,d]);var O="";t&&t.properties&&t.properties.url&&(O=t.properties.url);var m=Object(g.getBlockColor)(t),x=m.color,y=m.contrastingColor,_={};return x&&(_["--button-background"]=x,_["--button-color"]=y),!0===a&&""!==O?Object(p.jsx)("a",{href:O,target:"_blank",rel:"noreferrer",children:Object(p.jsx)("button",{dir:"auto",dangerouslySetInnerHTML:u,className:"default square",style:Object(r.a)({margin:"0",whiteSpace:"pre-wrap"},_)})}):Object(p.jsx)("button",{dir:"auto",dangerouslySetInnerHTML:u,disabled:"disabled",className:"default square",style:Object(r.a)({margin:"0",whiteSpace:"pre-wrap"},_)})};function k(e){var t=e.block,n=Object(g.getBlockColor)(t).color,r={};return n&&(r["--on-background"]=n),Object(p.jsx)("hr",{style:r})}var w=n(15);var S=n(51),I=n(84),A=n.n(I),C=n(202);function B(e){return e.toISOString().replace("T"," ").replace(/(:[^:]*?)$/,"")}var E=function(e){var t=e.block,n=e.clickable,a=void 0===n||n,o=e.onClick,i=e.locales,s=e.forceId,u=e.pathSuffix,d=e.size,b=void 0===d?"line":d,j=Object(v.c)(),f=j.getString,O=j.translateBlock,h=j.userLocales,m=(null===t||void 0===t?void 0:t.type)||"unknown",x=t.properties||{},y=x.slug||"",_=function(e){var t=e.block,n=void 0===t?null:t,r=e.forceId,a=void 0!==r&&r,o=e.pathSuffix,i=void 0===o?"":o,s=Object(l.useState)(null),u=Object(c.a)(s,2),d=u[0],b=u[1],j=Object(l.useState)(null),p=Object(c.a)(j,2),f=p[0],O=p[1];return Object(l.useEffect)((function(){var e=null,t=null,r=i.trim().toLowerCase();"view"===r&&(r="");var c=r;if(c.length>0&&(c="/".concat(c)),null!==n){var o=n._id,s=n.type,l=n.properties||{},u=l.slug||"",d=l.url||"";("redirect"===s||"website"===s)&&"string"===typeof d&&d.length>0&&""===r?(e=d,t=null):"string"===typeof u&&u.length>0?!0===a?(e="".concat(window.domains.frontend).concat(u,"=").concat(o).concat(c),t="/".concat(u,"=").concat(o).concat(c)):(e="".concat(window.domains.frontend).concat(u).concat(c),t="/".concat(u).concat(c)):(e="".concat(window.domains.frontend).concat(o).concat(c),t="/".concat(o).concat(c))}b(e),O(t)}),[n,a,i,b,O]),{link:d,path:f}}({block:t,forceId:s,pathSuffix:u}),k=_.link,I=_.path,E=O(t,i||h,""),N=[];if("page"===m||"redirect"===m||"person"===m)""===E&&"string"===typeof y&&""!==y&&N.push(Object(p.jsx)("div",{importance:"less",children:"/"+y},"slug"));else if("website"===m)x.hasOwnProperty("url")&&"string"===typeof x.url&&x.url.length>0&&N.push(Object(p.jsx)("div",{style:{fontSize:"calc(0.6 * var(--body-font-size))",margin:"var(--basis_x0_5) 0"},children:Object(p.jsx)("em",{children:x.url})},"url")),x.hasOwnProperty("description")&&"string"===typeof x.description&&x.description.length>0&&N.push(Object(p.jsx)("div",{importance:"less",children:x.description},"description"));else if("apikey"===m)if(x.hasOwnProperty("nbf")&&x.hasOwnProperty("exp")){var P=new Date(x.nbf),R=new Date(x.exp);N.push(Object(p.jsx)("div",{children:f("apikey_validity",{from:B(P),to:B(R)})},"nbf_and_exp"))}else if(x.hasOwnProperty("nbf")){var T=new Date(x.nbf);N.push(Object(p.jsx)("div",{children:f("apikey_validity_from",{from:B(T)})},"nbf"))}else if(x.hasOwnProperty("exp")){var L=new Date(x.exp);N.push(Object(p.jsx)("div",{children:f("apikey_validity_to",{to:B(L)})},"exp"))}if("website"===m&&x.hasOwnProperty("tags")&&Array.isArray(x.tags)){var D=Object(w.a)(new Set(x.tags)).filter((function(e){return"string"===typeof e&&e.length>0})).map((function(e){return Object(p.jsx)("span",{className:A.a.tag,children:e},e)}));N.push(Object(p.jsx)("div",{style:{margin:"var(--basis_x0_5) calc(-1 * var(--basis_x0_5))"},children:D},"tags"))}""===E&&0===N.length&&(E=f("placeholder_headline_empty")),"line"===b&&(""!==E?N=[]:0===N.length&&(N=[N[0]]));var $=Object(p.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[Object(p.jsx)(C.a,{block:t}),Object(p.jsxs)("div",{className:A.a.content,children:[Object(p.jsx)("div",{dir:"auto",className:A.a.title,children:E}),N.length>0?Object(p.jsx)("div",{dir:"auto",className:A.a.additionalInfos,children:N}):null]})]}),F=I||k,q=Object(g.getBlockColor)(t),V=q.color,M=void 0===V?"inherit":V,z=q.colorRGB,H=void 0===z?"--on-background-rgb":z,U={};return"function"===typeof o&&(U.onClick=o),!0===a&&"string"===typeof F&&F.length>0?F.includes(":")?Object(p.jsx)("a",Object(r.a)(Object(r.a)({href:F,target:"_blank",rel:"noreferrer",title:E,className:"clickable_card ".concat(A.a.root),style:{display:"block",cursor:"pointer",color:M,"--on-background-rgb":H}},U),{},{children:$})):Object(p.jsx)(S.b,Object(r.a)(Object(r.a)({to:F,title:E,className:"clickable_card ".concat(A.a.root),style:{display:"block",cursor:"pointer",color:M,"--on-background-rgb":H}},U),{},{children:$})):Object(p.jsx)("div",Object(r.a)(Object(r.a)({title:E,className:"clickable_card ".concat(A.a.root),style:{cursor:"auto",color:M,"--on-background-rgb":H}},U),{},{children:$}))};var N=function(e){var t=e.block,n=e.locales,r=Object(l.useState)({__html:""}),a=Object(c.a)(r,2),o=a[0],i=a[1],s=(0,Object(v.c)().translateBlock)(t,n,"");Object(l.useEffect)((function(){var e=Object(h.a)(s,{linkify:!1});i({__html:e})}),[s,i]);var u="";t&&t.properties&&t.properties.coverphoto&&t.properties.coverphoto.type&&"url"===t.properties.coverphoto.type&&t.properties.coverphoto.url&&(u=t.properties.coverphoto.url);var d="";return"string"===typeof u&&u.length>0&&(d="".concat(window.domains.backend,"download_url?f=").concat(window.imageFormat||"jpg","&w=1000&h=1000&url=").concat(encodeURIComponent(u))),""!==d?Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:d,alt:s,title:s,style:{maxWidth:"100%",margin:"0 auto",display:"block",boxShadow:"inset 0 0 0 1px rgba(var(--on-background-rgb), var(--alpha-less))"}}),Object(p.jsx)("div",{dir:"auto",dangerouslySetInnerHTML:o,className:"type_caption",style:{textAlign:"center",marginTop:"var(--basis_x0_5)"}})]}):null},P=n(217),R=n.n(P),T=n(58),L=n(136),D=n(108),$=n(52),F=n(99);var q=function(){var e=Object(v.c)().getString,t=Object(D.a)(),n=Object(F.b)(),r=n.enqueueSnackbar,c=n.closeSnackbar,o=Object(l.useCallback)((function(n){return new Promise((function(o){var i=null;if(n&&""!==n){var l=new Promise((function(e){var l=null;"object"!==typeof window.SERVER_DATA||null===window.SERVER_DATA||Array.isArray(window.SERVER_DATA)||(l=window.SERVER_DATA.preloaded_block||null),"object"===typeof l&&null!==l&&l.hasOwnProperty("_id")&&l._id===n?(window.SERVER_DATA={preloaded_block:null},e("got-preloaded-data"),o(l)):t.query({query:$.b,variables:{_id:n}}).then(function(){var t=Object(a.a)(s.a.mark((function t(n){var a,l,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n.errors,l=n.data,e("got-data"),null!==i&&c(i),Array.isArray(a)?(r(a.map((function(e){return e.message})).join("\n"),{variant:"error",preventDuplicate:!0,autoHideDuration:5e3}),o(null)):null===l.block?(r("Could not load the content.",{variant:"error",preventDuplicate:!0,autoHideDuration:5e3}),o(null)):(u=l.block,o(u));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=Object(a.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.error("error",n),e("got-error"),null!==i&&c(i),r("[could not load data] "+n.message,{variant:"error",preventDuplicate:!0,autoHideDuration:2e3});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));Promise.race([new Promise((function(e){setTimeout((function(){e("show-loading")}),300)})),l]).then((function(t){"show-loading"===t&&(i=r(e("path_editor_status_started_loading"),{persist:!0,preventDuplicate:!0}))})).catch((function(e){return console.error}))}else o({type:"text"})}))}),[r,c,t,e]);return o},V=n(80),M=["blockId","block","clickable","size","dragable","parentProps"];function z(e,t){for(var n in(e=JSON.parse(JSON.stringify(e))).hasOwnProperty(t)&&delete e[t],e)e.hasOwnProperty(n)&&"object"==typeof e[n]&&null!==e[n]&&z(e[n],t);return e}t.a=function(e){var t=e.blockId,n=void 0===t?null:t,i=e.block,u=void 0===i?{}:i,d=(e.clickable,e.size),b=void 0===d?"line":d,j=e.dragable,f=void 0!==j&&j,h=e.parentProps,v=void 0===h?{}:h,g=Object(o.a)(e,M),m=null,x=Object(l.useState)(u||{}),w=Object(c.a)(x,2),S=w[0],I=w[1],A=Object(l.useRef)(!1),C=Object(V.a)().userroles,B=function(e){var t=e.keys,n=void 0===t?[]:t,r=Object(l.useRef)(new Set);return Object(l.useEffect)((function(){function e(e){var t=e.key.toLowerCase();n.includes(t)&&r.current.add(t)}function t(e){var t=e.key.toLowerCase();r.current.delete(t)}return window.addEventListener("keydown",e),window.addEventListener("keyup",t),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}}),[n]),{getPressedKeys:function(){return r.current}}}({keys:["shift"]}).getPressedKeys,P=q();switch(Object(l.useEffect)((function(){JSON.stringify(u)!==JSON.stringify(S)&&I(u||{})}),[S,u]),Object(l.useEffect)((function(){!n||S.hasOwnProperty("_id")&&n===S._id||!1!==A.current||(A.current=!0,P(n).then(function(){var e=Object(a.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof t&&null!==t){e.next=4;break}throw new Error("ViewerAuto: loadBlock returned no object");case 4:null!==t.type&&I(t);case 5:A.current=!1;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e),A.current=!1})))}),[n,S,P,I]),S.type||null){case"text":m=Object(p.jsx)(y,Object(r.a)({block:S},g),S._id);break;case"button":m=Object(p.jsx)(_,Object(r.a)({block:S},g),S._id);break;case"divider":m=Object(p.jsx)(k,Object(r.a)({block:S},g),S._id);break;case"page":case"person":case"redirect":case"website":case"apikey":m=Object(p.jsx)(E,Object(r.a)({block:S,size:b},g),S._id);break;case"image":m=Object(p.jsx)(N,Object(r.a)({block:S},g),S._id);break;default:m=null}var D=Object(L.a)(),$=Object(l.useCallback)(function(){var e=Object(a.a)(s.a.mark((function e(t){var n,r,a,c,o,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,"object"!==typeof(r=((void 0===n?{}:n)||{})["application/json"])||null===r){e.next=23;break}if(a=z(a=r,"__typename"),c=S.computed.roles||[],o=a.computed.roles||[],a._id===S._id||!(C.includes("admin")||(c.includes("editor")||c.includes("owner"))&&(o.includes("editor")||o.includes("owner")))){e.next=23;break}return i=B(),l=!1,e.prev=10,e.next=13,D({mutation:T.b,variables:{movingBlockId:a._id,newParentId:S._id,newIndex:0}});case 13:if(!i.has("shift")){e.next=16;break}return e.next=16,D({mutation:T.c,variables:{block:{_id:a._id,properties:{active:!1}}}});case 16:l=!0,e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),console.error(e.t0);case 22:l&&console.log("TODO reload sidebar");case 23:case"end":return e.stop()}}),e,null,[[10,19]])})));return function(t){return e.apply(this,arguments)}}(),[D,S,B,C]),F=Object(l.useCallback)((function(e){var t=e.data,n=((void 0===t?{}:t)||{})["application/json"],r=!1;if("object"===typeof n&&null!==n&&n.hasOwnProperty("computed")&&n.computed.hasOwnProperty("roles")){var a=n.computed.roles||[];(C.includes("admin")||a.includes("editor")||a.includes("owner"))&&(r=!0)}return r}),[C]);return Object(p.jsx)(O,Object(r.a)(Object(r.a)({draggable:f,className:R.a.root,onTransmit:function(){return{data:{"text/plain":S.properties.text||"","application/json":S}}},onReceive:$,checkEntry:F},v),{},{children:m}),S._id)}},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(21),a=n(6),c=n(5),o=n(10),i=n.n(o),s=n(0),l=n(108),u=n(52),d={userroles:[]};function b(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(s.useRef)(!1);Object(s.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]);var n=Object(s.useState)(d),o=Object(c.a)(n,2),b=o[0],j=o[1],p=Object(s.useState)(!1),f=Object(c.a)(p,2),O=f[0],h=f[1],v=Object(l.a)();return Object(s.useEffect)((function(){!0!==e&&window.hasOwnProperty("user")?(j(Object(a.a)(Object(a.a)({},window.user),{},{userroles:window.user.userroles||[]})),h(window.user.logged_in)):v.query({query:u.f}).then(function(){var e=Object(r.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.data,!0===t.current&&(r.hasOwnProperty("self")&&null!==r.self?(window.user=r.self,j(Object(a.a)(Object(a.a)({},r.self),{},{userroles:r.self.userroles||[]})),h(r.self.logged_in)):(j(d),h(!1)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e),!0===t.current&&(j(d),h(!1))}))}),[e,j,h,v]),Object(a.a)(Object(a.a)({},b),{},{loggedIn:O})}},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(6),a=n(214),c=n.n(a),o=n(215),i=n.n(o),s=n(216),l=n.n(s),u=n(137);function d(e){var t=c()(Object(r.a)({html:!1,xhtmlOut:!1,linkify:!0,typographer:!0,breaks:!1},e));return t.use(i.a),t.use(l.a),t}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=(e=e||"").replace(/\(TM\)/gi,"\u2122").replace(/\(SM\)/gi,"\u2120").replace(/\(C\)/gi,"\xa9").replace(/\(R\)/gi,"\xae");var n=d(t);return e=n.renderInline(e),e=u.a.parse(e,{folder:"svg",ext:".svg",base:"/public/twemoji/assets/"})}},84:function(e,t,n){e.exports={content:"ViewerLineAndCard_content__1lFI-",title:"ViewerLineAndCard_title__2hfbo",additionalInfos:"ViewerLineAndCard_additionalInfos__2CGI1",tag:"ViewerLineAndCard_tag__XiCzV"}},92:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return v}));var r=n(13),a=n(5),c=n(0),o=n(459),i=n(20),s=function(e){var t=Object(c.useState)(!1),n=Object(a.a)(t,2),r=n[0],o=n[1];return Object(c.useEffect)((function(){var t=window.matchMedia(e);t.matches!==r&&o(t.matches);var n=function(){return o(t.matches)};return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[r,e]),r},l=n(158),u=n.n(l),d=n(1),b=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(7),n.e(8)]).then(n.bind(null,529))})),j=Object(c.createContext)({});function p(){return Object(c.useContext)(j)}function f(e){var t=e.children,n=Object(c.useState)(!1),r=Object(a.a)(n,2),o=r[0],s=r[1],l=!Object(i.f)("/")&&o,u=Object(c.useCallback)((function(){s((function(e){return!e}))}),[s]);return Object(d.jsx)(j.Provider,{value:{open:l,setOpen:s,toggleSidebar:u},children:t})}function O(){var e=p(),t=e.open,n=e.toggleSidebar,a="undefined"!==typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent),i=s("(min-width: 960px)");return t?Object(d.jsx)(o.a,{variant:i?"permanent":"temporary",anchor:"left",open:t,onOpen:n,onClose:n,disableBackdropTransition:!a,disableDiscovery:a,sx:Object(r.a)({width:320,flexShrink:0},"& .MuiDrawer-paper",{width:320,boxSizing:"border-box",backgroundColor:"var(--background-contrast)",color:"var(--on-background)",border:"none"}),PaperProps:{sx:{background:"var(--background-contrast)",color:"var(--on-background)"}},children:Object(d.jsx)(c.Suspense,{children:Object(d.jsx)(h,{})})}):null}function h(){return Object(d.jsx)(c.Suspense,{children:Object(d.jsx)(b,{})})}function v(e){var t=e.children,n=p().open;return Object(d.jsx)("main",{className:"".concat(u.a.main," ").concat(n?u.a.open:""),style:{"--sidebarWidth":"320px"},children:t})}},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(6),a=n(24),c=n(368),o=n(366),i=n(345),s=n(228),l=n(225),u=n(227),d=n(346),b=n(18),j=n(175),p=n(1),f=["closePopover","open"],O=["sx"];function h(e){var t=e.trigger,n=e.children,h=e.onToogle,v=e.paperProps,g=void 0===v?{}:v;return Object(p.jsx)(j.a,{trigger:t,onToogle:h,children:function(e){var t=e.closePopover,j=e.open,h=Object(a.a)(e,f),v=g||{},m=v.sx,x=void 0===m?{}:m,y=Object(a.a)(v,O);return Object(p.jsx)(c.a,Object(r.a)(Object(r.a)(Object(r.a)({},h),{},{sx:Object(r.a)({maxWidth:380,maxHeight:"calc(100vh - 32px)",overflow:"auto",background:"var(--background-contrast)",color:"var(--on-background)",borderRadius:"var(--basis_x2)"},x),elevation:8},y),{},{children:Object(p.jsx)(o.a,{autoFocus:!0,style:{width:"100%",maxWidth:"100%",marginTop:"-8px"},children:Object(p.jsxs)("div",{children:["function"===typeof n?n({isOpen:j,close:t}):n,Object(p.jsx)(i.a,{style:{opacity:.2,marginBottom:"8px"}}),Object(p.jsxs)(s.a,{className:"roundMenuItem",onClick:t,children:[Object(p.jsx)(l.a,{children:Object(p.jsx)(d.a,{})}),Object(p.jsx)(u.a,{children:Object(p.jsx)(b.a,{id:"block_menu_close_menu"})})]})]})})}))}})}}},[[338,3,4]]]);
//# sourceMappingURL=main.44792512.chunk.js.map